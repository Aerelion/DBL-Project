{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js??ref--13-0!/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js","mtime":1622824742812},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9iZXJrYXlrb3NlYmF5L0RvY3VtZW50cy9HaXRIdWIvREJMLVByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CgpmdW5jdGlvbiBnZW5lcmF0ZU5ldHdvcmsoZWRnZXMsIG5vZGVzKSB7CiAgdmFyIHNpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdFNlbGVjdCIpLnZhbHVlOwogIHZhciB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRXaWR0aDsKICB2YXIgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXNjb250ZW50IikuY2xpZW50SGVpZ2h0OwogIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0Q2FudmFzJykpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Q2FudmFzIikuaGVpZ2h0ID0gaDsKCiAgY29uc29sZS5sb2coc2lkZSk7CiAgdmFyIHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24obm9kZXMpLmZvcmNlKCJjaGFyZ2UiLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgoLTUwKSkuZm9yY2UoImxpbmsiLCBkMy5mb3JjZUxpbmsoKS5pZChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGQuZW1wbG95ZWVJRDsKICB9KS5saW5rcyhlZGdlcykpLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3IC8gMiwgaCAvIDIpKS5vbigidGljayIsIHRpY2tlZCk7CiAgdmFyIGNhbnZhcyA9IHRoaXMuZWxlbWVudC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoImNhbnZhcyIpWzBdOwogIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CgogIGZ1bmN0aW9uIGNvbG9yKCkgewogICAgdmFyIHNjYWxlID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApOwogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBzY2FsZShkLmdyb3VwKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTsKICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICBub2Rlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAiI2FhYSI7CiAgICBjb250ZXh0LnN0cm9rZSgpOwogICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICIjZmZmIjsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIGRyYXdOb2RlKG5vZGUpOwogICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3Iobm9kZSk7CiAgICAgICAgY29udGV4dC5maWxsKCk7CiAgICAgICAgY29udGV4dC5zdHJva2UoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZHJhd0VkZ2UoZCkgewogICAgY29udGV4dC5tb3ZlVG8oZC5zb3VyY2UueCwgZC5zb3VyY2UueSk7CiAgICBjb250ZXh0LmxpbmVUbyhkLnRhcmdldC54LCBkLnRhcmdldC55KTsKICB9CgogIGZ1bmN0aW9uIGRyYXdOb2RlKGQpIHsKICAgIGNvbnRleHQubW92ZVRvKGQueCArIDMsIGQueSk7CiAgICBjb250ZXh0LmFyYyhkLngsIGQueSwgMywgMCwgMiAqIE1hdGguUEkpOwogIH0KCiAgZnVuY3Rpb24gZHJhZ05vZGVzKHNpbXVsYXRpb24pIHsKICAgIC8vIFRoaXMgbmVlZHMgYSBsb3QgbW9yZSBvcHRpbWl6YXRpb24sIHNvIGl0IGlzIGJlaW5nIGxlZnQgb3V0IGZvciB0aGUgcHJvdG90eXBlLgogICAgZnVuY3Rpb24gZHJhZ1N1YmplY3QoZXZlbnQpIHsKICAgICAgcmV0dXJuIHNpbXVsYXRpb24uZmluZChldmVudC54LCBldmVudC55KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZChldmVudCkgewogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50LnN1YmplY3QueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnZ2VkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnRW5kZWQoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBudWxsOwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gZDMuZHJhZygpLnN1YmplY3QoZHJhZ1N1YmplY3QpLm9uKCJzdGFydCIsIGRyYWdTdGFydGVkKS5vbigiZHJhZyIsIGRyYWdnZWQpLm9uKCJlbmQiLCBkcmFnRW5kZWQpOwogIH0gLy9jb25zb2xlLmxvZyhzaW11bGF0aW9uKTsKCgogIHJldHVybiBkMy5zZWxlY3QoY29udGV4dC5jYW52YXMpLmNhbGwoZHJhZ05vZGVzKHNpbXVsYXRpb24pKS5ub2RlKCk7Cn0KCmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlTmV0d29yazs="},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js"],"names":["d3","generateNetwork","edges","nodes","side","document","getElementById","value","w","clientWidth","h","clientHeight","console","log","simulation","forceSimulation","force","forceManyBody","strength","forceLink","id","d","employeeID","links","forceCenter","on","ticked","canvas","element","shadowRoot","querySelectorAll","context","getContext","color","scale","scaleOrdinal","schemeCategory10","group","clearRect","beginPath","forEach","drawEdge","strokeStyle","stroke","node","drawNode","fillStyle","fill","moveTo","source","x","y","lineTo","target","arc","Math","PI","dragNodes","dragSubject","event","find","dragStarted","active","alphaTarget","restart","subject","fx","fy","dragged","dragEnded","drag","select","call"],"mappings":";;;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,KAAhC,EAAuC;AACrC,MAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAjD;AACA,MAAIC,CAAC,GAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCG,WAA9C;AACA,MAAIC,CAAC,GAAGL,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCK,YAA9C;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAZ,EAJqC,CAKrC;;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AAGA,MAAIU,UAAU,GAAGd,EAAE,CAChBe,eADc,CACEZ,KADF,EAEda,KAFc,CAER,QAFQ,EAEEhB,EAAE,CAACiB,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CAFF,EAGdF,KAHc,CAIb,MAJa,EAKbhB,EAAE,CACCmB,SADH,GAEGC,EAFH,CAEM,UAAUC,CAAV,EAAa;AACf,WAAOA,CAAC,CAACC,UAAT;AACD,GAJH,EAKGC,KALH,CAKSrB,KALT,CALa,EAYdc,KAZc,CAYR,QAZQ,EAYEhB,EAAE,CAACwB,WAAH,CAAehB,CAAC,GAAG,CAAnB,EAAsBE,CAAC,GAAG,CAA1B,CAZF,EAade,EAbc,CAaX,MAbW,EAaHC,MAbG,CAAjB;AAeA,MAAIC,MAAM,GAAG,KAAKC,OAAL,CAAaC,UAAb,CAAwBC,gBAAxB,CAAyC,QAAzC,EAAmD,CAAnD,CAAb;AAEA,MAAIC,OAAO,GAAGJ,MAAM,CAACK,UAAP,CAAkB,IAAlB,CAAd;;AAEA,WAASC,KAAT,GAAiB;AACf,QAAMC,KAAK,GAAGlC,EAAE,CAACmC,YAAH,CAAgBnC,EAAE,CAACoC,gBAAnB,CAAd;AACA,WAAO,UAAAf,CAAC;AAAA,aAAIa,KAAK,CAACb,CAAC,CAACgB,KAAH,CAAT;AAAA,KAAR;AACD;;AACD,WAASX,MAAT,GAAkB;AAChBK,IAAAA,OAAO,CAACO,SAAR,CAAkB,CAAlB,EAAoB,CAApB,EAAuB9B,CAAvB,EAA0BE,CAA1B;AAEAqB,IAAAA,OAAO,CAACQ,SAAR;AACApC,IAAAA,KAAK,CAACqC,OAAN,CAAcC,QAAd;AACAV,IAAAA,OAAO,CAACW,WAAR,GAAsB,MAAtB;AACAX,IAAAA,OAAO,CAACY,MAAR;AAEAZ,IAAAA,OAAO,CAACW,WAAR,GAAsB,MAAtB;;AARgB,+CASGvC,KATH;AAAA;;AAAA;AAShB,0DAA0B;AAAA,YAAfyC,IAAe;AACxBb,QAAAA,OAAO,CAACQ,SAAR;AACAM,QAAAA,QAAQ,CAACD,IAAD,CAAR;AACAb,QAAAA,OAAO,CAACe,SAAR,GAAoBb,KAAK,CAACW,IAAD,CAAzB;AACAb,QAAAA,OAAO,CAACgB,IAAR;AACAhB,QAAAA,OAAO,CAACY,MAAR;AACD;AAfe;AAAA;AAAA;AAAA;AAAA;AAgBjB;;AAED,WAASF,QAAT,CAAkBpB,CAAlB,EAAqB;AACnBU,IAAAA,OAAO,CAACiB,MAAR,CAAe3B,CAAC,CAAC4B,MAAF,CAASC,CAAxB,EAA2B7B,CAAC,CAAC4B,MAAF,CAASE,CAApC;AACApB,IAAAA,OAAO,CAACqB,MAAR,CAAe/B,CAAC,CAACgC,MAAF,CAASH,CAAxB,EAA2B7B,CAAC,CAACgC,MAAF,CAASF,CAApC;AACD;;AAED,WAASN,QAAT,CAAkBxB,CAAlB,EAAqB;AACnBU,IAAAA,OAAO,CAACiB,MAAR,CAAe3B,CAAC,CAAC6B,CAAF,GAAM,CAArB,EAAwB7B,CAAC,CAAC8B,CAA1B;AACApB,IAAAA,OAAO,CAACuB,GAAR,CAAYjC,CAAC,CAAC6B,CAAd,EAAiB7B,CAAC,CAAC8B,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,IAAII,IAAI,CAACC,EAArC;AACD;;AAID,WAASC,SAAT,CAAmB3C,UAAnB,EAA+B;AAAE;AAC/B,aAAS4C,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,aAAO7C,UAAU,CAAC8C,IAAX,CAAgBD,KAAK,CAACT,CAAtB,EAAyBS,KAAK,CAACR,CAA/B,CAAP;AACD;;AACC,aAASU,WAAT,CAAqBF,KAArB,EAA4B;AAC1B,UAAI,CAACA,KAAK,CAACG,MAAX,EAAmBhD,UAAU,CAACiD,WAAX,CAAuB,GAAvB,EAA4BC,OAA5B;AACnBL,MAAAA,KAAK,CAACM,OAAN,CAAcC,EAAd,GAAmBP,KAAK,CAACM,OAAN,CAAcf,CAAjC;AACAS,MAAAA,KAAK,CAACM,OAAN,CAAcE,EAAd,GAAmBR,KAAK,CAACM,OAAN,CAAcd,CAAjC;AACD;;AAED,aAASiB,OAAT,CAAiBT,KAAjB,EAAwB;AACtBA,MAAAA,KAAK,CAACM,OAAN,CAAcC,EAAd,GAAmBP,KAAK,CAACT,CAAzB;AACAS,MAAAA,KAAK,CAACM,OAAN,CAAcE,EAAd,GAAmBR,KAAK,CAACR,CAAzB;AACD;;AAED,aAASkB,SAAT,CAAmBV,KAAnB,EAA0B;AACxB,UAAI,CAACA,KAAK,CAACG,MAAX,EAAmBhD,UAAU,CAACiD,WAAX,CAAuB,CAAvB;AACnBJ,MAAAA,KAAK,CAACM,OAAN,CAAcC,EAAd,GAAmB,IAAnB;AACAP,MAAAA,KAAK,CAACM,OAAN,CAAcE,EAAd,GAAmB,IAAnB;AACD;;AAED,WAAOnE,EAAE,CAACsE,IAAH,GACFL,OADE,CACMP,WADN,EAEFjC,EAFE,CAEC,OAFD,EAEUoC,WAFV,EAGFpC,EAHE,CAGC,MAHD,EAGS2C,OAHT,EAIF3C,EAJE,CAIC,KAJD,EAIQ4C,SAJR,CAAP;AAKD,GAxFkC,CAyFrC;;;AACA,SAAOrE,EAAE,CAACuE,MAAH,CAAUxC,OAAO,CAACJ,MAAlB,EAA0B6C,IAA1B,CAA+Bf,SAAS,CAAC3C,UAAD,CAAxC,EAAsD8B,IAAtD,EAAP;AACD;;AAED,eAAe3C,eAAf","sourcesContent":["import * as d3 from \"d3\";\n\nfunction generateNetwork(edges, nodes) {\n  var side = document.getElementById(\"testSelect\").value;\n  var w = document.getElementById(\"viscontent\").clientWidth;\n  var h = document.getElementById(\"viscontent\").clientHeight;\n  console.log(document.getElementById('testCanvas'))\n  //document.getElementById(\"testCanvas\").height = h;\n  console.log(side)\n\n\n  var simulation = d3\n    .forceSimulation(nodes)\n    .force(\"charge\", d3.forceManyBody().strength(-50))\n    .force(\n      \"link\",\n      d3\n        .forceLink()\n        .id(function (d) {\n          return d.employeeID;\n        })\n        .links(edges)\n    )\n    .force(\"center\", d3.forceCenter(w / 2, h / 2))\n    .on(\"tick\", ticked);\n  \n  let canvas = this.element.shadowRoot.querySelectorAll(\"canvas\")[0];\n  \n  var context = canvas.getContext('2d');\n  \n  function color() {\n    const scale = d3.scaleOrdinal(d3.schemeCategory10);\n    return d => scale(d.group);\n  }\n  function ticked() {\n    context.clearRect(0,0, w, h);\n\n    context.beginPath();\n    nodes.forEach(drawEdge)\n    context.strokeStyle = \"#aaa\";\n    context.stroke();\n\n    context.strokeStyle = \"#fff\";\n    for (const node of nodes) {\n      context.beginPath();\n      drawNode(node) \n      context.fillStyle = color(node);\n      context.fill();\n      context.stroke();\n    }\n  }\n\n  function drawEdge(d) {\n    context.moveTo(d.source.x, d.source.y);\n    context.lineTo(d.target.x, d.target.y);\n  }\n\n  function drawNode(d) {\n    context.moveTo(d.x + 3, d.y);\n    context.arc(d.x, d.y, 3, 0, 2 * Math.PI);\n  }\n  \n    \n\n  function dragNodes(simulation) { // This needs a lot more optimization, so it is being left out for the prototype.\n    function dragSubject(event) {\n      return simulation.find(event.x, event.y);\n    }\n      function dragStarted(event) {\n        if (!event.active) simulation.alphaTarget(0.3).restart();\n        event.subject.fx = event.subject.x;\n        event.subject.fy = event.subject.y;\n      }\n      \n      function dragged(event) {\n        event.subject.fx = event.x;\n        event.subject.fy = event.y;\n      }\n      \n      function dragEnded(event) {\n        if (!event.active) simulation.alphaTarget(0);\n        event.subject.fx = null;\n        event.subject.fy = null;\n      }\n      \n      return d3.drag()\n          .subject(dragSubject)\n          .on(\"start\", dragStarted)\n          .on(\"drag\", dragged)\n          .on(\"end\", dragEnded);\n    }\n  //console.log(simulation);\n  return d3.select(context.canvas).call(dragNodes(simulation)).node();\n}\n\nexport default generateNetwork"]}]}