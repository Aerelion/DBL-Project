{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","mtime":1624192699302},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5sb2cyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZnVuY3Rpb24gZ2VuZXJhdGVNYXRyaXgoZWRnZXMsIG5vZGVzLCBlZGdlV2VpZ2h0cykgewogIHZhciBzaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3RTZWxlY3RBTSIpLnZhbHVlOwogIHZhciB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRXaWR0aDsKICB2YXIgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXNjb250ZW50IikuY2xpZW50SGVpZ2h0OwogIHZhciB0ZXh0TGVuZ3RoID0gMTI7IC8vIGNoYW5nZSB0aGlzIHRvIHRoZSBhcHByb3ggbWF4IG5vZGUgdGV4dCBsZW5ndGgKCiAgdmFyIG1pbk9wYWNpdHkgPSAwLjM7IC8vIG9wYWNpdHkgb2YgYW4gZWRnZSB3aXRoIHdlaWdodCAxCgogIHZhciBsb2dDb2VmZmljaWVudCA9ICgxIC0gbWluT3BhY2l0eSkgLyBNYXRoLmxvZzIoZWRnZVdlaWdodHMubWF4V2VpZ2h0KTsgLy8gY29lZmljaWVudCB0aGF0IGlzIHVzZWQgdG8gY2FsY3VsYXRlIG9wYWNpdHkKCiAgdmFyIHNxdWFyZVNpemUgPSBNYXRoLmZsb29yKGggLyAobm9kZXMubGVuZ3RoICsgdGV4dExlbmd0aCkpIC0gMTsgLy8gdGhlIGVkZ2Ugc2lkZSBsZW5ndGgKCiAgdmFyIHRleHRTcGFjZSA9IHNxdWFyZVNpemUgKiB0ZXh0TGVuZ3RoOyAvLyBhcHByb3ggc3BhY2UgYWxsb2NhdGVkIGZvciB0ZXh0IChpbXBvcnRhbnQgb25seSB0byBjZW50ZXIgdGhlIHZpc3VhbGlzYXRpb24gd2hlbiByZW5kZXJpbmcpCiAgLy8gbm9kZVBvc2l0aW9ucyBpcyBhbiBvYmplY3QgdGhhdCBzdG9yZXMgdGhlIHBvc2l0aW9ucyB3aGVyZSB0aGUgbm9kZXMgc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB0aGUgYWRqIG1hdHJpeAoKICB2YXIgbm9kZVBvc2l0aW9ucyA9IHt9OwoKICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcG9zaXRpb24gPSBub2Rlc1tpXS5lbXBsb3llZUlELnRvU3RyaW5nKCk7CiAgICBub2RlUG9zaXRpb25zW3Bvc2l0aW9uXSA9IGk7CiAgfSAvLyBldmVyeSBzdmcgY29tcG9uZW50IGdvZXMgaW4gaGVyZQoKCiAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnIycgKyBzaWRlKS5hcHBlbmQoInN2ZyIpLmF0dHIoImhlaWdodCIsIGgpLmF0dHIoIndpZHRoIiwgdykuY2FsbChkMy56b29tKCkub24oInpvb20iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHN2Zy5hdHRyKCJ0cmFuc2Zvcm0iLCBldmVudC50cmFuc2Zvcm0pLnNjYWxlRXh0ZW50KFsxLCAyNF0pOwogIH0pKS5hcHBlbmQoImciKTsgLy8gdGhlIGdyaWQgb2YgZWRnZXMKCiAgdmFyIGdyaWQgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAiZ3JpZCIpOwogIGdyaWQuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShlZGdlcykuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2QudGFyZ2V0LnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2Quc291cmNlLnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJoZWlnaHQiLCBzcXVhcmVTaXplKS5hdHRyKCJ3aWR0aCIsIHNxdWFyZVNpemUpLmF0dHIoImZpbGwiLCAid2hpdGUiKS5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gTWF0aC5sb2cyKGQud2VpZ2h0KSAqIGxvZ0NvZWZmaWNpZW50ICsgbWluT3BhY2l0eTsKICB9KTsgLy8gdGhpcyBtYWtlcyBpdCBzbyB0aGF0IG92ZXJsYXllZCByZWN0YW5nbGVzIGNhbiBiZSBzZWVuIChraW5kIG9mIGFkZHMgd2VpZ2h0cyB0byB0aGUgZWRnZXMpCgogIHZhciB0ZXh0TGVmdCA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJ0ZXh0TGVmdCIpOyAvLyB0aGUgdGV4dCBub2RlcyBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBncmlkCgogIHZhciB0ZXh0VXAgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAidGV4dFVwIik7IC8vIHRoZSB0ZXh0IG5vZGVzIG9uIHRvcCBvZiB0aGUgZ3JpZAoKICB0ZXh0TGVmdC5zZWxlY3RBbGwoInRleHQiKS5kYXRhKG5vZGVzKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpLmF0dHIoIngiLCB0ZXh0U3BhY2UpLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZSArIHNxdWFyZVNpemUgKiAwLjc1OwogIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBkLm5hbWU7CiAgfSkuc3R5bGUoImZpbGwiLCAid2hpdGUiKS5zdHlsZSgiZm9udC1zaXplIiwgc3F1YXJlU2l6ZSk7CiAgdGV4dFVwLnNlbGVjdEFsbCgidGV4dCIpLmRhdGEobm9kZXMpLmVudGVyKCkuYXBwZW5kKCJ0ZXh0IikuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikuYXR0cigidHJhbnNmb3JtIiwgInJvdGF0ZSg5MCkiKS5hdHRyKCJ4IiwgdGV4dFNwYWNlKS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiAtKG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZSArIHNxdWFyZVNpemUgKiAwLjI1KTsKICB9KS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gZC5uYW1lOwogIH0pLnN0eWxlKCJmaWxsIiwgIndoaXRlIikuc3R5bGUoImZvbnQtc2l6ZSIsIHNxdWFyZVNpemUpOwp9CgpleHBvcnQgZGVmYXVsdCBnZW5lcmF0ZU1hdHJpeDs="},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/adjacencymatrix.js"],"names":["d3","generateMatrix","edges","nodes","edgeWeights","side","document","getElementById","value","w","clientWidth","h","clientHeight","textLength","minOpacity","logCoefficient","Math","log2","maxWeight","squareSize","floor","length","textSpace","nodePositions","i","position","employeeID","toString","svg","select","append","attr","call","zoom","on","event","transform","scaleExtent","grid","selectAll","data","enter","d","target","source","style","weight","textLeft","textUp","text","name"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\r\n\r\nfunction generateMatrix(edges, nodes, edgeWeights) {\r\n\r\n  var side = document.getElementById(\"testSelectAM\").value;\r\n  var w = document.getElementById(\"viscontent\").clientWidth;\r\n  var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n  const textLength=12;                                                        // change this to the approx max node text length\r\n  const minOpacity = 0.3;                                                     // opacity of an edge with weight 1\r\n  const logCoefficient = (1 - minOpacity) / Math.log2(edgeWeights.maxWeight); // coeficient that is used to calculate opacity\r\n  const squareSize = Math.floor(h / (nodes.length+textLength)) - 1;           // the edge side length\r\n  const textSpace = squareSize * textLength;                                  // approx space allocated for text (important only to center the visualisation when rendering)\r\n\r\n  // nodePositions is an object that stores the positions where the nodes should be displayed in the adj matrix\r\n  var nodePositions = {};\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    let position = (nodes[i].employeeID).toString()\r\n    nodePositions[position] = i;\r\n  }\r\n\r\n  // every svg component goes in here\r\n  var svg = d3\r\n    .select('#' + side)\r\n    .append(\"svg\")\r\n    .attr(\"height\", h)\r\n    .attr(\"width\", w)\r\n    .call(\r\n      d3.zoom().on(\"zoom\", (event) => {\r\n        svg.attr(\"transform\", event.transform).scaleExtent([1, 24]);\r\n      })\r\n    )\r\n    .append(\"g\");\r\n\r\n  // the grid of edges\r\n  var grid = svg.append(\"g\").attr(\"id\", \"grid\");\r\n    grid.selectAll(\"rect\")\r\n    .data(edges)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", (d) => {\r\n      return (nodePositions[(d.target).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.source).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"height\", squareSize)\r\n    .attr(\"width\", squareSize)\r\n    .attr(\"fill\", \"white\")\r\n    .style(\"opacity\", ((d) => { return (Math.log2(d.weight) * logCoefficient) + minOpacity }));  // this makes it so that overlayed rectangles can be seen (kind of adds weights to the edges)\r\n\r\n  var textLeft = svg.append(\"g\").attr(\"id\", \"textLeft\");  // the text nodes on the left side of the grid\r\n  var textUp = svg.append(\"g\").attr(\"id\", \"textUp\");      // the text nodes on top of the grid\r\n\r\n  textLeft.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.employeeID).toString()]*squareSize) + textSpace + (squareSize*0.75);\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize);\r\n\r\n    textUp.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"transform\", \"rotate(90)\")\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return -((nodePositions[(d.employeeID).toString()]*squareSize) + textSpace + (squareSize*0.25));\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize);\r\n}\r\n\r\nexport default generateMatrix"]}]}