{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","mtime":1624524974328},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5sb2cyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZnVuY3Rpb24gZ2VuZXJhdGVNYXRyaXgoZWRnZXMsIG5vZGVzLCBlZGdlV2VpZ2h0cywgc2VsZWN0ZWROb2RlKSB7CiAgdmFyIHNpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdFNlbGVjdEFNIikudmFsdWU7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgdmFyIHRleHRMZW5ndGggPSAxMjsgLy8gY2hhbmdlIHRoaXMgdG8gdGhlIGFwcHJveCBtYXggbm9kZSB0ZXh0IGxlbmd0aAoKICB2YXIgbWluT3BhY2l0eSA9IDAuMzsgLy8gb3BhY2l0eSBvZiBhbiBlZGdlIHdpdGggd2VpZ2h0IDEKCiAgdmFyIGxvZ0NvZWZmaWNpZW50ID0gKDEgLSBtaW5PcGFjaXR5KSAvIE1hdGgubG9nMihlZGdlV2VpZ2h0cy5tYXhXZWlnaHQpOyAvLyBjb2VmaWNpZW50IHRoYXQgaXMgdXNlZCB0byBjYWxjdWxhdGUgb3BhY2l0eQoKICB2YXIgc3F1YXJlU2l6ZSA9IE1hdGguZmxvb3IoaCAvIChub2Rlcy5sZW5ndGggKyB0ZXh0TGVuZ3RoKSkgLSAxOyAvLyB0aGUgZWRnZSBzaWRlIGxlbmd0aAoKICB2YXIgdGV4dFNwYWNlID0gc3F1YXJlU2l6ZSAqIHRleHRMZW5ndGg7IC8vIGFwcHJveCBzcGFjZSBhbGxvY2F0ZWQgZm9yIHRleHQgKGltcG9ydGFudCBvbmx5IHRvIGNlbnRlciB0aGUgdmlzdWFsaXNhdGlvbiB3aGVuIHJlbmRlcmluZykKICAvLyBub2RlUG9zaXRpb25zIGlzIGFuIG9iamVjdCB0aGF0IHN0b3JlcyB0aGUgcG9zaXRpb25zIHdoZXJlIHRoZSBub2RlcyBzaG91bGQgYmUgZGlzcGxheWVkIGluIHRoZSBhZGogbWF0cml4CgogIHZhciBub2RlUG9zaXRpb25zID0ge307CgogIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBwb3NpdGlvbiA9IG5vZGVzW2ldLmVtcGxveWVlSUQudG9TdHJpbmcoKTsKICAgIG5vZGVQb3NpdGlvbnNbcG9zaXRpb25dID0gaTsKICB9IC8vIGV2ZXJ5IHN2ZyBjb21wb25lbnQgZ29lcyBpbiBoZXJlCgoKICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjJyArIHNpZGUpLmFwcGVuZCgic3ZnIikuYXR0cigiaGVpZ2h0IiwgaCkuYXR0cigid2lkdGgiLCB3KS5jYWxsKGQzLnpvb20oKS5vbigiem9vbSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgc3ZnLmF0dHIoInRyYW5zZm9ybSIsIGV2ZW50LnRyYW5zZm9ybSkuc2NhbGVFeHRlbnQoWzEsIDI0XSk7CiAgfSkpLmFwcGVuZCgiZyIpOwoKICBmdW5jdGlvbiBib3hDb2xvcihkKSB7CiAgICBpZiAoZC5zb3VyY2UgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgIHJldHVybiAncmVkJzsKICAgIH0gZWxzZSBpZiAoZC50YXJnZXQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgIHJldHVybiAnZ3JlZW4nOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICd3aGl0ZSc7CiAgICB9CiAgfSAvLyB0aGUgZ3JpZCBvZiBlZGdlcwoKCiAgdmFyIGdyaWQgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAiZ3JpZCIpOwogIGdyaWQuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShlZGdlcykuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2QudGFyZ2V0LnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2Quc291cmNlLnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJoZWlnaHQiLCBzcXVhcmVTaXplKS5hdHRyKCJ3aWR0aCIsIHNxdWFyZVNpemUpLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGJveENvbG9yKGQpOwogIH0pLnN0eWxlKCJvcGFjaXR5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBNYXRoLmxvZzIoZC53ZWlnaHQpICogbG9nQ29lZmZpY2llbnQgKyBtaW5PcGFjaXR5OwogIH0pOyAvLyB0aGlzIG1ha2VzIGl0IHNvIHRoYXQgb3ZlcmxheWVkIHJlY3RhbmdsZXMgY2FuIGJlIHNlZW4gKGtpbmQgb2YgYWRkcyB3ZWlnaHRzIHRvIHRoZSBlZGdlcykKCiAgdmFyIHRleHRMZWZ0ID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgInRleHRMZWZ0Iik7IC8vIHRoZSB0ZXh0IG5vZGVzIG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIGdyaWQKCiAgdmFyIHRleHRVcCA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJ0ZXh0VXAiKTsgLy8gdGhlIHRleHQgbm9kZXMgb24gdG9wIG9mIHRoZSBncmlkCgogIHRleHRMZWZ0LnNlbGVjdEFsbCgidGV4dCIpLmRhdGEobm9kZXMpLmVudGVyKCkuYXBwZW5kKCJ0ZXh0IikuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikuYXR0cigieCIsIHRleHRTcGFjZSkuYXR0cigieSIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gbm9kZVBvc2l0aW9uc1tkLmVtcGxveWVlSUQudG9TdHJpbmcoKV0gKiBzcXVhcmVTaXplICsgdGV4dFNwYWNlICsgc3F1YXJlU2l6ZSAqIDAuNzU7CiAgfSkudGV4dChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGQubmFtZTsKICB9KS5zdHlsZSgiZmlsbCIsICJ3aGl0ZSIpLnN0eWxlKCJmb250LXNpemUiLCBzcXVhcmVTaXplKTsKICB0ZXh0VXAuc2VsZWN0QWxsKCJ0ZXh0IikuZGF0YShub2RlcykuZW50ZXIoKS5hcHBlbmQoInRleHQiKS5hdHRyKCJ0ZXh0LWFuY2hvciIsICJlbmQiKS5hdHRyKCJ0cmFuc2Zvcm0iLCAicm90YXRlKDkwKSIpLmF0dHIoIngiLCB0ZXh0U3BhY2UpLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIC0obm9kZVBvc2l0aW9uc1tkLmVtcGxveWVlSUQudG9TdHJpbmcoKV0gKiBzcXVhcmVTaXplICsgdGV4dFNwYWNlICsgc3F1YXJlU2l6ZSAqIDAuMjUpOwogIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBkLm5hbWU7CiAgfSkuc3R5bGUoImZpbGwiLCAid2hpdGUiKS5zdHlsZSgiZm9udC1zaXplIiwgc3F1YXJlU2l6ZSk7Cn0KCmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlTWF0cml4Ow=="},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/adjacencymatrix.js"],"names":["d3","generateMatrix","edges","nodes","edgeWeights","selectedNode","side","document","getElementById","value","w","clientWidth","h","clientHeight","textLength","minOpacity","logCoefficient","Math","log2","maxWeight","squareSize","floor","length","textSpace","nodePositions","i","position","employeeID","toString","svg","select","append","attr","call","zoom","on","event","transform","scaleExtent","boxColor","d","source","target","grid","selectAll","data","enter","style","weight","textLeft","textUp","text","name"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\r\n\r\nfunction generateMatrix(edges, nodes, edgeWeights, selectedNode) {\r\n\r\n  var side = document.getElementById(\"testSelectAM\").value;\r\n  var w = document.getElementById(\"viscontent\").clientWidth;\r\n  var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n  const textLength=12;                                                        // change this to the approx max node text length\r\n  const minOpacity = 0.3;                                                     // opacity of an edge with weight 1\r\n  const logCoefficient = (1 - minOpacity) / Math.log2(edgeWeights.maxWeight); // coeficient that is used to calculate opacity\r\n  const squareSize = Math.floor(h / (nodes.length+textLength)) - 1;           // the edge side length\r\n  const textSpace = squareSize * textLength;                                  // approx space allocated for text (important only to center the visualisation when rendering)\r\n\r\n  // nodePositions is an object that stores the positions where the nodes should be displayed in the adj matrix\r\n  var nodePositions = {};\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    let position = (nodes[i].employeeID).toString()\r\n    nodePositions[position] = i;\r\n  }\r\n\r\n  // every svg component goes in here\r\n  var svg = d3\r\n    .select('#' + side)\r\n    .append(\"svg\")\r\n    .attr(\"height\", h)\r\n    .attr(\"width\", w)\r\n    .call(\r\n      d3.zoom().on(\"zoom\", (event) => {\r\n        svg.attr(\"transform\", event.transform).scaleExtent([1, 24]);\r\n      })\r\n    )\r\n    .append(\"g\");\r\n\r\n    function boxColor(d) {\r\n      if (d.source == selectedNode[0]) {\r\n        return 'red';\r\n      } else if (d.target == selectedNode[0]) {\r\n        return 'green';\r\n      } else {\r\n        return 'white';\r\n      }\r\n    }\r\n  // the grid of edges\r\n  var grid = svg.append(\"g\").attr(\"id\", \"grid\");\r\n    grid.selectAll(\"rect\")\r\n    .data(edges)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", (d) => {\r\n      return (nodePositions[(d.target).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.source).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"height\", squareSize)\r\n    .attr(\"width\", squareSize)\r\n    .attr(\"fill\", (d) => boxColor(d))\r\n    .style(\"opacity\", ((d) => { return (Math.log2(d.weight) * logCoefficient) + minOpacity }));  // this makes it so that overlayed rectangles can be seen (kind of adds weights to the edges)\r\n\r\n  var textLeft = svg.append(\"g\").attr(\"id\", \"textLeft\");  // the text nodes on the left side of the grid\r\n  var textUp = svg.append(\"g\").attr(\"id\", \"textUp\");      // the text nodes on top of the grid\r\n\r\n  textLeft.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.employeeID).toString()]*squareSize) + textSpace + (squareSize*0.75);\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize);\r\n\r\n    textUp.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"transform\", \"rotate(90)\")\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return -((nodePositions[(d.employeeID).toString()]*squareSize) + textSpace + (squareSize*0.25));\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize);\r\n}\r\n\r\nexport default generateMatrix"]}]}