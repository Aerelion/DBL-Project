{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","mtime":1625072069979},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5sb2cyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZnVuY3Rpb24gZ2VuZXJhdGVNYXRyaXgoZWRnZXMsIG5vZGVzLCBlZGdlV2VpZ2h0cywgZ2xvYmFsU2VsZWN0aW9uKSB7CiAgdmFyIHNpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdFNlbGVjdEFNIikudmFsdWU7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgdmFyIHRleHRMZW5ndGggPSAxMjsgLy8gY2hhbmdlIHRoaXMgdG8gdGhlIGFwcHJveCBtYXggbm9kZSB0ZXh0IGxlbmd0aAoKICB2YXIgbGluZUhpZ2hsaWdodE9wYWNpdHkgPSAwLjQ7IC8vIG9wYWNpdHkgb2YgaGlnaGxpZ2h0IGxpbmUgKHRoZSBvcmFuZ2UgcGFydCBpbnNpZGUgdGhlIGhpZ2hsaWdodCBicm9kZXJzKQoKICB2YXIgc3F1YXJlU2l6ZSA9IE1hdGguZmxvb3IoaCAvIChub2Rlcy5sZW5ndGggKyB0ZXh0TGVuZ3RoKSkgLSAxOyAvLyB0aGUgZWRnZSBzaWRlIGxlbmd0aAoKICB2YXIgc3Ryb2tlU2l6ZSA9IHNxdWFyZVNpemUgLyA0OyAvLyB0aGUgd2lkdGggb2YgdGhlIGhpZ2hsaWdodCByZWN0YW5nbGUgYm9yZGVyCgogIHZhciB0ZXh0U3BhY2UgPSBzcXVhcmVTaXplICogdGV4dExlbmd0aDsgLy8gYXBwcm94IHNwYWNlIGFsbG9jYXRlZCBmb3IgdGV4dCAoaW1wb3J0YW50IG9ubHkgdG8gY2VudGVyIHRoZSB2aXN1YWxpc2F0aW9uIHdoZW4gcmVuZGVyaW5nKQoKICB2YXIgbWluT3BhY2l0eSA9IDAuMzsgLy8gb3BhY2l0eSBvZiBhbiBlZGdlIHdpdGggd2VpZ2h0IDEKCiAgdmFyIGxvZ0NvZWZmaWNpZW50ID0gKDEgLSBtaW5PcGFjaXR5KSAvIE1hdGgubG9nMihlZGdlV2VpZ2h0cy5tYXhXZWlnaHQpOyAvLyBjb2VmaWNpZW50IHRoYXQgaXMgdXNlZCB0byBjYWxjdWxhdGUgb3BhY2l0eQogIC8vIG5vZGVQb3NpdGlvbnMgaXMgYW4gb2JqZWN0IHRoYXQgc3RvcmVzIHRoZSBwb3NpdGlvbnMgd2hlcmUgdGhlIG5vZGVzIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4gdGhlIGFkaiBtYXRyaXgKCiAgdmFyIG5vZGVQb3NpdGlvbnMgPSB7fTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgdmFyIHBvc2l0aW9uID0gbm9kZXNbaV0uZW1wbG95ZWVJRC50b1N0cmluZygpOwogICAgbm9kZVBvc2l0aW9uc1twb3NpdGlvbl0gPSBpOwogIH0KCiAgdmFyIGxvY2FsU2VsZWN0aW9uID0gW107IC8vIGFycmF5IG9mIHNlbGVjdGVkIG5vZGVzCiAgLy8gZXZlcnkgc3ZnIGNvbXBvbmVudCBnb2VzIGluIGhlcmUKCiAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnIycgKyBzaWRlKS5hcHBlbmQoInN2ZyIpLmF0dHIoImhlaWdodCIsIGgpLmF0dHIoIndpZHRoIiwgdykuY2FsbChkMy56b29tKCkub24oInpvb20iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHN2Zy5hdHRyKCJ0cmFuc2Zvcm0iLCBldmVudC50cmFuc2Zvcm0pOwogIH0pKS5hcHBlbmQoImciKTsKICB2YXIgaGlnaGxpZ2h0R3JpZExpbmUgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAiaGlnaGxpZ2h0R3JpZExpbmUiKTsgLy8gYWxsIGhpZ2hsaWdodCBncmlkIGxpbmVzCgogIHZhciBoaWdobGlnaHRIb3Jpem9udGFsTGluZSA9IGhpZ2hsaWdodEdyaWRMaW5lLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImhpZ2hsaWdodEhvcml6b250YWxMaW5lIik7IC8vIGhvcml6b250YWwgaGlnaGxpZ2h0IGxpbmVzCgogIHZhciBoaWdobGlnaHRWZXJ0aWNhbExpbmUgPSBoaWdobGlnaHRHcmlkTGluZS5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJoaWdobGlnaHRWZXJ0aWNhbExpbmUiKTsgLy8gdmVydGljYWwgaGlnaGxpZ2h0IGxpbmUKCiAgaGlnaGxpZ2h0SG9yaXpvbnRhbExpbmUuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShub2RlcykuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gImhMaW5lSGlnaGxpZ2h0SUQiICsgZC5lbXBsb3llZUlEOwogIH0pLmF0dHIoImhlaWdodCIsIHNxdWFyZVNpemUgLyA0KS5hdHRyKCJ3aWR0aCIsIG5vZGVzLmxlbmd0aCAqIHNxdWFyZVNpemUpLmF0dHIoIngiLCB0ZXh0U3BhY2UpLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZSArIHNxdWFyZVNpemUgKiAzIC8gODsKICB9KS5hdHRyKCJmaWxsIiwgIm9yYW5nZSIpLnN0eWxlKCJvcGFjaXR5IiwgbGluZUhpZ2hsaWdodE9wYWNpdHkpLnN0eWxlKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogIGhpZ2hsaWdodFZlcnRpY2FsTGluZS5zZWxlY3RBbGwoInJlY3QiKS5kYXRhKG5vZGVzKS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiAidkxpbmVIaWdobGlnaHRJRCIgKyBkLmVtcGxveWVlSUQ7CiAgfSkuYXR0cigiaGVpZ2h0Iiwgbm9kZXMubGVuZ3RoICogc3F1YXJlU2l6ZSkuYXR0cigid2lkdGgiLCBzcXVhcmVTaXplIC8gNCkuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gbm9kZVBvc2l0aW9uc1tkLmVtcGxveWVlSUQudG9TdHJpbmcoKV0gKiBzcXVhcmVTaXplICsgdGV4dFNwYWNlICsgc3F1YXJlU2l6ZSAqIDMgLyA4OwogIH0pLmF0dHIoInkiLCB0ZXh0U3BhY2UpLmF0dHIoImZpbGwiLCAib3JhbmdlIikuc3R5bGUoIm9wYWNpdHkiLCBsaW5lSGlnaGxpZ2h0T3BhY2l0eSkuc3R5bGUoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7IC8vIHRoZSBncmlkIG9mIGVkZ2VzCgogIHZhciBncmlkID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImdyaWQiKTsKICBncmlkLnNlbGVjdEFsbCgicmVjdCIpLmRhdGEoZWRnZXMpLmVudGVyKCkuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuICJpZCIgKyBkLnRhcmdldCArICIgIiArICJpZCIgKyBkLnNvdXJjZTsKICB9KS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2QudGFyZ2V0LnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2Quc291cmNlLnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJoZWlnaHQiLCBzcXVhcmVTaXplKS5hdHRyKCJ3aWR0aCIsIHNxdWFyZVNpemUpLnN0eWxlKCJmaWxsIiwgIndoaXRlIikgLy8gLnN0eWxlKCJzdHJva2UiLCAoZCkgPT4gewogIC8vICAgbGV0IHI9MTI3LShkLnNlbnRpbWVudCoxMDApCiAgLy8gICBsZXQgZz0xMjcrKGQuc2VudGltZW50KjEwMCk7CiAgLy8gICBsZXQgYj0wOwogIC8vICAgcmV0dXJuICJyZ2IoIityKyIsIitnKyIsIitiKyIpIjsKICAvLyB9KQogIC8vIC5hdHRyKCJzdHJva2Utd2lkdGgiLCBzdHJva2VTaXplKQogIC5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gTWF0aC5sb2cyKGQud2VpZ2h0KSAqIGxvZ0NvZWZmaWNpZW50ICsgbWluT3BhY2l0eTsKICB9KTsgLy8gdGhpcyBtYWtlcyBpdCBzbyB0aGF0IG92ZXJsYXllZCByZWN0YW5nbGVzIGNhbiBiZSBzZWVuIChraW5kIG9mIGFkZHMgd2VpZ2h0cyB0byB0aGUgZWRnZXMpCgogIHZhciB0ZXh0ID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgIm1hdHJpeFRleHQiKTsgLy8gYWxsIHRleHQgbm9kZXMKCiAgdmFyIHRleHRIb3Jpem9udGFsID0gdGV4dC5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJ0ZXh0SG9yaXpvbnRhbCIpOyAvLyB0aGUgaG9yaXpvbnRhbCB0ZXh0IG5vZGVzCgogIHZhciB0ZXh0VmVydGljYWwgPSB0ZXh0LmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgInRleHRWZXJ0aWNhbCIpOyAvLyB0aGUgdmVydGljYWwgdGV4dCBub2RlcwoKICB0ZXh0SG9yaXpvbnRhbC5zZWxlY3RBbGwoInRleHQiKS5kYXRhKG5vZGVzKS5lbnRlcigpLmFwcGVuZCgidGV4dCIpLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiAiaFRleHRJRCIgKyBkLmVtcGxveWVlSUQ7CiAgfSkuYXR0cigieCIsIHRleHRTcGFjZSAtIHN0cm9rZVNpemUpLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZSArIHNxdWFyZVNpemUgKiAwLjc1OwogIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBkLm5hbWU7CiAgfSkuc3R5bGUoImZpbGwiLCAid2hpdGUiKS5zdHlsZSgiZm9udC1zaXplIiwgc3F1YXJlU2l6ZSk7CiAgdGV4dFZlcnRpY2FsLnNlbGVjdEFsbCgidGV4dCIpLmRhdGEobm9kZXMpLmVudGVyKCkuYXBwZW5kKCJ0ZXh0IikuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikuYXR0cigidHJhbnNmb3JtIiwgInJvdGF0ZSg5MCkiKS5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gInZUZXh0SUQiICsgZC5lbXBsb3llZUlEOwogIH0pLmF0dHIoIngiLCB0ZXh0U3BhY2UgLSBzdHJva2VTaXplKS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiAtKG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZSArIHNxdWFyZVNpemUgKiAwLjI1KTsKICB9KS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gZC5uYW1lOwogIH0pLnN0eWxlKCJmaWxsIiwgIndoaXRlIikuc3R5bGUoImZvbnQtc2l6ZSIsIHNxdWFyZVNpemUpOwogIHZhciBoaWdobGlnaHRHcmlkQm9yZGVyID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImhpZ2hsaWdodEdyaWRCb3JkZXIiKTsgLy8gYWxsIGhpZ2hsaWdodCBncmlkIGJvcmRlcnMKCiAgdmFyIGhpZ2hsaWdodExlZnRCb3JkZXIgPSBoaWdobGlnaHRHcmlkQm9yZGVyLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImhpZ2hsaWdodExlZnRCb3JkZXIiKTsgLy8gaG9yaXpvbnRhbCBoaWdobGlnaHQgYm9yZGVycwoKICB2YXIgaGlnaGxpZ2h0VXBCb3JkZXIgPSBoaWdobGlnaHRHcmlkQm9yZGVyLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImhpZ2hsaWdodFVwQm9yZGVyIik7IC8vIHZlcnRpY2FsIGhpZ2hsaWdodCBib3JkZXJzCgogIGhpZ2hsaWdodExlZnRCb3JkZXIuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShub2RlcykuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJjbGFzcyIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gImhCb3JkZXJIaWdobGlnaHRJRCIgKyBkLmVtcGxveWVlSUQ7CiAgfSkuYXR0cigiaGVpZ2h0Iiwgc3F1YXJlU2l6ZSkuYXR0cigid2lkdGgiLCBub2Rlcy5sZW5ndGggKiBzcXVhcmVTaXplKS5hdHRyKCJ4IiwgdGV4dFNwYWNlKS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2QuZW1wbG95ZWVJRC50b1N0cmluZygpXSAqIHNxdWFyZVNpemUgKyB0ZXh0U3BhY2U7CiAgfSkuYXR0cigiZmlsbCIsICJub25lIikuYXR0cigic3Ryb2tlIiwgIm9yYW5nZSIpLmF0dHIoInN0cm9rZS13aWR0aCIsIHN0cm9rZVNpemUpLmF0dHIoInBvaW50ZXItZXZlbnRzIiwgIm5vbmUiKSAvLyB0aGlzIHJlbW92ZXMgZXZlbnQgaGFuZGxpbmcgZnJvbSB0aGUgaGlnaGxpZ2h0IGJvcmRlcgogIC5zdHlsZSgidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICBoaWdobGlnaHRVcEJvcmRlci5zZWxlY3RBbGwoInJlY3QiKS5kYXRhKG5vZGVzKS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiAidkJvcmRlckhpZ2hsaWdodElEIiArIGQuZW1wbG95ZWVJRDsKICB9KS5hdHRyKCJoZWlnaHQiLCBub2Rlcy5sZW5ndGggKiBzcXVhcmVTaXplKS5hdHRyKCJ3aWR0aCIsIHNxdWFyZVNpemUpLmF0dHIoIngiLCBmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIG5vZGVQb3NpdGlvbnNbZC5lbXBsb3llZUlELnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZSArIHRleHRTcGFjZTsKICB9KS5hdHRyKCJ5IiwgdGV4dFNwYWNlKS5hdHRyKCJmaWxsIiwgIm5vbmUiKS5hdHRyKCJzdHJva2UiLCAib3JhbmdlIikuYXR0cigic3Ryb2tlLXdpZHRoIiwgc3Ryb2tlU2l6ZSkuYXR0cigicG9pbnRlci1ldmVudHMiLCAibm9uZSIpIC8vIHRoaXMgcmVtb3ZlcyBldmVudCBoYW5kbGluZyBmcm9tIHRoZSBoaWdobGlnaHQgYm9yZGVyCiAgLnN0eWxlKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOyAvLyBldmVudCBoYW5kbGVyIGZvciBjbGlja2luZyBvbiBub2RlcwoKICB0ZXh0LnNlbGVjdEFsbCgidGV4dCIpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlLCBkKSB7CiAgICBub2RlRXZlbnRIYW5kbGVyKGUsIGQpOwogIH0pLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbiAoZSwgZCkgewogICAgaWYgKGUuc2hpZnRLZXkpIHsKICAgICAgbm9kZUV2ZW50SGFuZGxlcihlLCBkKTsKICAgIH0KICB9KTsgLy8gZXZlbnQgaGFuZGxlciBmb3IgY2xpY2tpbmcgb24gZWRnZXMKCiAgZ3JpZC5zZWxlY3RBbGwoInJlY3QiKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSwgZCkgewogICAgZWRnZUV2ZW50SGFuZGxlcihlLCBkKTsKICB9KS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKGUsIGQpIHsKICAgIGlmIChlLnNoaWZ0S2V5KSB7CiAgICAgIGVkZ2VFdmVudEhhbmRsZXIoZSwgZCk7CiAgICB9CgogICAgdmFyIGhvcml6b250YWwgPSBkLnNvdXJjZTsKICAgIHZhciB2ZXJ0aWNhbCA9IGQudGFyZ2V0OwogICAgc2hvd0xpbmVzKGhvcml6b250YWwsIHZlcnRpY2FsKTsKICB9KS5vbigibW91c2VsZWF2ZSIsIGZ1bmN0aW9uIChlLCBkKSB7CiAgICB2YXIgaG9yaXpvbnRhbCA9IGQuc291cmNlOwogICAgdmFyIHZlcnRpY2FsID0gZC50YXJnZXQ7CiAgICBoaWRlTGluZXMoaG9yaXpvbnRhbCwgdmVydGljYWwpOwogIH0pOwoKICBmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHQoKSB7CiAgICAvLyB1bi1oaWdobGlnaHQgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGhpZ2hsaWdodGVkIGluIHRoZSBOTCBkaWFncmFtCiAgICAvLyBzbGljZSBjcmVhdGVzIGEgY29weSBvZiBsb2NhbFNlbGVjdGlvbiwgc28gdGhhdCBsb2NhbFNlbGVjdGlvbi5zcGxpY2UgZG9lc24ndCBpbnRlcmZlcmUKICAgIGxvY2FsU2VsZWN0aW9uLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICB2YXIgaW5kZXggPSBnbG9iYWxTZWxlY3Rpb24uaW5kZXhPZihub2RlKTsKCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICB1bkhpZ2hsaWdodE5vZGUobm9kZSk7CiAgICAgICAgbG9jYWxTZWxlY3Rpb24uc3BsaWNlKGxvY2FsU2VsZWN0aW9uLmluZGV4T2Yobm9kZSksIDEpOyAvLyBpZiBhIG5vZGUgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzZWxlY3Rpb24sIGJ1dCBleGFjdGx5IG9uZSBub2RlIHJlbWFpbnMsIHRoZW4gaGlnaGxpZ2h0IHRoZSBuZWlnaGJvdXJzIG9mIHRoYXQgbm9kZQoKICAgICAgICBpZiAobG9jYWxTZWxlY3Rpb24ubGVuZ3RoID09IDEpIHsKICAgICAgICAgIGhpZ2hsaWdodE5laWdoYm91cnMobG9jYWxTZWxlY3Rpb25bMF0pOwogICAgICAgIH0gLy8gaWYgbm8gbm9kZXMgYXJlIHNlbGVjdGVkLCB0aGVuIGFsc28gcmVtb3ZlIG5laWdoYm91cnMKCgogICAgICAgIGlmIChsb2NhbFNlbGVjdGlvbi5sZW5ndGggPT0gMCkgewogICAgICAgICAgdW5IaWdobGlnaHRUZXh0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsgLy8gaGlnaGxpZ2h0IG5vZGVzIHRoYXQgd2VyZSBoaWdobGlnaHRlZCBpbiB0aGUgTkwgZGlhZ3JhbQoKICAgIGdsb2JhbFNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHZhciBpbmRleCA9IGxvY2FsU2VsZWN0aW9uLmluZGV4T2Yobm9kZSk7CgogICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgbG9jYWxTZWxlY3Rpb24ucHVzaChub2RlKTsgLy8gaWYgYSBuZXcgbm9kZSBpcyBhZGRlZCB0byBzZWxlY3Rpb24sIGFuZCBpcyB0aGUgb25seSBub2RlLCB0aGVuIGhpZ2hsaWdodCBpdHMgbmVpZ2hib3VycwoKICAgICAgICBpZiAobG9jYWxTZWxlY3Rpb24ubGVuZ3RoID09IDEpIHsKICAgICAgICAgIGhpZ2hsaWdodE5laWdoYm91cnMobG9jYWxTZWxlY3Rpb25bMF0pOwogICAgICAgIH0gLy8gaWYgYSBuZXcgbm9kZSBpcyBhZGRlZCB0byBzZWxlY3Rpb24sIGFuZCBub3cgdGhlcmUgYXJlIHR3byBub2RlcywgdGhlbiB1bmhpZ2hsaWdodCB0aGUgbmVpZ2hib3VycyBvZiB0aGUgZmlyc3Qgbm9kZQoKCiAgICAgICAgaWYgKGxvY2FsU2VsZWN0aW9uLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgICB1bkhpZ2hsaWdodE5laWdoYm91cnMobG9jYWxTZWxlY3Rpb25bMF0sIGxvY2FsU2VsZWN0aW9uWzFdKTsKICAgICAgICB9CgogICAgICAgIGhpZ2hsaWdodE5vZGUobm9kZSk7CiAgICAgIH0KICAgIH0pOwogIH0gLy8gKHZpc3VhbGx5KSBoaWdobGlnaHQgYSBub2RlCgoKICBmdW5jdGlvbiBoaWdobGlnaHROb2RlKG5vZGUpIHsKICAgIHZhciBjbGFzc1NlbGVjdCA9ICIuaFRleHRJRCIgKyBub2RlICsgIiwudlRleHRJRCIgKyBub2RlOwogICAgdGV4dC5zZWxlY3RBbGwoY2xhc3NTZWxlY3QpLnN0eWxlKCJmaWxsIiwgInJlZCIpOwogICAgY2xhc3NTZWxlY3QgPSAiLmhCb3JkZXJIaWdobGlnaHRJRCIgKyBub2RlICsgIiwudkJvcmRlckhpZ2hsaWdodElEIiArIG5vZGUgKyAiLC5oTGluZUhpZ2hsaWdodElEIiArIG5vZGUgKyAiLC52TGluZUhpZ2hsaWdodElEIiArIG5vZGU7CiAgICBzdmcuc2VsZWN0QWxsKGNsYXNzU2VsZWN0KS5zdHlsZSgidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgfSAvLyAodmlzdWFsbHkpIHVuaGlnaGxpZ2h0IGEgbm9kZQoKCiAgZnVuY3Rpb24gdW5IaWdobGlnaHROb2RlKG5vZGUpIHsKICAgIHZhciBjbGFzc1NlbGVjdCA9ICIuaFRleHRJRCIgKyBub2RlICsgIiwudlRleHRJRCIgKyBub2RlOwogICAgdGV4dC5zZWxlY3RBbGwoY2xhc3NTZWxlY3QpLnN0eWxlKCJmaWxsIiwgIndoaXRlIik7CiAgICBjbGFzc1NlbGVjdCA9ICIuaEJvcmRlckhpZ2hsaWdodElEIiArIG5vZGUgKyAiLC52Qm9yZGVySGlnaGxpZ2h0SUQiICsgbm9kZSArICIsLmhMaW5lSGlnaGxpZ2h0SUQiICsgbm9kZSArICIsLnZMaW5lSGlnaGxpZ2h0SUQiICsgbm9kZTsKICAgIHN2Zy5zZWxlY3RBbGwoY2xhc3NTZWxlY3QpLnN0eWxlKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogIH0gLy8gc2hvdyBsaW5lcyB3aGVuIG1vdXNlIGlzIGluc2lkZSBlZGdlCgoKICBmdW5jdGlvbiBzaG93TGluZXMoaCwgdikgewogICAgc3ZnLnNlbGVjdEFsbCgicmVjdC5oTGluZUhpZ2hsaWdodElEIiArIGgpLnN0eWxlKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgIHN2Zy5zZWxlY3RBbGwoInJlY3QudkxpbmVIaWdobGlnaHRJRCIgKyB2KS5zdHlsZSgidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgfSAvLyBoaWRlIGxpbmVzIHdoZW4gbW91c2UgbGVhdmVzIGVkZ2UKICAvLyBsb2NhbCBzZWxlY3Rpb24gaXMgdXNlZCBzbyB0aGF0IGxpbmVzIGRvbid0IGdsaWNoIGFuZCByZW1haW4gb24gc2NyZWVuIGFmdGVyIHRoZSBtb3VzZSBsZWF2ZXMKCgogIGZ1bmN0aW9uIGhpZGVMaW5lcyhoLCB2KSB7CiAgICBpZiAobG9jYWxTZWxlY3Rpb24uaW5kZXhPZihoKSA9PT0gLTEpIHsKICAgICAgc3ZnLnNlbGVjdEFsbCgicmVjdC5oTGluZUhpZ2hsaWdodElEIiArIGgpLnN0eWxlKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgfQoKICAgIGlmIChsb2NhbFNlbGVjdGlvbi5pbmRleE9mKHYpID09PSAtMSkgewogICAgICBzdmcuc2VsZWN0QWxsKCJyZWN0LnZMaW5lSGlnaGxpZ2h0SUQiICsgdikuc3R5bGUoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICB9CiAgfSAvLyAodmlzdWFsbHkpIGhpZ2hsaWdodCB0aGUgbmVpZ2hib3VycyBvZiBhIG5vZGUKCgogIGZ1bmN0aW9uIGhpZ2hsaWdodE5laWdoYm91cnMobm9kZSkgewogICAgZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkgewogICAgICAvLyBoaWdobGlnaHQgdmVydGljYWwgbmVpZ2hib3VyCiAgICAgIGlmIChlZGdlLnNvdXJjZSA9PSBub2RlKSB7CiAgICAgICAgaWYgKGVkZ2UudGFyZ2V0ICE9IG5vZGUpIHsKICAgICAgICAgIHRleHQuc2VsZWN0KCIudlRleHRJRCIgKyBlZGdlLnRhcmdldCkuc3R5bGUoImZpbGwiLCAiIzkwZWU5MCIpOwogICAgICAgIH0KICAgICAgfSAvLyBoaWdobGlnaHQgaG9yaXpvbnRhbCBuZWlnaGJvdXIKCgogICAgICBpZiAoZWRnZS50YXJnZXQgPT0gbm9kZSkgewogICAgICAgIGlmIChlZGdlLnNvdXJjZSAhPSBub2RlKSB7CiAgICAgICAgICB0ZXh0LnNlbGVjdCgiLmhUZXh0SUQiICsgZWRnZS5zb3VyY2UpLnN0eWxlKCJmaWxsIiwgIiM5MGVlOTAiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0gLy8gKHZpc3VhbGx5KSB1bmhpZ2hsaWdodCB0aGUgbmVpZ2hib3VycyBvZiBhIG5vZGUKCgogIGZ1bmN0aW9uIHVuSGlnaGxpZ2h0TmVpZ2hib3Vycyhub2RlMSwgbm9kZTIpIHsKICAgIGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHsKICAgICAgLy8gdW5oaWdobGlnaHQgdmVydGljYWwgbmVpZ2hib3VyCiAgICAgIGlmIChlZGdlLnNvdXJjZSA9PSBub2RlMSkgewogICAgICAgIGlmIChlZGdlLnRhcmdldCAhPSBub2RlMSAmJiBlZGdlLnRhcmdldCAhPSBub2RlMikgewogICAgICAgICAgdGV4dC5zZWxlY3QoIi52VGV4dElEIiArIGVkZ2UudGFyZ2V0KS5zdHlsZSgiZmlsbCIsICJ3aGl0ZSIpOwogICAgICAgIH0KICAgICAgfSAvLyB1bmhpZ2hsaWdodCBob3Jpem9udGFsIG5laWdoYm91cgoKCiAgICAgIGlmIChlZGdlLnRhcmdldCA9PSBub2RlMSkgewogICAgICAgIGlmIChlZGdlLnNvdXJjZSAhPSBub2RlMSAmJiBlZGdlLnNvdXJjZSAhPSBub2RlMikgewogICAgICAgICAgdGV4dC5zZWxlY3QoIi5oVGV4dElEIiArIGVkZ2Uuc291cmNlKS5zdHlsZSgiZmlsbCIsICJ3aGl0ZSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB1bkhpZ2hsaWdodFRleHQoKSB7CiAgICB0ZXh0LnNlbGVjdEFsbCgidGV4dCIpLnN0eWxlKCJmaWxsIiwgIndoaXRlIik7CiAgfSAvLyBTUyBzdGFuZHMgZm9yIHNpbmdsZSBzZWxlY3Rpb24gKGNhbGxlZCBpbiBhbiBldmVudCB3aGVuIGN0cmwgaXMgbm90IHByZXNzZWQpCiAgLy8gTVMgc3RhbmRzIGZvciBtdWx0aXBsZSBzZWxlY3Rpb24gKGNhbGxlZCBpbiBhbiBldmVudCB3aGVuIGN0cmwgaXMgcHJlc3NlZCkKICAvLyBzaW5nbGUgc2VsZWN0aW9uIHRoYXQgY2hhbmdlcyB0aGUgc2VsZWN0aW9uIHRvIHRoZSBub2RlIGNsaWNrZWQKCgogIGZ1bmN0aW9uIG5vZGVTUyhub2RlKSB7CiAgICBnbG9iYWxTZWxlY3Rpb24uc3BsaWNlKDAsIGdsb2JhbFNlbGVjdGlvbi5sZW5ndGgpOwogICAgZ2xvYmFsU2VsZWN0aW9uLnB1c2gobm9kZSk7CiAgfSAvLyBtdWx0aXBsZSBzZWxlY3Rpb24gdGhhdCB0b2dnbGVzIHRoZSBub2RlIGNsaWNrZWQKCgogIGZ1bmN0aW9uIG5vZGVNUyhub2RlKSB7CiAgICB2YXIgaW5kZXggPSBnbG9iYWxTZWxlY3Rpb24uaW5kZXhPZihub2RlKTsKCiAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgIGdsb2JhbFNlbGVjdGlvbi5wdXNoKG5vZGUpOwogICAgfSBlbHNlIHsKICAgICAgZ2xvYmFsU2VsZWN0aW9uLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSAvLyBzaW5nbGUgc2VsZWN0aW9uIHRoYXQgY2hhbmdlcyB0aGUgc2VsZWN0aW9uIHRvIHRoZSBzb3VyY2UgaWQKICAvLyBvciB0b2dnbGVzIHRvIHRhcmdldCBpZCBpZiBvbmx5IHNvdXJjZSBpZCBpcyBhbHJlYWR5IHNlbGVjdGVkCgoKICBmdW5jdGlvbiBlZGdlU1Mobm9kZTEsIG5vZGUyKSB7CiAgICB2YXIgaW5kZXgxID0gZ2xvYmFsU2VsZWN0aW9uLmluZGV4T2Yobm9kZTEpOwogICAgdmFyIGluZGV4MiA9IGdsb2JhbFNlbGVjdGlvbi5pbmRleE9mKG5vZGUyKTsKICAgIGdsb2JhbFNlbGVjdGlvbi5zcGxpY2UoMCwgZ2xvYmFsU2VsZWN0aW9uLmxlbmd0aCk7CgogICAgaWYgKGluZGV4MSAhPT0gLTEgJiYgaW5kZXgyID09PSAtMSkgewogICAgICBnbG9iYWxTZWxlY3Rpb24ucHVzaChub2RlMik7CiAgICB9IGVsc2UgewogICAgICBnbG9iYWxTZWxlY3Rpb24ucHVzaChub2RlMSk7CiAgICB9CiAgfSAvLyBtdWx0aXBsZSBzZWxlY3Rpb24gdGhhdCB0b2dnbGVzIHRoZSBub2RlIGNsaWNrZWQKCgogIGZ1bmN0aW9uIGVkZ2VNUyhub2RlMSwgbm9kZTIpIHsKICAgIHZhciBpbmRleDEgPSBnbG9iYWxTZWxlY3Rpb24uaW5kZXhPZihub2RlMSk7CiAgICB2YXIgaW5kZXgyID0gZ2xvYmFsU2VsZWN0aW9uLmluZGV4T2Yobm9kZTIpOwoKICAgIGlmIChpbmRleDEgIT09IC0xICYmIGluZGV4MiAhPT0gLTEpIHsKICAgICAgaWYgKGluZGV4MSA+IGluZGV4MikgewogICAgICAgIGdsb2JhbFNlbGVjdGlvbi5zcGxpY2UoaW5kZXgxLCAxKTsKICAgICAgICBnbG9iYWxTZWxlY3Rpb24uc3BsaWNlKGluZGV4MiwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ2xvYmFsU2VsZWN0aW9uLnNwbGljZShpbmRleDIsIDEpOwogICAgICAgIGdsb2JhbFNlbGVjdGlvbi5zcGxpY2UoaW5kZXgxLCAxKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKGluZGV4MSA9PT0gLTEpIHsKICAgICAgICBnbG9iYWxTZWxlY3Rpb24ucHVzaChub2RlMSk7CiAgICAgIH0KCiAgICAgIGlmIChpbmRleDIgPT09IC0xKSB7CiAgICAgICAgZ2xvYmFsU2VsZWN0aW9uLnB1c2gobm9kZTIpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBub2RlRXZlbnRIYW5kbGVyKGUsIGQpIHsKICAgIGlmIChlLmN0cmxLZXkpIHsKICAgICAgbm9kZU1TKGQuZW1wbG95ZWVJRCk7CiAgICB9IGVsc2UgewogICAgICBub2RlU1MoZC5lbXBsb3llZUlEKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGVkZ2VFdmVudEhhbmRsZXIoZSwgZCkgewogICAgaWYgKGUuY3RybEtleSkgewogICAgICBlZGdlTVMoZC5zb3VyY2UsIGQudGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIGVkZ2VTUyhkLnNvdXJjZSwgZC50YXJnZXQpOwogICAgfQogIH0KCiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgdXBkYXRlSGlnaGxpZ2h0KCk7CiAgfSwgMTApOwp9CgpleHBvcnQgZGVmYXVsdCBnZW5lcmF0ZU1hdHJpeDs="},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/adjacencymatrix.js"],"names":["d3","generateMatrix","edges","nodes","edgeWeights","globalSelection","side","document","getElementById","value","w","clientWidth","h","clientHeight","textLength","lineHighlightOpacity","squareSize","Math","floor","length","strokeSize","textSpace","minOpacity","logCoefficient","log2","maxWeight","nodePositions","i","position","employeeID","toString","localSelection","svg","select","append","attr","call","zoom","on","event","transform","highlightGridLine","highlightHorizontalLine","highlightVerticalLine","selectAll","data","enter","d","style","grid","target","source","weight","text","textHorizontal","textVertical","name","highlightGridBorder","highlightLeftBorder","highlightUpBorder","e","nodeEventHandler","shiftKey","edgeEventHandler","horizontal","vertical","showLines","hideLines","updateHighlight","slice","forEach","node","index","indexOf","unHighlightNode","splice","highlightNeighbours","unHighlightText","push","unHighlightNeighbours","highlightNode","classSelect","v","edge","node1","node2","nodeSS","nodeMS","edgeSS","index1","index2","edgeMS","ctrlKey","setInterval"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\r\n\r\nfunction generateMatrix(edges, nodes, edgeWeights, globalSelection) {\r\n\r\n  var side = document.getElementById(\"testSelectAM\").value;\r\n  var w = document.getElementById(\"viscontent\").clientWidth;\r\n  var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n  const textLength = 12;                                                        // change this to the approx max node text length\r\n  const lineHighlightOpacity = 0.4;                                             // opacity of highlight line (the orange part inside the highlight broders)\r\n  const squareSize = Math.floor(h / (nodes.length + textLength)) - 1;           // the edge side length\r\n  const strokeSize = squareSize / 4;                                            // the width of the highlight rectangle border\r\n  const textSpace = squareSize * textLength;                                    // approx space allocated for text (important only to center the visualisation when rendering)\r\n  const minOpacity = 0.3;                                                       // opacity of an edge with weight 1\r\n  const logCoefficient = (1 - minOpacity) / Math.log2(edgeWeights.maxWeight);   // coeficient that is used to calculate opacity\r\n\r\n  // nodePositions is an object that stores the positions where the nodes should be displayed in the adj matrix\r\n  var nodePositions = {};\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    let position = (nodes[i].employeeID).toString()\r\n    nodePositions[position] = i;\r\n  }\r\n\r\n  var localSelection = [];\r\n\r\n  // array of selected nodes\r\n\r\n  // every svg component goes in here\r\n  var svg = d3\r\n    .select('#' + side)\r\n    .append(\"svg\")\r\n    .attr(\"height\", h)\r\n    .attr(\"width\", w)\r\n    .call(\r\n      d3.zoom().on(\"zoom\", (event) => {\r\n        svg.attr(\"transform\", event.transform);\r\n      })\r\n    )\r\n    .append(\"g\");\r\n\r\n  var highlightGridLine = svg.append(\"g\").attr(\"id\", \"highlightGridLine\");                            // all highlight grid lines\r\n  var highlightHorizontalLine = highlightGridLine.append(\"g\").attr(\"id\", \"highlightHorizontalLine\");  // horizontal highlight lines\r\n  var highlightVerticalLine = highlightGridLine.append(\"g\").attr(\"id\", \"highlightVerticalLine\");      // vertical highlight line\r\n\r\n  highlightHorizontalLine.selectAll(\"rect\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"class\", (d) => {\r\n      return \"hLineHighlightID\" + d.employeeID;\r\n    })\r\n    .attr(\"height\", squareSize / 4)\r\n    .attr(\"width\", nodes.length * squareSize)\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return ((nodePositions[(d.employeeID).toString()] * squareSize) + textSpace + (squareSize * 3 / 8));\r\n    })\r\n    .attr(\"fill\", \"orange\")\r\n    .style(\"opacity\", lineHighlightOpacity)\r\n    .style(\"visibility\", \"hidden\");\r\n\r\n  highlightVerticalLine.selectAll(\"rect\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"class\", (d) => {\r\n      return \"vLineHighlightID\" + d.employeeID;\r\n    })\r\n    .attr(\"height\", nodes.length * squareSize)\r\n    .attr(\"width\", squareSize / 4)\r\n    .attr(\"x\", (d) => {\r\n      return ((nodePositions[(d.employeeID).toString()] * squareSize) + textSpace + (squareSize * 3 / 8));\r\n    })\r\n    .attr(\"y\", textSpace)\r\n    .attr(\"fill\", \"orange\")\r\n    .style(\"opacity\", lineHighlightOpacity)\r\n    .style(\"visibility\", \"hidden\");\r\n\r\n  // the grid of edges\r\n  var grid = svg.append(\"g\").attr(\"id\", \"grid\");\r\n  grid.selectAll(\"rect\")\r\n    .data(edges)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"class\", (d) => {\r\n      return \"id\" + d.target + \" \" + \"id\" + d.source;\r\n    })\r\n    .attr(\"x\", (d) => {\r\n      return (nodePositions[(d.target).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.source).toString()] * squareSize) + textSpace;\r\n    })\r\n    .attr(\"height\", squareSize)\r\n    .attr(\"width\", squareSize)\r\n    .style(\"fill\", \"white\")\r\n    // .style(\"stroke\", (d) => {\r\n    //   let r=127-(d.sentiment*100)\r\n    //   let g=127+(d.sentiment*100);\r\n    //   let b=0;\r\n\r\n    //   return \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n    // })\r\n    // .attr(\"stroke-width\", strokeSize)\r\n    .style(\"opacity\", ((d) => { return (Math.log2(d.weight) * logCoefficient) + minOpacity }));  // this makes it so that overlayed rectangles can be seen (kind of adds weights to the edges)\r\n\r\n  var text = svg.append(\"g\").attr(\"id\", \"matrixText\");                 // all text nodes\r\n  var textHorizontal = text.append(\"g\").attr(\"id\", \"textHorizontal\");  // the horizontal text nodes\r\n  var textVertical = text.append(\"g\").attr(\"id\", \"textVertical\");      // the vertical text nodes\r\n\r\n  textHorizontal.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"class\", (d) => {\r\n      return \"hTextID\" + d.employeeID;\r\n    })\r\n    .attr(\"x\", textSpace - strokeSize)\r\n    .attr(\"y\", (d) => {\r\n      return (nodePositions[(d.employeeID).toString()] * squareSize) + textSpace + (squareSize * 0.75);\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize)\r\n\r\n  textVertical.selectAll(\"text\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"text-anchor\", \"end\")\r\n    .attr(\"transform\", \"rotate(90)\")\r\n    .attr(\"class\", (d) => {\r\n      return \"vTextID\" + d.employeeID;\r\n    })\r\n    .attr(\"x\", textSpace - strokeSize)\r\n    .attr(\"y\", (d) => {\r\n      return -((nodePositions[(d.employeeID).toString()] * squareSize) + textSpace + (squareSize * 0.25));\r\n    })\r\n    .text((d) => {\r\n      return d.name;\r\n    })\r\n    .style(\"fill\", \"white\")\r\n    .style(\"font-size\", squareSize);\r\n\r\n  var highlightGridBorder = svg.append(\"g\").attr(\"id\", \"highlightGridBorder\");                  // all highlight grid borders\r\n  var highlightLeftBorder = highlightGridBorder.append(\"g\").attr(\"id\", \"highlightLeftBorder\");  // horizontal highlight borders\r\n  var highlightUpBorder = highlightGridBorder.append(\"g\").attr(\"id\", \"highlightUpBorder\");      // vertical highlight borders\r\n\r\n  highlightLeftBorder.selectAll(\"rect\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"class\", (d) => {\r\n      return \"hBorderHighlightID\" + d.employeeID;\r\n    })\r\n    .attr(\"height\", squareSize)\r\n    .attr(\"width\", nodes.length * squareSize)\r\n    .attr(\"x\", textSpace)\r\n    .attr(\"y\", (d) => {\r\n      return ((nodePositions[(d.employeeID).toString()] * squareSize) + textSpace);\r\n    })\r\n    .attr(\"fill\", \"none\")\r\n    .attr(\"stroke\", \"orange\")\r\n    .attr(\"stroke-width\", strokeSize)\r\n    .attr(\"pointer-events\", \"none\")       // this removes event handling from the highlight border\r\n    .style(\"visibility\", \"hidden\");\r\n\r\n  highlightUpBorder.selectAll(\"rect\")\r\n    .data(nodes)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"class\", (d) => {\r\n      return \"vBorderHighlightID\" + d.employeeID;\r\n    })\r\n    .attr(\"height\", nodes.length * squareSize)\r\n    .attr(\"width\", squareSize)\r\n    .attr(\"x\", (d) => {\r\n      return ((nodePositions[(d.employeeID).toString()] * squareSize) + textSpace);\r\n    })\r\n    .attr(\"y\", textSpace)\r\n    .attr(\"fill\", \"none\")\r\n    .attr(\"stroke\", \"orange\")\r\n    .attr(\"stroke-width\", strokeSize)\r\n    .attr(\"pointer-events\", \"none\")       // this removes event handling from the highlight border\r\n    .style(\"visibility\", \"hidden\");\r\n\r\n  // event handler for clicking on nodes\r\n  text.selectAll(\"text\")\r\n    .on(\"click\", function (e, d) {\r\n      nodeEventHandler(e, d);\r\n    })\r\n    .on(\"mouseover\", function (e, d) {\r\n      if (e.shiftKey) {\r\n        nodeEventHandler(e, d);\r\n      }\r\n    })\r\n\r\n  // event handler for clicking on edges\r\n  grid.selectAll(\"rect\")\r\n    .on(\"click\", function (e, d) {\r\n      edgeEventHandler(e, d);\r\n    })\r\n    .on(\"mouseover\", function (e, d) {\r\n      if (e.shiftKey) {\r\n        edgeEventHandler(e, d);\r\n      }\r\n\r\n      var horizontal = d.source;\r\n      var vertical = d.target;\r\n      showLines(horizontal, vertical)\r\n    })\r\n    .on(\"mouseleave\", function (e, d) {\r\n      var horizontal = d.source;\r\n      var vertical = d.target;\r\n\r\n      hideLines(horizontal, vertical)\r\n    });\r\n\r\n  function updateHighlight() {\r\n\r\n    // un-highlight nodes that are no longer highlighted in the NL diagram\r\n    // slice creates a copy of localSelection, so that localSelection.splice doesn't interfere\r\n    localSelection.slice().forEach((node) => {\r\n      var index = globalSelection.indexOf(node);\r\n      if (index === -1) {\r\n        unHighlightNode(node)\r\n        localSelection.splice(localSelection.indexOf(node), 1);\r\n\r\n        // if a node is removed from the selection, but exactly one node remains, then highlight the neighbours of that node\r\n        if (localSelection.length == 1) {\r\n          highlightNeighbours(localSelection[0]);\r\n        }\r\n\r\n        // if no nodes are selected, then also remove neighbours\r\n        if (localSelection.length == 0) {\r\n          unHighlightText();\r\n        }\r\n      }\r\n    });\r\n\r\n    // highlight nodes that were highlighted in the NL diagram\r\n    globalSelection.forEach((node) => {\r\n      var index = localSelection.indexOf(node);\r\n      if (index === -1) {\r\n        localSelection.push(node);\r\n\r\n        // if a new node is added to selection, and is the only node, then highlight its neighbours\r\n        if (localSelection.length == 1) {\r\n          highlightNeighbours(localSelection[0]);\r\n        }\r\n\r\n        // if a new node is added to selection, and now there are two nodes, then unhighlight the neighbours of the first node\r\n        if (localSelection.length == 2) {\r\n          unHighlightNeighbours(localSelection[0], localSelection[1]);\r\n        }\r\n\r\n        highlightNode(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  // (visually) highlight a node\r\n  function highlightNode(node) {\r\n    let classSelect = \".hTextID\" + node + \",.vTextID\" + node;\r\n    text.selectAll(classSelect).style(\"fill\", \"red\");\r\n    classSelect = \".hBorderHighlightID\" + node + \",.vBorderHighlightID\" + node + \",.hLineHighlightID\" + node + \",.vLineHighlightID\" + node;\r\n    svg.selectAll(classSelect).style(\"visibility\", \"visible\");\r\n  }\r\n\r\n  // (visually) unhighlight a node\r\n  function unHighlightNode(node) {\r\n    let classSelect = \".hTextID\" + node + \",.vTextID\" + node;\r\n    text.selectAll(classSelect).style(\"fill\", \"white\");\r\n    classSelect = \".hBorderHighlightID\" + node + \",.vBorderHighlightID\" + node + \",.hLineHighlightID\" + node + \",.vLineHighlightID\" + node;\r\n    svg.selectAll(classSelect).style(\"visibility\", \"hidden\");\r\n  }\r\n\r\n  // show lines when mouse is inside edge\r\n  function showLines(h, v) {\r\n    svg.selectAll(\"rect.hLineHighlightID\" + h).style(\"visibility\", \"visible\");\r\n    svg.selectAll(\"rect.vLineHighlightID\" + v).style(\"visibility\", \"visible\");\r\n  }\r\n\r\n  // hide lines when mouse leaves edge\r\n  // local selection is used so that lines don't glich and remain on screen after the mouse leaves\r\n  function hideLines(h, v) {\r\n    if (localSelection.indexOf(h) === -1) {\r\n      svg.selectAll(\"rect.hLineHighlightID\" + h).style(\"visibility\", \"hidden\");\r\n    }\r\n\r\n    if (localSelection.indexOf(v) === -1) {\r\n      svg.selectAll(\"rect.vLineHighlightID\" + v).style(\"visibility\", \"hidden\");\r\n    }\r\n  }\r\n\r\n  // (visually) highlight the neighbours of a node\r\n  function highlightNeighbours(node) {\r\n    edges.forEach((edge) => {\r\n\r\n      // highlight vertical neighbour\r\n      if (edge.source == node) {\r\n        if (edge.target != node) {\r\n          text.select(\".vTextID\" + edge.target).style(\"fill\", \"#90ee90\");\r\n        }\r\n      }\r\n\r\n      // highlight horizontal neighbour\r\n      if (edge.target == node) {\r\n        if (edge.source != node) {\r\n          text.select(\".hTextID\" + edge.source).style(\"fill\", \"#90ee90\");\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // (visually) unhighlight the neighbours of a node\r\n  function unHighlightNeighbours(node1, node2) {\r\n    edges.forEach((edge) => {\r\n\r\n      // unhighlight vertical neighbour\r\n      if (edge.source == node1) {\r\n        if ((edge.target != node1) && (edge.target != node2)) {\r\n          text.select(\".vTextID\" + edge.target).style(\"fill\", \"white\");\r\n        }\r\n      }\r\n\r\n      // unhighlight horizontal neighbour\r\n      if (edge.target == node1) {\r\n        if ((edge.source != node1) && (edge.source != node2)) {\r\n          text.select(\".hTextID\" + edge.source).style(\"fill\", \"white\");\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  function unHighlightText() {\r\n    text.selectAll(\"text\").style(\"fill\", \"white\");\r\n  }\r\n\r\n  // SS stands for single selection (called in an event when ctrl is not pressed)\r\n  // MS stands for multiple selection (called in an event when ctrl is pressed)\r\n\r\n\r\n  // single selection that changes the selection to the node clicked\r\n  function nodeSS(node) {\r\n    globalSelection.splice(0, globalSelection.length);\r\n    globalSelection.push(node);\r\n  }\r\n\r\n  // multiple selection that toggles the node clicked\r\n  function nodeMS(node) {\r\n    var index = globalSelection.indexOf(node);\r\n    if (index === -1) {\r\n      globalSelection.push(node);\r\n    } else {\r\n      globalSelection.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  // single selection that changes the selection to the source id\r\n  // or toggles to target id if only source id is already selected\r\n  function edgeSS(node1, node2) {\r\n    var index1 = globalSelection.indexOf(node1);\r\n    var index2 = globalSelection.indexOf(node2);\r\n    globalSelection.splice(0, globalSelection.length);\r\n\r\n    if ((index1 !== -1) && (index2 === -1)) {\r\n      globalSelection.push(node2);\r\n    } else {\r\n      globalSelection.push(node1);\r\n    }\r\n  }\r\n\r\n  // multiple selection that toggles the node clicked\r\n  function edgeMS(node1, node2) {\r\n    var index1 = globalSelection.indexOf(node1);\r\n    var index2 = globalSelection.indexOf(node2);\r\n\r\n    if ((index1 !== -1) && (index2 !== -1)) {\r\n      if (index1 > index2) {\r\n        globalSelection.splice(index1, 1);\r\n        globalSelection.splice(index2, 1);\r\n      } else {\r\n        globalSelection.splice(index2, 1);\r\n        globalSelection.splice(index1, 1);\r\n      }\r\n    } else {\r\n      if (index1 === -1) {\r\n        globalSelection.push(node1);\r\n      }\r\n\r\n      if (index2 === -1) {\r\n        globalSelection.push(node2);\r\n      }\r\n    }\r\n  }\r\n\r\n  function nodeEventHandler(e, d) {\r\n    if (e.ctrlKey) {\r\n      nodeMS(d.employeeID);\r\n    } else {\r\n      nodeSS(d.employeeID);\r\n    }\r\n  }\r\n\r\n  function edgeEventHandler(e, d) {\r\n    if (e.ctrlKey) {\r\n      edgeMS(d.source, d.target);\r\n    } else {\r\n      edgeSS(d.source, d.target);\r\n    }\r\n  }\r\n\r\n  setInterval(function () { updateHighlight(); }, 10);\r\n\r\n}\r\n\r\nexport default generateMatrix"]}]}