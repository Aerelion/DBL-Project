{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js??ref--13-0!/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js","mtime":1623705324110},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9iZXJrYXlrb3NlYmF5L0RvY3VtZW50cy9HaXRIdWIvREJMLVByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKCmZ1bmN0aW9uIGdlbmVyYXRlTmV0d29ya0NhbnZhcyhlZGdlcywgbm9kZXMsIHNlbGVjdGlvbikgewogIHZhciBzaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3RTZWxlY3ROTCIpLnZhbHVlKTsKICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgY2FudmFzLndpZHRoID0gdzsKICBjYW52YXMuaGVpZ2h0ID0gaDsKICBjb25zb2xlLmxvZyhlZGdlcyk7CiAgY29uc29sZS5sb2cobm9kZXMpOwogIHNpZGUuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgY3R4LnN0cm9rZVN0eWxlID0gInJlZCI7CiAgdmFyIHRyYW5zZm9ybSA9IGQzLnpvb21JZGVudGl0eTsKICB2YXIgc2ltdWxhdGlvbiA9IGQzIC8vZG9uZQogIC5mb3JjZVNpbXVsYXRpb24obm9kZXMpLmZvcmNlKCJjaGFyZ2UiLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgoLTUwKSkuZm9yY2UoImxpbmsiLCBkMy5mb3JjZUxpbmsoKS5pZChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGQuZW1wbG95ZWVJRDsKICB9KS5saW5rcyhlZGdlcykpLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3IC8gMiwgaCAvIDIpKS5vbigidGljayIsIHRpY2tlZCk7CgogIGZ1bmN0aW9uIHRpY2tlZCgpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgIGN0eC50cmFuc2xhdGUodHJhbnNmb3JtLngsIHRyYW5zZm9ybS55KTsKICAgIGN0eC5zY2FsZSh0cmFuc2Zvcm0uaywgdHJhbnNmb3JtLmspOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4LmxpbmVXaWR0aCA9IDE7CiAgICBlZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjYWFhIjsKICAgIGN0eC5zdHJva2UoKTsKICAgIHZhciBuZWlnaGJvdXJzID0gZHJhd0VkZ2VzKGVkZ2VzKTsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgLy8gQ2hhbmdlIHNlbGVjdGVkIG5vZGUgdG8gc3RhbmQgb3V0CiAgICAgICAgaWYgKG5vZGUgPT0gc2VsZWN0aW9uKSB7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiNmZjAwMDAiOwogICAgICAgIH0gZWxzZSBpZiAobmVpZ2hib3Vycy5pbmRleE9mKG5vZGUpID49IDApIHsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjMDAwIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwZmYwMCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjZmZmIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgfQoKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgZHJhd05vZGUobm9kZSk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yKG5vZGUpOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvci5mKCk7CiAgICB9CgogICAgZHJhd05vZGVJbmZvcm1hdGlvbihzZWxlY3Rpb24pOwogIH0KCiAgZnVuY3Rpb24gZHJhd0VkZ2VzKGVkZ2VzKSB7CiAgICB2YXIgc2VsZWN0aW9uRWRnZXMgPSBbXTsKICAgIHZhciBub3JtYWxFZGdlcyA9IFtdOwogICAgdmFyIG5laWdoYm91cnMgPSBbXTsKCiAgICBpZiAoc2VsZWN0aW9uID09IG51bGwpIHsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBlZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiNhYWEiOwogICAgICBjdHguc3Ryb2tlKCk7CiAgICB9IGVsc2UgewogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGVkZ2VzKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlZGdlID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIGlmIChlZGdlLnNvdXJjZS5lbXBsb3llZUlEID09IHNlbGVjdGlvbi5lbXBsb3llZUlEKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnRhcmdldCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVkZ2UudGFyZ2V0LmVtcGxveWVlSUQgPT0gc2VsZWN0aW9uLmVtcGxveWVlSUQpIHsKICAgICAgICAgICAgc2VsZWN0aW9uRWRnZXMucHVzaChlZGdlKTsKICAgICAgICAgICAgbmVpZ2hib3Vycy5wdXNoKGVkZ2Uuc291cmNlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5vcm1hbEVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBub3JtYWxFZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiNhYWEiOwogICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgc2VsZWN0aW9uRWRnZXMuZm9yRWFjaChkcmF3RWRnZSk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjZjU4YTJjIjsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgfQoKICAgIHJldHVybiBuZWlnaGJvdXJzOwogIH0KCiAgZnVuY3Rpb24gZHJhd0VkZ2UoZCkgewogICAgY3R4Lm1vdmVUbyhkLnNvdXJjZS54LCBkLnNvdXJjZS55KTsKICAgIGN0eC5saW5lVG8oZC50YXJnZXQueCwgZC50YXJnZXQueSk7IC8vY3R4LmZpbGxUZXh0KGQuc2VudGltZW50LCAoKGQuc291cmNlLnggKyBkLnRhcmdldC54KSAvIDIpICsgMTAgLCAoKGQuc291cmNlLnkgKyBkLnRhcmdldC55KSAvIDIpICsgMyk7CiAgICAvL2NvbnNvbGUubG9nKGQuc2VudGltZW50KQogIH0KCiAgZnVuY3Rpb24gZHJhd05vZGUoZCkgewogICAgY3R4Lm1vdmVUbyhkLngsIGQueSk7CiAgICBjdHguYXJjKGQueCwgZC55LCAzLCAwLCAyICogTWF0aC5QSSk7IC8vY3R4LmZpbGxUZXh0KCJJRDogIiArIGQuZW1wbG95ZWVJRCwgZC54KzEwLCBkLnkrMyk7CiAgfQoKICBmdW5jdGlvbiBkcmF3Tm9kZUluZm9ybWF0aW9uKGQpIHsKICAgIGlmIChkICE9IG51bGwpIHsKICAgICAgdmFyIHBvcHVwWCA9IGQueCArIDEwOwogICAgICB2YXIgcG9wdXBZID0gZC55ICsgMTA7CiAgICAgIHZhciBwb3B1cFNpemUgPSBjdHgubWVhc3VyZVRleHQoZC5lbWFpbCkud2lkdGggKyA0OwogICAgICBjdHguZmlsbFN0eWxlID0gIiNmZmYiOwogICAgICBjdHguZmlsbFJlY3QocG9wdXBYLCBwb3B1cFksIHBvcHVwU2l6ZSwgMzYpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiIzAwMCI7CiAgICAgIGN0eC5zdHJva2VSZWN0KHBvcHVwWCwgcG9wdXBZLCBwb3B1cFNpemUsIDM2KTsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDAwIjsKICAgICAgY3R4LmZpbGxUZXh0KGV4dHJhY3ROYW1lKGQuZW1haWwpICsgIiB8ICIgKyBkLmVtcGxveWVlSUQsIHBvcHVwWCArIDIsIHBvcHVwWSArIDEwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuam9iVGl0bGUsIHBvcHVwWCArIDIsIHBvcHVwWSArIDIwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuZW1haWwsIHBvcHVwWCArIDIsIHBvcHVwWSArIDMwKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGV4dHJhY3ROYW1lKGVtYWlsKSB7CiAgICAvLyBTcGxpY2Ugb2ZmIHRoZSBlbWFpbCBzZXJ2ZXIKICAgIHZhciBuYW1lQnVpbGRlciA9IGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCJAIikpOyAvLyBTcGxpdCBtYWlsIGludG8gc2VwZXJhdGUgbmFtZXMKCiAgICBuYW1lQnVpbGRlciA9IG5hbWVCdWlsZGVyLnNwbGl0KCIuIik7IC8vIEluaXRpYWxpemUgc3VybmFtZXMgYW5kIGNhcGl0YWxpemUKCiAgICB2YXIgbmFtZSA9ICIiOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZUJ1aWxkZXIubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKG5hbWVCdWlsZGVyW2ldICE9IG51bGwgJiYgbmFtZUJ1aWxkZXJbaV0ubGVuZ3RoID4gMCkgewogICAgICAgIGlmIChpIDwgbmFtZUJ1aWxkZXIubGVuZ3RoIC0gMSkgewogICAgICAgICAgbmFtZSA9IG5hbWUgKyBuYW1lQnVpbGRlcltpXVswXS50b1VwcGVyQ2FzZSgpICsgIi4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuYW1lID0gbmFtZSArICIgIiArIG5hbWVCdWlsZGVyW2ldWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lQnVpbGRlcltpXS5zdWJzdHJpbmcoMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG5hbWU7CiAgfQoKICBmdW5jdGlvbiBjb2xvcigpIHsKICAgIHZhciBzY2FsZSA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTsKICAgIHJldHVybiBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gc2NhbGUoZC5ncm91cCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gem9vbWluZyhldmVudCkgewogICAgdHJhbnNmb3JtID0gZXZlbnQudHJhbnNmb3JtOwogICAgdGlja2VkKCk7CiAgfQoKICBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7CiAgICBjb25zb2xlLmxvZyhldmVudC5zdWJqZWN0KTsKICAgIHNlbGVjdGlvbiA9IGV2ZW50LnN1YmplY3Q7CiAgfQoKICBmdW5jdGlvbiBkcmFnTm9kZXMoc2ltdWxhdGlvbikgewogICAgZnVuY3Rpb24gZHJhZ1N1YmplY3QoZXZlbnQpIHsKICAgICAgcmV0dXJuIHNpbXVsYXRpb24uZmluZChldmVudC54LCBldmVudC55KTsKICAgIH0gLy8gVXNlIGRyYWdTdGFydCBldmVudCB0byBoYWNrIGluIGNsaWNrYWJpbGl0eSBpbiBIVE1MIGNhbnZhcwoKCiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZChldmVudCkgewogICAgICBvbkNsaWNrKGV2ZW50KTsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC5zdWJqZWN0Lng7CiAgICAgIGV2ZW50LnN1YmplY3QuZnkgPSBldmVudC5zdWJqZWN0Lnk7CiAgICB9CgogICAgZnVuY3Rpb24gZHJhZ2dlZChldmVudCkgewogICAgICBldmVudC5zdWJqZWN0LmZ4ID0gZXZlbnQueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50Lnk7CiAgICB9CgogICAgZnVuY3Rpb24gZHJhZ0VuZGVkKGV2ZW50KSB7CiAgICAgIGlmICghZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgICBldmVudC5zdWJqZWN0LmZ4ID0gbnVsbDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIGQzLmRyYWcoKS5zdWJqZWN0KGRyYWdTdWJqZWN0KS5vbigic3RhcnQiLCBkcmFnU3RhcnRlZCkub24oImRyYWciLCBkcmFnZ2VkKS5vbigiZW5kIiwgZHJhZ0VuZGVkKTsKICB9CgogIGNvbnNvbGUubG9nKHpvb21pbmcpOwogIHJldHVybiBkMy5zZWxlY3QoY3R4LmNhbnZhcykuY2FsbChkcmFnTm9kZXMoc2ltdWxhdGlvbikpLm5vZGUoKTsKfQoKZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVOZXR3b3JrQ2FudmFzOw=="},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js"],"names":["d3","generateNetworkCanvas","edges","nodes","selection","side","document","getElementById","value","canvas","createElement","w","clientWidth","h","clientHeight","width","height","console","log","appendChild","ctx","getContext","strokeStyle","transform","zoomIdentity","simulation","forceSimulation","force","forceManyBody","strength","forceLink","id","d","employeeID","links","forceCenter","on","ticked","clearRect","translate","x","y","scale","k","beginPath","lineWidth","forEach","drawEdge","stroke","neighbours","drawEdges","node","fillStyle","indexOf","drawNode","color","fill","drawNodeInformation","selectionEdges","normalEdges","edge","source","push","target","moveTo","lineTo","arc","Math","PI","popupX","popupY","popupSize","measureText","email","fillRect","strokeRect","fillText","extractName","jobTitle","nameBuilder","substring","split","name","i","length","toUpperCase","scaleOrdinal","schemeCategory10","group","zooming","event","onClick","subject","dragNodes","dragSubject","find","dragStarted","active","alphaTarget","restart","fx","fy","dragged","dragEnded","drag","select","call"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\n\n\nfunction generateNetworkCanvas(edges, nodes, selection) {\n    var side = document.getElementById(document.getElementById(\"testSelectNL\").value);\n    var canvas = document.createElement('canvas');\n    var w = document.getElementById(\"viscontent\").clientWidth;\n    var h = document.getElementById(\"viscontent\").clientHeight;\n\n    canvas.width = w;\n    canvas.height = h;\n    console.log(edges);\n    console.log(nodes);\n\n    side.appendChild(canvas);\n\n    var ctx = canvas.getContext(\"2d\");\n    ctx.strokeStyle = \"red\"\n    \n\n    var transform = d3.zoomIdentity;\n    \n    var simulation = d3 //done\n    .forceSimulation(nodes)\n    .force(\"charge\", d3.forceManyBody().strength(-50))\n    .force(\n      \"link\",\n      d3\n        .forceLink()\n        .id(function (d) {\n          return d.employeeID;\n        })\n        .links(edges)\n    )\n    .force(\"center\", d3.forceCenter(w / 2, h / 2))\n    .on(\"tick\", ticked);\n\n    function ticked() {\n        ctx.clearRect(0,0, canvas.width, canvas.height);\n        ctx.translate(transform.x, transform.y);\n        ctx.scale(transform.k, transform.k);\n        ctx.beginPath();\n        ctx.lineWidth = 1;\n        edges.forEach(drawEdge);\n        ctx.strokeStyle = \"#aaa\";\n        ctx.stroke();\n\n        var neighbours = drawEdges(edges);\n        \n        \n        for (const node of nodes) {\n            // Change selected node to stand out\n            if (node == selection) {\n                ctx.strokeStyle = \"#000\";\n                ctx.fillStyle = \"#ff0000\";\n            } else if (neighbours.indexOf(node) >= 0) {\n                ctx.strokeStyle = \"#000\";\n                ctx.fillStyle = \"#00ff00\";\n            } else {\n                ctx.strokeStyle = \"#fff\";\n                ctx.fillStyle = \"#000\";\n            }\n            ctx.beginPath();\n            drawNode(node) \n            ctx.fillStyle = color(node);\n            ctx.fill();\n            ctx.stroke();\n        }\n        drawNodeInformation(selection);\n\n    }\n\n    function drawEdges(edges) {\n        var selectionEdges = [];\n        var normalEdges = [];\n        var neighbours = [];\n\n        if (selection == null) {\n            ctx.beginPath();\n            edges.forEach(drawEdge);\n            ctx.strokeStyle = \"#aaa\";\n            ctx.stroke();\n        } else {\n            for (const edge of edges) {\n                if (edge.source.employeeID == selection.employeeID) {\n                    selectionEdges.push(edge);\n                    neighbours.push(edge.target);\n                } else if (edge.target.employeeID == selection.employeeID) {\n                    selectionEdges.push(edge);\n                    neighbours.push(edge.source);\n                } else {\n                    normalEdges.push(edge);\n                }\n            }\n            ctx.beginPath();\n            normalEdges.forEach(drawEdge);\n            ctx.strokeStyle = \"#aaa\";\n            ctx.stroke();\n\n            ctx.beginPath();\n            selectionEdges.forEach(drawEdge);\n            ctx.strokeStyle = \"#f58a2c\";\n            ctx.stroke();\n        }\n\n        return neighbours;\n    }\n\n    function drawEdge(d) {\n        ctx.moveTo(d.source.x, d.source.y);\n        ctx.lineTo(d.target.x, d.target.y);\n        //ctx.fillText(d.sentiment, ((d.source.x + d.target.x) / 2) + 10 , ((d.source.y + d.target.y) / 2) + 3);\n        //console.log(d.sentiment)\n    }\n\n    function drawNode(d) {\n        ctx.moveTo(d.x, d.y);\n        ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);\n        //ctx.fillText(\"ID: \" + d.employeeID, d.x+10, d.y+3);\n    }\n\n    function drawNodeInformation(d) {\n        if (d != null) {\n            var popupX = d.x + 10;\n            var popupY = d.y + 10;\n            var popupSize = ctx.measureText(d.email).width + 4;\n            ctx.fillStyle = \"#fff\";\n            ctx.fillRect(popupX, popupY, popupSize, 36);\n\n            ctx.strokeStyle = \"#000\"\n            ctx.strokeRect(popupX, popupY, popupSize, 36);\n            ctx.fillStyle = \"#000\";\n            ctx.fillText(extractName(d.email) + \" | \" + d.employeeID, popupX + 2, popupY + 10);\n            ctx.fillText(d.jobTitle, popupX + 2, popupY + 20);\n            ctx.fillText(d.email, popupX + 2, popupY + 30);\n        }\n    }\n\n    function extractName(email) {\n        // Splice off the email server\n        var nameBuilder = email.substring(0, email.indexOf(\"@\"));\n        // Split mail into seperate names\n        nameBuilder = nameBuilder.split(\".\");\n        // Initialize surnames and capitalize\n        var name = \"\";\n        for (var i = 0; i < nameBuilder.length; i++) {\n            if (nameBuilder[i] != null && nameBuilder[i].length > 0) {\n                if (i < nameBuilder.length-1) {\n                    name = name + nameBuilder[i][0].toUpperCase() + \".\";\n                } else {\n                    name = name + \" \" + nameBuilder[i][0].toUpperCase() + nameBuilder[i].substring(1);\n                }\n            }\n        }\n        return name\n    }\n\n    function color() {\n        var scale = d3.scaleOrdinal(d3.schemeCategory10);\n        return d => scale(d.group);\n    }\n    \n\n    function zooming(event) {\n      transform = event.transform;\n      ticked();\n    }\n\n    function onClick(event) {\n        console.log(event.subject);\n        selection = event.subject;\n    }\n\n    function dragNodes(simulation) {\n        function dragSubject(event) {\n            return simulation.find(event.x, event.y);\n        }\n\n        // Use dragStart event to hack in clickability in HTML canvas\n        function dragStarted(event) {\n          onClick(event);\n\n          if (!event.active) simulation.alphaTarget(0.3).restart();\n          event.subject.fx = event.subject.x;\n          event.subject.fy = event.subject.y;\n        }\n        \n        function dragged(event) {\n          event.subject.fx = event.x;\n          event.subject.fy = event.y;\n        }\n        \n        function dragEnded(event) {\n          if (!event.active) simulation.alphaTarget(0);\n          event.subject.fx = null;\n          event.subject.fy = null;\n        }\n        \n        return d3.drag()\n            .subject(dragSubject)\n            .on(\"start\", dragStarted)\n            .on(\"drag\", dragged)\n            .on(\"end\", dragEnded)\n        }\n\n    console.log(zooming)\n    \n    return d3.select(ctx.canvas).call(dragNodes(simulation)).node();\n}\n\n\nexport default generateNetworkCanvas"]}]}