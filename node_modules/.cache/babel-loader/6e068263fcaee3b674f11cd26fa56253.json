{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js??ref--13-0!/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js","mtime":1624970532830},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9iZXJrYXlrb3NlYmF5L0RvY3VtZW50cy9HaXRIdWIvREJMLVByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLmxvZzEwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5sb2cyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKCmZ1bmN0aW9uIGdlbmVyYXRlTmV0d29ya0NhbnZhcyhlZGdlcywgbm9kZXMsIGVkZ2VXZWlnaHRzLCBzZWxlY3RlZE5vZGUpIHsKICB2YXIgc2lkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0U2VsZWN0TkwiKS52YWx1ZSk7CiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogIHZhciB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRXaWR0aDsKICB2YXIgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXNjb250ZW50IikuY2xpZW50SGVpZ2h0IC0gMTMwOwogIHZhciBvbGRTZWxlY3Rpb24gPSBudWxsOwogIHZhciBtaW5XaWR0aCA9IDE7IC8vIHdpZHRoIG9mIGFuIGVkZ2Ugd2l0aCB3ZWlnaHQgMQoKICB2YXIgbWF4V2lkdGggPSAyOyAvLyB3aWR0aCBvZiBsYXJnZXN0IGVkZ2UKCiAgdmFyIGxvZ0NvZWZmaWNpZW50ID0gKG1heFdpZHRoIC0gbWluV2lkdGgpIC8gTWF0aC5sb2cxMChlZGdlV2VpZ2h0cy5tYXhXZWlnaHQpOwogIHZhciBsb2dDb2VmZmljaWVudDIgPSAoMTAgLSBtaW5XaWR0aCkgLyBNYXRoLmxvZzIoZWRnZVdlaWdodHMubWF4V2VpZ2h0KTsgLy8gY29lZmljaWVudCB0aGF0IGlzIHVzZWQgdG8gY2FsY3VsYXRlIG9wYWNpdHkKCiAgY2FudmFzLndpZHRoID0gdzsKICBjYW52YXMuaGVpZ2h0ID0gaDsgLy8gQ3JlYXRlcyBhIGNpcmNsZSBib3VuZCB3aXRoIGRpYW1ldGVyIG9mIHRoZSBzbWFsbGVzdCBvZiBlaXRoZXIgdGhlIHdpZHRoIG9yIGhlaWdodCBvZiB0aGUgd2luZG93LgoKICB2YXIgYm91bmREaXN0YW5jZSA9IE1hdGgubWluKHcgLyAyLCBoIC8gMik7CiAgdmFyIGJvdW5kRGlzdGFuY2VTcXVhcmVkID0gTWF0aC5wb3coYm91bmREaXN0YW5jZSwgMik7CiAgc2lkZS5hcHBlbmRDaGlsZChjYW52YXMpOwogIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjdHguc3Ryb2tlU3R5bGUgPSAicmVkIjsKICBjdHgubGluZVdpZHRoID0gMC4xOwogIHZhciB0cmFuc2Zvcm0gPSBkMy56b29tSWRlbnRpdHk7CiAgdmFyIHNpbXVsYXRpb24gPSBkMyAvL2RvbmUKICAuZm9yY2VTaW11bGF0aW9uKG5vZGVzKS5mb3JjZSgiY2hhcmdlIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC01MCkuZGlzdGFuY2VNYXgoMjAwKSkuZm9yY2UoImxpbmsiLCBkMy5mb3JjZUxpbmsoKS5pZChmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIGQuZW1wbG95ZWVJRDsKICB9KS5saW5rcyhlZGdlcykuc3RyZW5ndGgoZnVuY3Rpb24gKGVkZ2UpIHsKICAgIGNvbnNvbGUubG9nKGVkZ2UpOwogICAgcmV0dXJuIChNYXRoLmxvZzIoZWRnZS53ZWlnaHQpICogbG9nQ29lZmZpY2llbnQyICsgbWluV2lkdGgpIC8gZWRnZVdlaWdodHMubWF4V2VpZ2h0OwogIH0pKS5mb3JjZSgiY2VudGVyIiwgZDMuZm9yY2VDZW50ZXIodyAvIDIsIGggLyAyKSkub24oInRpY2siLCB0aWNrZWQpOwoKICBmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICBjdHgudHJhbnNsYXRlKHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSk7CiAgICBjdHguc2NhbGUodHJhbnNmb3JtLmssIHRyYW5zZm9ybS5rKTsKICAgIHZhciBuZWlnaGJvdXJzID0gZHJhd0VkZ2VzKGVkZ2VzKTsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICBjb25zdHJhaW5Ob2RlKG5vZGUpOyAvLyBDaGFuZ2Ugc2VsZWN0ZWQgbm9kZSB0byBzdGFuZCBvdXQKCiAgICAgICAgaWYgKG5vZGUuZW1wbG95ZWVJRCA9PSBzZWxlY3RlZE5vZGVbMF0pIHsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjMDAwIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmMDAwMCI7CiAgICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJzLmluZGV4T2Yobm9kZSkgPj0gMCkgewogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiMwMDAiOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDBmZjAwIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiNmZmYiOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDAwIjsKICAgICAgICB9CgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubGluZVdpZHRoID0gMTsKICAgICAgICBkcmF3Tm9kZShub2RlKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3Iobm9kZSk7CiAgICAgICAgY3R4LmZpbGwoKTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICBkcmF3U2VsZWN0aW9uSW5mb3JtYXRpb24oc2VsZWN0ZWROb2RlWzBdKTsKICB9CgogIGZ1bmN0aW9uIGNvbnN0cmFpbk5vZGUobm9kZSkgewogICAgdmFyIGRpc3RhbmNlRnJvbUNlbnRlclNxdWFyZWQgPSBNYXRoLnBvdyhub2RlLnggLSB3IC8gMiwgMikgKyBNYXRoLnBvdyhub2RlLnkgLSBoIC8gMiwgMik7CgogICAgaWYgKGRpc3RhbmNlRnJvbUNlbnRlclNxdWFyZWQgPiBib3VuZERpc3RhbmNlU3F1YXJlZCkgewogICAgICB2YXIgZGlzdGFuY2VGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KGRpc3RhbmNlRnJvbUNlbnRlclNxdWFyZWQpOwogICAgICBub2RlLnggPSAobm9kZS54IC0gdyAvIDIpIC8gZGlzdGFuY2VGcm9tQ2VudGVyICogYm91bmREaXN0YW5jZSArIHcgLyAyOwogICAgICBub2RlLnkgPSAobm9kZS55IC0gaCAvIDIpIC8gZGlzdGFuY2VGcm9tQ2VudGVyICogYm91bmREaXN0YW5jZSArIGggLyAyOwogICAgfSAvL25vZGUueCA9IE1hdGgubWluKHctNiwgTWF0aC5tYXgoMiwgbm9kZS54KSk7CiAgICAvL25vZGUueSA9IE1hdGgubWluKGgtMTMwLCBNYXRoLm1heCgyLCBub2RlLnkpKTsKCiAgfQoKICBmdW5jdGlvbiBkcmF3RWRnZXMoZWRnZXMpIHsKICAgIHZhciBzZWxlY3Rpb25FZGdlcyA9IFtdOwogICAgdmFyIG5vcm1hbEVkZ2VzID0gW107CiAgICB2YXIgbmVpZ2hib3VycyA9IFtdOwoKICAgIGlmIChzZWxlY3RlZE5vZGVbMF0gPT0gbnVsbCkgewogICAgICBlZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWRnZXMpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGVkZ2UgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgaWYgKGVkZ2Uuc291cmNlLmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnRhcmdldCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVkZ2UudGFyZ2V0LmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnNvdXJjZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBub3JtYWxFZGdlcy5wdXNoKGVkZ2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KCiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgbm9ybWFsRWRnZXMuZm9yRWFjaChkcmF3RWRnZSk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjYWFhIjsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIHNlbGVjdGlvbkVkZ2VzLmZvckVhY2goZHJhd0VkZ2UpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiI2Y1OGEyYyI7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgIH0KCiAgICByZXR1cm4gbmVpZ2hib3VyczsKICB9CgogIGZ1bmN0aW9uIGRyYXdFZGdlKGQpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5tb3ZlVG8oZC5zb3VyY2UueCwgZC5zb3VyY2UueSk7CiAgICBjdHgubGluZVRvKGQudGFyZ2V0LngsIGQudGFyZ2V0LnkpOwogICAgY3R4LmxpbmVXaWR0aCA9IE1hdGgubG9nMTAoZC53ZWlnaHQpICogbG9nQ29lZmZpY2llbnQgKyBtaW5XaWR0aDsgLy8gY3R4LmxpbmVXaWR0aCA9IGQud2VpZ2h0IC8gZWRnZVdlaWdodHMubWF4V2VpZ2h0OwoKICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjYWFhIjsKICAgIGN0eC5zdHJva2UoKTsgLy9jdHguZmlsbFRleHQoZC5zZW50aW1lbnQsICgoZC5zb3VyY2UueCArIGQudGFyZ2V0LngpIC8gMikgKyAxMCAsICgoZC5zb3VyY2UueSArIGQudGFyZ2V0LnkpIC8gMikgKyAzKTsKICAgIC8vY29uc29sZS5sb2coZC5zZW50aW1lbnQpCiAgfQoKICBmdW5jdGlvbiBkcmF3Tm9kZShkKSB7CiAgICAvLyBjdHguYmVnaW5QYXRoKCk7CiAgICBjdHgubW92ZVRvKGQueCwgZC55KTsKICAgIGN0eC5hcmMoZC54LCBkLnksIDMsIDAsIDIgKiBNYXRoLlBJKTsgLy8gY3R4LmZpbGxTdHlsZSA9IGNvbG9yKGQpOwogICAgLy8gY3R4LmZpbGwoKTsKICAgIC8vIGN0eC5zdHJva2UoKTsKICAgIC8vY3R4LmZpbGxUZXh0KCJJRDogIiArIGQuZW1wbG95ZWVJRCwgZC54KzEwLCBkLnkrMyk7CiAgfQoKICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uSW5mb3JtYXRpb24oaWQpIHsKICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwMzsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgIHZhciBub2RlID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICBpZiAoaWQgPT0gbm9kZS5lbXBsb3llZUlEKSB7CiAgICAgICAgICBkcmF3Tm9kZUluZm9ybWF0aW9uKG5vZGUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IzLmYoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGRyYXdOb2RlSW5mb3JtYXRpb24oZCkgewogICAgaWYgKGQgIT0gbnVsbCkgewogICAgICB2YXIgcG9wdXBYID0gZC54ICsgMTA7CiAgICAgIHZhciBwb3B1cFkgPSBkLnkgKyAxMDsKICAgICAgdmFyIHBvcHVwU2l6ZSA9IGN0eC5tZWFzdXJlVGV4dChkLmVtYWlsKS53aWR0aCArIDQ7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmZiI7CiAgICAgIGN0eC5maWxsUmVjdChwb3B1cFgsIHBvcHVwWSwgcG9wdXBTaXplLCAzNik7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjMDAwIjsKICAgICAgY3R4LnN0cm9rZVJlY3QocG9wdXBYLCBwb3B1cFksIHBvcHVwU2l6ZSwgMzYpOwogICAgICBjdHguZmlsbFN0eWxlID0gIiMwMDAiOwogICAgICBjdHguZmlsbFRleHQoZC5uYW1lICsgIiB8ICIgKyBkLmVtcGxveWVlSUQsIHBvcHVwWCArIDIsIHBvcHVwWSArIDEwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuam9iVGl0bGUsIHBvcHVwWCArIDIsIHBvcHVwWSArIDIwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuZW1haWwsIHBvcHVwWCArIDIsIHBvcHVwWSArIDMwKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNvbG9yKCkgewogICAgdmFyIHNjYWxlID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApOwogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBzY2FsZShkLmdyb3VwKTsKICAgIH07CiAgfSAvLyBVcGRhdGUgbG9vcCBzZXBlcmF0ZSBmcm9tIHRoZSB0aWNrIGZ1bmN0aW9uLCB0aHVzIG5vdCBjb250cm9sbGVkIGJ5IEQzCgoKICBmdW5jdGlvbiBoZWFydEJlYXQoKSB7CiAgICBpZiAoc2ltdWxhdGlvbi5hbHBoYSgpIDwgMC4wMSAmJiBvbGRTZWxlY3Rpb24gIT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0aW5nIHdha2V1cCIpOwogICAgICBzaW11bGF0aW9uLmFscGhhKDAuMDEpLnJlc3RhcnQoKTsKICAgICAgb2xkU2VsZWN0aW9uID0gc2VsZWN0ZWROb2RlWzBdOwogICAgfQogIH0KCiAgZnVuY3Rpb24gem9vbWluZyhldmVudCkgewogICAgdHJhbnNmb3JtID0gZXZlbnQudHJhbnNmb3JtOwogICAgdGlja2VkKCk7CiAgfQoKICBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7CiAgICBjb25zb2xlLmxvZyhldmVudC5zdWJqZWN0KTsKICAgIHNlbGVjdGVkTm9kZVswXSA9IGV2ZW50LnN1YmplY3QuZW1wbG95ZWVJRDsKICB9CgogIGZ1bmN0aW9uIGRyYWdOb2RlcyhzaW11bGF0aW9uKSB7CiAgICBmdW5jdGlvbiBkcmFnU3ViamVjdChldmVudCkgewogICAgICByZXR1cm4gc2ltdWxhdGlvbi5maW5kKGV2ZW50LngsIGV2ZW50LnkpOwogICAgfSAvLyBVc2UgZHJhZ1N0YXJ0IGV2ZW50IHRvIGhhY2sgaW4gY2xpY2thYmlsaXR5IGluIEhUTUwgY2FudmFzCgoKICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkKGV2ZW50KSB7CiAgICAgIG9uQ2xpY2soZXZlbnQpOwogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50LnN1YmplY3QueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnZ2VkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnRW5kZWQoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBudWxsOwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gZDMuZHJhZygpLnN1YmplY3QoZHJhZ1N1YmplY3QpLm9uKCJzdGFydCIsIGRyYWdTdGFydGVkKS5vbigiZHJhZyIsIGRyYWdnZWQpLm9uKCJlbmQiLCBkcmFnRW5kZWQpOwogIH0KCiAgY29uc29sZS5sb2coem9vbWluZyk7CiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgaGVhcnRCZWF0KCk7CiAgfSwgNTApOyAvLyBDaGVjayBmb3IgdXBkYXRlcyBldmVyeSA1MDAgbXMKCiAgcmV0dXJuIGQzLnNlbGVjdChjdHguY2FudmFzKS5jYWxsKGRyYWdOb2RlcyhzaW11bGF0aW9uKSkubm9kZSgpOwp9CgpleHBvcnQgZGVmYXVsdCBnZW5lcmF0ZU5ldHdvcmtDYW52YXM7"},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js"],"names":["d3","generateNetworkCanvas","edges","nodes","edgeWeights","selectedNode","side","document","getElementById","value","canvas","createElement","w","clientWidth","h","clientHeight","oldSelection","minWidth","maxWidth","logCoefficient","Math","log10","maxWeight","logCoefficient2","log2","width","height","boundDistance","min","boundDistanceSquared","pow","appendChild","ctx","getContext","strokeStyle","lineWidth","transform","zoomIdentity","simulation","forceSimulation","force","forceManyBody","strength","distanceMax","forceLink","id","d","employeeID","links","edge","console","log","weight","forceCenter","on","ticked","clearRect","translate","x","y","scale","k","neighbours","drawEdges","node","constrainNode","fillStyle","indexOf","beginPath","drawNode","color","fill","stroke","drawSelectionInformation","distanceFromCenterSquared","distanceFromCenter","sqrt","selectionEdges","normalEdges","forEach","drawEdge","source","push","target","moveTo","lineTo","arc","PI","drawNodeInformation","popupX","popupY","popupSize","measureText","email","fillRect","strokeRect","fillText","name","jobTitle","scaleOrdinal","schemeCategory10","group","heartBeat","alpha","restart","zooming","event","onClick","subject","dragNodes","dragSubject","find","dragStarted","active","alphaTarget","fx","fy","dragged","dragEnded","drag","setInterval","select","call"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\n\n\n\nfunction generateNetworkCanvas(edges, nodes, edgeWeights, selectedNode) {\n    var side = document.getElementById(document.getElementById(\"testSelectNL\").value);\n    var canvas = document.createElement('canvas');\n    var w = document.getElementById(\"viscontent\").clientWidth;\n    var h = document.getElementById(\"viscontent\").clientHeight - 130;\n    var oldSelection = null;\n\n    const minWidth = 1;                                                              // width of an edge with weight 1\n    const maxWidth = 2;                                                                // width of largest edge\n    const logCoefficient = (maxWidth - minWidth) / Math.log10(edgeWeights.maxWeight); \n    const logCoefficient2 = (10 - minWidth) / Math.log2(edgeWeights.maxWeight); // coeficient that is used to calculate opacity\n\n    canvas.width = w;\n    canvas.height = h;\n    // Creates a circle bound with diameter of the smallest of either the width or height of the window.\n    var boundDistance = Math.min(w / 2, h / 2);\n    var boundDistanceSquared = Math.pow(boundDistance, 2);\n\n    side.appendChild(canvas);\n\n    var ctx = canvas.getContext(\"2d\");\n    ctx.strokeStyle = \"red\"\n    ctx.lineWidth = 0.1;\n\n    var transform = d3.zoomIdentity;\n\n    var simulation = d3 //done\n        .forceSimulation(nodes)\n        .force(\n            \"charge\",\n            d3.forceManyBody()\n                .strength(-50)\n                .distanceMax(200))\n        .force(\n            \"link\",\n            d3\n                .forceLink()\n                .id(function (d) {\n                    return d.employeeID;\n                })\n                .links(edges)\n                .strength(function (edge) {\n                    console.log(edge)\n                    return ((Math.log2(edge.weight) * logCoefficient2) + minWidth) / edgeWeights.maxWeight;\n                })\n        )\n        .force(\"center\", d3.forceCenter(w / 2, h / 2))\n        .on(\"tick\", ticked);\n\n    function ticked() {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.translate(transform.x, transform.y);\n        ctx.scale(transform.k, transform.k);\n\n        var neighbours = drawEdges(edges);\n\n        for (const node of nodes) {\n            constrainNode(node);\n            // Change selected node to stand out\n            if (node.employeeID == selectedNode[0]) {\n                ctx.strokeStyle = \"#000\";\n                ctx.fillStyle = \"#ff0000\";\n            } else if (neighbours.indexOf(node) >= 0) {\n                ctx.strokeStyle = \"#000\";\n                ctx.fillStyle = \"#00ff00\";\n            } else {\n                ctx.strokeStyle = \"#fff\";\n                ctx.fillStyle = \"#000\";\n            }\n            ctx.beginPath();\n            ctx.lineWidth=1;\n            drawNode(node)\n            ctx.fillStyle = color(node);\n            ctx.fill();\n            ctx.stroke();\n        }\n        drawSelectionInformation(selectedNode[0]);\n    }\n\n\n    function constrainNode(node) {\n        var distanceFromCenterSquared = Math.pow(node.x - w / 2, 2) + Math.pow(node.y - h / 2, 2);\n        if (distanceFromCenterSquared > boundDistanceSquared) {\n            var distanceFromCenter = Math.sqrt(distanceFromCenterSquared);\n            node.x = ((node.x - w / 2) / distanceFromCenter) * boundDistance + w / 2;\n            node.y = ((node.y - h / 2) / distanceFromCenter) * boundDistance + h / 2;\n        }\n        //node.x = Math.min(w-6, Math.max(2, node.x));\n        //node.y = Math.min(h-130, Math.max(2, node.y));\n    }\n\n    function drawEdges(edges) {\n        var selectionEdges = [];\n        var normalEdges = [];\n        var neighbours = [];\n\n        if (selectedNode[0] == null) {\n            edges.forEach(drawEdge);\n        } else {\n            for (const edge of edges) {\n                if (edge.source.employeeID == selectedNode[0]) {\n                    selectionEdges.push(edge);\n                    neighbours.push(edge.target);\n                } else if (edge.target.employeeID == selectedNode[0]) {\n                    selectionEdges.push(edge);\n                    neighbours.push(edge.source);\n                } else {\n                    normalEdges.push(edge);\n                }\n            }\n            ctx.beginPath();\n            normalEdges.forEach(drawEdge);\n            ctx.strokeStyle = \"#aaa\";\n            ctx.stroke();\n\n            ctx.beginPath();\n            selectionEdges.forEach(drawEdge);\n            ctx.strokeStyle = \"#f58a2c\";\n            ctx.stroke();\n        }\n\n        return neighbours;\n    }\n\n    function drawEdge(d) {\n        ctx.beginPath();\n        ctx.moveTo(d.source.x, d.source.y);\n        ctx.lineTo(d.target.x, d.target.y);\n        ctx.lineWidth=(Math.log10(d.weight) * logCoefficient) + minWidth;\n        // ctx.lineWidth = d.weight / edgeWeights.maxWeight;\n        ctx.strokeStyle = \"#aaa\";\n        ctx.stroke();\n        //ctx.fillText(d.sentiment, ((d.source.x + d.target.x) / 2) + 10 , ((d.source.y + d.target.y) / 2) + 3);\n        //console.log(d.sentiment)\n    }\n\n    function drawNode(d) {\n        // ctx.beginPath();\n        ctx.moveTo(d.x, d.y);\n        ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);\n        // ctx.fillStyle = color(d);\n        // ctx.fill();\n        // ctx.stroke();\n        //ctx.fillText(\"ID: \" + d.employeeID, d.x+10, d.y+3);\n    }\n\n    function drawSelectionInformation(id) {\n        for (const node of nodes) {\n            if (id == node.employeeID) {\n                drawNodeInformation(node);\n                break;\n            }\n        }\n    }\n    function drawNodeInformation(d) {\n        if (d != null) {\n            var popupX = d.x + 10;\n            var popupY = d.y + 10;\n            var popupSize = ctx.measureText(d.email).width + 4;\n            ctx.fillStyle = \"#fff\";\n            ctx.fillRect(popupX, popupY, popupSize, 36);\n\n            ctx.strokeStyle = \"#000\"\n            ctx.strokeRect(popupX, popupY, popupSize, 36);\n            ctx.fillStyle = \"#000\";\n            ctx.fillText(d.name + \" | \" + d.employeeID, popupX + 2, popupY + 10);\n            ctx.fillText(d.jobTitle, popupX + 2, popupY + 20);\n            ctx.fillText(d.email, popupX + 2, popupY + 30);\n        }\n    }\n\n    function color() {\n        var scale = d3.scaleOrdinal(d3.schemeCategory10);\n        return d => scale(d.group);\n    }\n\n    // Update loop seperate from the tick function, thus not controlled by D3\n    function heartBeat() {\n        if (simulation.alpha() < 0.01 && oldSelection != selectedNode[0]) {\n            console.log(\"Attempting wakeup\");\n            simulation.alpha(0.01).restart();\n            oldSelection = selectedNode[0];\n        }\n    }\n\n    function zooming(event) {\n        transform = event.transform;\n        ticked();\n    }\n\n    function onClick(event) {\n        console.log(event.subject);\n        selectedNode[0] = event.subject.employeeID;\n    }\n\n    function dragNodes(simulation) {\n        function dragSubject(event) {\n            return simulation.find(event.x, event.y);\n        }\n\n        // Use dragStart event to hack in clickability in HTML canvas\n        function dragStarted(event) {\n            onClick(event);\n\n            if (!event.active) simulation.alphaTarget(0.3).restart();\n            event.subject.fx = event.subject.x;\n            event.subject.fy = event.subject.y;\n        }\n\n        function dragged(event) {\n            event.subject.fx = event.x;\n            event.subject.fy = event.y;\n        }\n\n        function dragEnded(event) {\n            if (!event.active) simulation.alphaTarget(0);\n            event.subject.fx = null;\n            event.subject.fy = null;\n        }\n\n        return d3.drag()\n            .subject(dragSubject)\n            .on(\"start\", dragStarted)\n            .on(\"drag\", dragged)\n            .on(\"end\", dragEnded)\n    }\n\n    console.log(zooming);\n\n    setInterval(function () { heartBeat(); }, 50); // Check for updates every 500 ms\n    return d3.select(ctx.canvas).call(dragNodes(simulation)).node();\n}\n\n\nexport default generateNetworkCanvas"]}]}