{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue","mtime":1620235975737},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/brkosebay/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9iZXJrYXlrb3NlYmF5L0RvY3VtZW50cy9HaXRIdWIvYnJrb3NlYmF5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vbWFpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlsZVVwbG9hZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFzZXRzOiB7CiAgICAgICAgZmlsZUxpbms6IG51bGwsCiAgICAgICAgZGF0YU5hbWU6IG51bGwKICAgICAgfSwKICAgICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgICBkYXRhc2V0Tm86IDAKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxEYXRhYmFzZUVudHJpZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEZpbGU6IGZ1bmN0aW9uIHNlbGVjdEZpbGUoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEZpbGUubmFtZSk7CiAgICB9LAogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmaWxlTmFtZSA9ICIiLmNvbmNhdCh0aGlzLnNlbGVjdGVkRmlsZS5uYW1lKTsKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKGZpbGVOYW1lKTsKICAgICAgdmFyIHVwbG9hZFRhc2sgPSBzdG9yYWdlUmVmLnB1dCh0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgIHVwbG9hZFRhc2sub24oJ3N0YXRlX2NoYW5nZWQnLCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy9IYW5kbGUgdW5zdWNjZXNzZnVsbCB1cGxvYWRzLgogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIC8vSGFuZGxlIHN1Y2Nlc3NmdWxsIHVwbG9hZHMuCiAgICAgICAgdXBsb2FkVGFzay5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKGZ1bmN0aW9uIChkb3dubG9hZFVSTCkgewogICAgICAgICAgX3RoaXMuZGF0YXNldHMuZmlsZUxpbmsgPSBkb3dubG9hZFVSTDsKCiAgICAgICAgICBfdGhpcy5zYXZlRGF0YVRvREIoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZURhdGFUb0RCOiBmdW5jdGlvbiBzYXZlRGF0YVRvREIoKSB7CiAgICAgIGRiLmNvbGxlY3Rpb24oImRhdGFzZXRzIikuYWRkKHRoaXMuZGF0YXNldHMpLnRoZW4oZnVuY3Rpb24gKGRvY1JlZikgewogICAgICAgIGNvbnNvbGUubG9nKCJEb2N1bWVudCB3cml0dGVuIHdpdGggSUQ6ICIsIGRvY1JlZi5pZCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFkZGluZyBkb2N1bWVudDogIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93RGF0YWJhc2VFbnRyaWVzOiBmdW5jdGlvbiBzaG93RGF0YWJhc2VFbnRyaWVzKG5hbWUsIGxpbmspIHsKICAgICAgdmFyIHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3QnKTsKICAgICAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7CgogICAgICB2YXIgX25hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwoKICAgICAgdmFyIF92aXN1YWxpc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKCiAgICAgIGhlYWRlci5pbm5lckhUTUwgPSAiRGF0YXNldC0iICsgKyt0aGlzLmRhdGFzZXRObzsKICAgICAgX25hbWUuaW5uZXJIVE1MID0gIk5hbWUgb2YgdGhlIGRhdGFzZXQ6ICIgKyBuYW1lOwogICAgICBfdmlzdWFsaXNlLmlubmVySFRNTCA9ICJWaXN1YWxpc2UiOwogICAgICBfdmlzdWFsaXNlLm9uY2xpY2sgPSAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChsaW5rKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZDMuY3N2KHJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICB1bC5hcHBlbmRDaGlsZChoZWFkZXIpOwogICAgICB1bC5hcHBlbmRDaGlsZChfbmFtZSk7CiAgICAgIHVsLmFwcGVuZENoaWxkKF92aXN1YWxpc2UpOwogICAgfSwKICAgIGdldEFsbERhdGFiYXNlRW50cmllczogZnVuY3Rpb24gZ2V0QWxsRGF0YWJhc2VFbnRyaWVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRiLmNvbGxlY3Rpb24oJ2RhdGFzZXRzJykuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBuYW1lID0gZG9jLmRhdGEoKS5kYXRhTmFtZTsKICAgICAgICAgIHZhciBsaW5rID0gZG9jLmRhdGEoKS5maWxlTGluazsKCiAgICAgICAgICBfdGhpczIuc2hvd0RhdGFiYXNlRW50cmllcyhuYW1lLCBsaW5rKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/brkosebay/src/views/fileUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"fileupload\" v-bind:style=\"{display:grid}\">\n    <h1>File Upload Page</h1>\n    <input type=\"text\" placeholder=\"Name of the Dataset\" v-model=datasets.dataName class=\"form-control\"><br><br>\n    <input type=\"file\" @change=\"selectFile\"><button @click=\"uploadFile\">Upload</button><br><br>\n    <ul id=\"list\"> </ul>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\nimport * as d3 from 'd3';\nimport {db} from '../main'\n\nexport default {\n  name: 'fileUpload',\n  data () {\n      return {\n        datasets: {\n          fileLink: null,\n          dataName: null,\n        },\n          selectedFile: null,\n          datasetNo: 0\n      }\n  },\n  mounted() {\n    this.getAllDatabaseEntries();\n  },\n  methods: {\n      selectFile(event) {\n          console.log(event)\n          this.selectedFile = event.target.files[0]\n          console.log(this.selectedFile.name)\n      },\n      uploadFile() {\n          let fileName = `${this.selectedFile.name}`;\n          var storageRef = firebase.storage().ref(fileName);\n          let uploadTask = storageRef.put(this.selectedFile);\n          uploadTask.on('state_changed', () => {\n          }, (error) => {\n            //Handle unsuccessfull uploads.\n            console.log(error);\n          }, () => {\n            //Handle successfull uploads.\n            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n              this.datasets.fileLink = downloadURL;\n              this.saveDataToDB();\n            })\n          })\n          },\n        saveDataToDB() {\n          db.collection(\"datasets\").add(this.datasets).then((docRef) => {\n            console.log(\"Document written with ID: \", docRef.id);\n          })\n          .catch( (error) => {\n            console.error(\"Error adding document: \", error);\n          })\n          },\n        showDatabaseEntries(name, link) {\n          var ul = document.getElementById('list');\n          var header = document.createElement('h2');\n          var _name = document.createElement('li');\n          var _visualise = document.createElement('button');\n          header.innerHTML = \"Dataset-\"+ (++this.datasetNo);\n          _name.innerHTML=\"Name of the dataset: \"+name;\n          _visualise.innerHTML = \"Visualise\";\n          _visualise.onclick = async () => {\n            const response = await fetch(link);\n            const data = await d3.csv(response).then((data) => {\n              console.log(data);\n            });\n          }\n          ul.appendChild(header);\n          ul.appendChild(_name);\n          ul.appendChild(_visualise);\n        },\n        getAllDatabaseEntries() {\n          db.collection('datasets').get().then((snapshot) => {\n            snapshot.forEach((doc) => {\n              let name = doc.data().dataName;\n              let link = doc.data().fileLink;\n              this.showDatabaseEntries(name, link);\n            }\n            )\n          }\n          )\n        },\n        }\n      }\n</script>\n\n"],"sourceRoot":""}]}