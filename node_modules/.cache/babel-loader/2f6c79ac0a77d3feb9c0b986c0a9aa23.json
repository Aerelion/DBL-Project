{"remainingRequest":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js!/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js??ref--13-0!/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js","dependencies":[{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js","mtime":1622825193943},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/berkaykosebay/Documents/GitHub/DBL-Project/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKCmZ1bmN0aW9uIGdlbmVyYXRlTmV0d29yayhlZGdlcywgbm9kZXMpIHsKICB2YXIgc2lkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0U2VsZWN0IikudmFsdWU7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiIyIgKyBzaWRlKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgdykuYXR0cigiaGVpZ2h0IiwgaCkuc3R5bGUoImJhY2tncm91bmQiLCAiYmxhY2siKS5jYWxsKGQzLnpvb20oKS5vbigiem9vbSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgc3ZnLmF0dHIoInRyYW5zZm9ybSIsIGV2ZW50LnRyYW5zZm9ybSkuc2NhbGVFeHRlbnQoWzEsIDI0XSk7CiAgfSkpLmFwcGVuZCgiZyIpOwogIHZhciBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKG5vZGVzKS5mb3JjZSgiY2hhcmdlIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC01MCkpLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKCkuaWQoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBkLmVtcGxveWVlSUQ7CiAgfSkubGlua3MoZWRnZXMpKS5mb3JjZSgiY2VudGVyIiwgZDMuZm9yY2VDZW50ZXIodyAvIDIsIGggLyAyKSkub24oImVuZCIsIHRpY2tlZCk7CiAgdmFyIGVkZ2UgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAibGlua3MiKS5zZWxlY3RBbGwoImxpbmUiKS5kYXRhKGVkZ2VzKS5lbnRlcigpLmFwcGVuZCgibGluZSIpLnN0eWxlKCJzdHJva2UiLCAiI2FhYSIpOwogIHZhciBub2RlID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgIm5vZGVzIikuc2VsZWN0QWxsKCJjaXJjbGUiKS5kYXRhKG5vZGVzKS5qb2luKCJjaXJjbGUiKS5hdHRyKCJyIiwgNSkuYXR0cigiZmlsbCIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAiYmx1ZSI7CiAgfSkuY2FsbChkcmFnTm9kZXMoc2ltdWxhdGlvbikpOwoKICBmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBlZGdlLmF0dHIoIngxIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuc291cmNlLng7CiAgICB9KS5hdHRyKCJ5MSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLnNvdXJjZS55OwogICAgfSkuYXR0cigieDIiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC50YXJnZXQueDsKICAgIH0pLmF0dHIoInkyIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQudGFyZ2V0Lnk7CiAgICB9KTsKICAgIG5vZGUuYXR0cigiY3giLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC54OwogICAgfSkuYXR0cigiY3kiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC55OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBkcmFnTm9kZXMoc2ltdWxhdGlvbikgewogICAgLy8gVGhpcyBuZWVkcyBhIGxvdCBtb3JlIG9wdGltaXphdGlvbiwgc28gaXQgaXMgYmVpbmcgbGVmdCBvdXQgZm9yIHRoZSBwcm90b3R5cGUuCiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZChldmVudCkgewogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50LnN1YmplY3QueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnZ2VkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnRW5kZWQoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBudWxsOwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gZDMuZHJhZygpLm9uKCJzdGFydCIsIGRyYWdTdGFydGVkKS5vbigiZHJhZyIsIGRyYWdnZWQpLm9uKCJlbmQiLCBkcmFnRW5kZWQpOwogIH0KCiAgY29uc29sZS5sb2coc2ltdWxhdGlvbik7CiAgcmV0dXJuIHN2Zy5ub2RlKCk7Cn0KCmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlTmV0d29yazs="},{"version":3,"sources":["/Users/berkaykosebay/Documents/GitHub/DBL-Project/src/visualisations/nodelink.js"],"names":["d3","generateNetwork","edges","nodes","side","document","getElementById","value","w","clientWidth","h","clientHeight","svg","select","append","attr","style","call","zoom","on","event","transform","scaleExtent","simulation","forceSimulation","force","forceManyBody","strength","forceLink","id","d","employeeID","links","forceCenter","ticked","edge","selectAll","data","enter","node","join","dragNodes","source","x","y","target","dragStarted","active","alphaTarget","restart","subject","fx","fy","dragged","dragEnded","drag","console","log"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,KAAhC,EAAuC;AACrC,MAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAjD;AACA,MAAIC,CAAC,GAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCG,WAA9C;AACA,MAAIC,CAAC,GAAGL,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCK,YAA9C;AAEA,MAAIC,GAAG,GAAGZ,EAAE,CACTa,MADO,CACA,MAAMT,IADN,EAEPU,MAFO,CAEA,KAFA,EAGPC,IAHO,CAGF,OAHE,EAGOP,CAHP,EAIPO,IAJO,CAIF,QAJE,EAIQL,CAJR,EAKPM,KALO,CAKD,YALC,EAKa,OALb,EAMPC,IANO,CAONjB,EAAE,CAACkB,IAAH,GAAUC,EAAV,CAAa,MAAb,EAAqB,UAACC,KAAD,EAAW;AAC9BR,IAAAA,GAAG,CAACG,IAAJ,CAAS,WAAT,EAAsBK,KAAK,CAACC,SAA5B,EAAuCC,WAAvC,CAAmD,CAAC,CAAD,EAAI,EAAJ,CAAnD;AACD,GAFD,CAPM,EAWPR,MAXO,CAWA,GAXA,CAAV;AAaA,MAAIS,UAAU,GAAGvB,EAAE,CAChBwB,eADc,CACErB,KADF,EAEdsB,KAFc,CAER,QAFQ,EAEEzB,EAAE,CAAC0B,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CAFF,EAGdF,KAHc,CAIb,MAJa,EAKbzB,EAAE,CACC4B,SADH,GAEGC,EAFH,CAEM,UAAUC,CAAV,EAAa;AACf,WAAOA,CAAC,CAACC,UAAT;AACD,GAJH,EAKGC,KALH,CAKS9B,KALT,CALa,EAYduB,KAZc,CAYR,QAZQ,EAYEzB,EAAE,CAACiC,WAAH,CAAezB,CAAC,GAAG,CAAnB,EAAsBE,CAAC,GAAG,CAA1B,CAZF,EAadS,EAbc,CAaX,KAbW,EAaJe,MAbI,CAAjB;AAeA,MAAIC,IAAI,GAAGvB,GAAG,CACXE,MADQ,CACD,GADC,EAERC,IAFQ,CAEH,OAFG,EAEM,OAFN,EAGRqB,SAHQ,CAGE,MAHF,EAIRC,IAJQ,CAIHnC,KAJG,EAKRoC,KALQ,GAMRxB,MANQ,CAMD,MANC,EAORE,KAPQ,CAOF,QAPE,EAOQ,MAPR,CAAX;AASA,MAAIuB,IAAI,GAAG3B,GAAG,CACXE,MADQ,CACD,GADC,EAERC,IAFQ,CAEH,OAFG,EAEM,OAFN,EAGRqB,SAHQ,CAGE,QAHF,EAIRC,IAJQ,CAIHlC,KAJG,EAKRqC,IALQ,CAKH,QALG,EAMRzB,IANQ,CAMH,GANG,EAME,CANF,EAORA,IAPQ,CAOH,MAPG,EAOK,YAAY;AACxB,WAAO,MAAP;AACD,GATQ,EAURE,IAVQ,CAUHwB,SAAS,CAAClB,UAAD,CAVN,CAAX;;AAYA,WAASW,MAAT,GAAkB;AAChBC,IAAAA,IAAI,CACDpB,IADH,CACQ,IADR,EACc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACY,MAAF,CAASC,CAAhB;AACD,KAHH,EAIG5B,IAJH,CAIQ,IAJR,EAIc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACY,MAAF,CAASE,CAAhB;AACD,KANH,EAOG7B,IAPH,CAOQ,IAPR,EAOc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACe,MAAF,CAASF,CAAhB;AACD,KATH,EAUG5B,IAVH,CAUQ,IAVR,EAUc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACe,MAAF,CAASD,CAAhB;AACD,KAZH;AAcAL,IAAAA,IAAI,CACDxB,IADH,CACQ,IADR,EACc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACa,CAAT;AACD,KAHH,EAIG5B,IAJH,CAIQ,IAJR,EAIc,UAAUe,CAAV,EAAa;AACvB,aAAOA,CAAC,CAACc,CAAT;AACD,KANH;AAOD;;AAID,WAASH,SAAT,CAAmBlB,UAAnB,EAA+B;AAAE;AAC7B,aAASuB,WAAT,CAAqB1B,KAArB,EAA4B;AAC1B,UAAI,CAACA,KAAK,CAAC2B,MAAX,EAAmBxB,UAAU,CAACyB,WAAX,CAAuB,GAAvB,EAA4BC,OAA5B;AACnB7B,MAAAA,KAAK,CAAC8B,OAAN,CAAcC,EAAd,GAAmB/B,KAAK,CAAC8B,OAAN,CAAcP,CAAjC;AACAvB,MAAAA,KAAK,CAAC8B,OAAN,CAAcE,EAAd,GAAmBhC,KAAK,CAAC8B,OAAN,CAAcN,CAAjC;AACD;;AAED,aAASS,OAAT,CAAiBjC,KAAjB,EAAwB;AACtBA,MAAAA,KAAK,CAAC8B,OAAN,CAAcC,EAAd,GAAmB/B,KAAK,CAACuB,CAAzB;AACAvB,MAAAA,KAAK,CAAC8B,OAAN,CAAcE,EAAd,GAAmBhC,KAAK,CAACwB,CAAzB;AACD;;AAED,aAASU,SAAT,CAAmBlC,KAAnB,EAA0B;AACxB,UAAI,CAACA,KAAK,CAAC2B,MAAX,EAAmBxB,UAAU,CAACyB,WAAX,CAAuB,CAAvB;AACnB5B,MAAAA,KAAK,CAAC8B,OAAN,CAAcC,EAAd,GAAmB,IAAnB;AACA/B,MAAAA,KAAK,CAAC8B,OAAN,CAAcE,EAAd,GAAmB,IAAnB;AACD;;AAED,WAAOpD,EAAE,CAACuD,IAAH,GACFpC,EADE,CACC,OADD,EACU2B,WADV,EAEF3B,EAFE,CAEC,MAFD,EAESkC,OAFT,EAGFlC,EAHE,CAGC,KAHD,EAGQmC,SAHR,CAAP;AAID;;AACHE,EAAAA,OAAO,CAACC,GAAR,CAAYlC,UAAZ;AACA,SAAOX,GAAG,CAAC2B,IAAJ,EAAP;AACD;;AAED,eAAetC,eAAf","sourcesContent":["import * as d3 from \"d3\";\n\nfunction generateNetwork(edges, nodes) {\n  var side = document.getElementById(\"testSelect\").value;\n  var w = document.getElementById(\"viscontent\").clientWidth;\n  var h = document.getElementById(\"viscontent\").clientHeight;\n  \n  var svg = d3\n    .select(\"#\" + side)\n    .append(\"svg\")\n    .attr(\"width\", w)\n    .attr(\"height\", h)\n    .style(\"background\", \"black\")\n    .call(\n      d3.zoom().on(\"zoom\", (event) => {\n        svg.attr(\"transform\", event.transform).scaleExtent([1, 24]);\n      })\n    )\n    .append(\"g\");\n\n  var simulation = d3\n    .forceSimulation(nodes)\n    .force(\"charge\", d3.forceManyBody().strength(-50))\n    .force(\n      \"link\",\n      d3\n        .forceLink()\n        .id(function (d) {\n          return d.employeeID;\n        })\n        .links(edges)\n    )\n    .force(\"center\", d3.forceCenter(w / 2, h / 2))\n    .on(\"end\", ticked);\n\n  var edge = svg\n    .append(\"g\")\n    .attr(\"class\", \"links\")\n    .selectAll(\"line\")\n    .data(edges)\n    .enter()\n    .append(\"line\")\n    .style(\"stroke\", \"#aaa\");\n\n  var node = svg\n    .append(\"g\")\n    .attr(\"class\", \"nodes\")\n    .selectAll(\"circle\")\n    .data(nodes)\n    .join(\"circle\")\n    .attr(\"r\", 5)\n    .attr(\"fill\", function () {\n      return \"blue\";\n    })\n    .call(dragNodes(simulation));\n\n  function ticked() {\n    edge\n      .attr(\"x1\", function (d) {\n        return d.source.x;\n      })\n      .attr(\"y1\", function (d) {\n        return d.source.y;\n      })\n      .attr(\"x2\", function (d) {\n        return d.target.x;\n      })\n      .attr(\"y2\", function (d) {\n        return d.target.y;\n      });\n\n    node\n      .attr(\"cx\", function (d) {\n        return d.x;\n      })\n      .attr(\"cy\", function (d) {\n        return d.y;\n      });\n  }\n  \n    \n\n  function dragNodes(simulation) { // This needs a lot more optimization, so it is being left out for the prototype.\n      function dragStarted(event) {\n        if (!event.active) simulation.alphaTarget(0.3).restart();\n        event.subject.fx = event.subject.x;\n        event.subject.fy = event.subject.y;\n      }\n      \n      function dragged(event) {\n        event.subject.fx = event.x;\n        event.subject.fy = event.y;\n      }\n      \n      function dragEnded(event) {\n        if (!event.active) simulation.alphaTarget(0);\n        event.subject.fx = null;\n        event.subject.fy = null;\n      }\n      \n      return d3.drag()\n          .on(\"start\", dragStarted)\n          .on(\"drag\", dragged)\n          .on(\"end\", dragEnded);\n    }\n  console.log(simulation);\n  return svg.node();\n}\n\nexport default generateNetwork"]}]}