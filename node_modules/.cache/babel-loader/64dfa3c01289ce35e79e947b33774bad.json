{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","mtime":1623410494991},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0tvZW4vRG9jdW1lbnRzL0dpdEh1Yi9EQkwtUHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZnVuY3Rpb24gZ2VuZXJhdGVOZXR3b3JrQ2FudmFzKGVkZ2VzLCBub2RlcywgY2FudmFzLCBzZWxlY3Rpb24pIHsKICB2YXIgc2lkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0U2VsZWN0IikudmFsdWU7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2lkZSk7CiAgY2FudmFzLndpZHRoID0gdzsKICBjYW52YXMuaGVpZ2h0ID0gaDsKICBjb25zb2xlLmxvZyhlZGdlcyk7CiAgY29uc29sZS5sb2cobm9kZXMpOwogIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjdHguc3Ryb2tlU3R5bGUgPSAicmVkIjsKICB2YXIgdHJhbnNmb3JtID0gZDMuem9vbUlkZW50aXR5OwogIHZhciBzaW11bGF0aW9uID0gZDMgLy9kb25lCiAgLmZvcmNlU2ltdWxhdGlvbihub2RlcykuZm9yY2UoImNoYXJnZSIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtNTApKS5mb3JjZSgibGluayIsIGQzLmZvcmNlTGluaygpLmlkKGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gZC5lbXBsb3llZUlEOwogIH0pLmxpbmtzKGVkZ2VzKSkuZm9yY2UoImNlbnRlciIsIGQzLmZvcmNlQ2VudGVyKHcgLyAyLCBoIC8gMikpLm9uKCJ0aWNrIiwgdGlja2VkKTsKCiAgZnVuY3Rpb24gdGlja2VkKCkgewogICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgY3R4LnRyYW5zbGF0ZSh0cmFuc2Zvcm0ueCwgdHJhbnNmb3JtLnkpOwogICAgY3R4LnNjYWxlKHRyYW5zZm9ybS5rLCB0cmFuc2Zvcm0uayk7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBlZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjYWFhIjsKICAgIGN0eC5zdHJva2UoKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjZmZmIjsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgLy8gQ2hhbmdlIHNlbGVjdGVkIG5vZGUgdG8gc3RhbmQgb3V0CiAgICAgICAgaWYgKG5vZGUgPT0gc2VsZWN0aW9uKSB7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiNmZjAwMDAiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiI2ZmZiI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiMwMDAiOwogICAgICAgIH0KCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGRyYXdOb2RlKG5vZGUpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcihub2RlKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQoKICAgIGRyYXdOb2RlSW5mb3JtYXRpb24oc2VsZWN0aW9uKTsKICB9CgogIGZ1bmN0aW9uIGRyYXdFZGdlKGQpIHsKICAgIGN0eC5tb3ZlVG8oZC5zb3VyY2UueCwgZC5zb3VyY2UueSk7CiAgICBjdHgubGluZVRvKGQudGFyZ2V0LngsIGQudGFyZ2V0LnkpOyAvL2N0eC5maWxsVGV4dChkLnNlbnRpbWVudCwgKChkLnNvdXJjZS54ICsgZC50YXJnZXQueCkgLyAyKSArIDEwICwgKChkLnNvdXJjZS55ICsgZC50YXJnZXQueSkgLyAyKSArIDMpOwogICAgLy9jb25zb2xlLmxvZyhkLnNlbnRpbWVudCkKICB9CgogIGZ1bmN0aW9uIGRyYXdOb2RlKGQpIHsKICAgIGN0eC5tb3ZlVG8oZC54LCBkLnkpOwogICAgY3R4LmFyYyhkLngsIGQueSwgMywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmZpbGxUZXh0KCJJRDogIiArIGQuZW1wbG95ZWVJRCwgZC54ICsgMTAsIGQueSArIDMpOwogIH0KCiAgZnVuY3Rpb24gZHJhd05vZGVJbmZvcm1hdGlvbihkKSB7CiAgICBpZiAoZCAhPSBudWxsKSB7CiAgICAgIHZhciBwb3B1cFggPSBkLnggKyAxMDsKICAgICAgdmFyIHBvcHVwWSA9IGQueSArIDEwOwogICAgICB2YXIgcG9wdXBTaXplID0gY3R4Lm1lYXN1cmVUZXh0KGQuZW1haWwpLndpZHRoICsgNDsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjZmZmIjsKICAgICAgY3R4LmZpbGxSZWN0KHBvcHVwWCwgcG9wdXBZLCBwb3B1cFNpemUsIDM2KTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiMwMDAiOwogICAgICBjdHguc3Ryb2tlUmVjdChwb3B1cFgsIHBvcHVwWSwgcG9wdXBTaXplLCAzNik7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAiIzAwMCI7CiAgICAgIGN0eC5maWxsVGV4dChleHRyYWN0TmFtZShkLmVtYWlsKSArICIgfCAiICsgZC5lbXBsb3llZUlELCBwb3B1cFggKyAyLCBwb3B1cFkgKyAxMCk7CiAgICAgIGN0eC5maWxsVGV4dChkLmpvYlRpdGxlLCBwb3B1cFggKyAyLCBwb3B1cFkgKyAyMCk7CiAgICAgIGN0eC5maWxsVGV4dChkLmVtYWlsLCBwb3B1cFggKyAyLCBwb3B1cFkgKyAzMCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBleHRyYWN0TmFtZShlbWFpbCkgewogICAgLy8gU3BsaWNlIG9mZiB0aGUgZW1haWwgc2VydmVyCiAgICB2YXIgbmFtZUJ1aWxkZXIgPSBlbWFpbC5zdWJzdHJpbmcoMCwgZW1haWwuaW5kZXhPZigiQCIpKTsgLy8gU3BsaXQgbWFpbCBpbnRvIHNlcGVyYXRlIG5hbWVzCgogICAgbmFtZUJ1aWxkZXIgPSBuYW1lQnVpbGRlci5zcGxpdCgiLiIpOyAvLyBJbml0aWFsaXplIHN1cm5hbWVzIGFuZCBjYXBpdGFsaXplCgogICAgdmFyIG5hbWUgPSAiIjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVCdWlsZGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChuYW1lQnVpbGRlcltpXSAhPSBudWxsICYmIG5hbWVCdWlsZGVyW2ldLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAoaSA8IG5hbWVCdWlsZGVyLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIG5hbWUgPSBuYW1lICsgbmFtZUJ1aWxkZXJbaV1bMF0udG9VcHBlckNhc2UoKSArICIuIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmFtZSA9IG5hbWUgKyAiICIgKyBuYW1lQnVpbGRlcltpXVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZUJ1aWxkZXJbaV0uc3Vic3RyaW5nKDEpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBuYW1lOwogIH0KCiAgZnVuY3Rpb24gY29sb3IoKSB7CiAgICB2YXIgc2NhbGUgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIHNjYWxlKGQuZ3JvdXApOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIHpvb21pbmcoZXZlbnQpIHsKICAgIHRyYW5zZm9ybSA9IGV2ZW50LnRyYW5zZm9ybTsKICAgIHRpY2tlZCgpOwogIH0KCiAgZnVuY3Rpb24gb25DbGljayhldmVudCkgewogICAgY29uc29sZS5sb2coZXZlbnQuc3ViamVjdCk7CiAgICBzZWxlY3Rpb24gPSBldmVudC5zdWJqZWN0OwogIH0KCiAgZnVuY3Rpb24gZHJhZ05vZGVzKHNpbXVsYXRpb24pIHsKICAgIGZ1bmN0aW9uIGRyYWdTdWJqZWN0KGV2ZW50KSB7CiAgICAgIHJldHVybiBzaW11bGF0aW9uLmZpbmQoZXZlbnQueCwgZXZlbnQueSk7CiAgICB9IC8vIFVzZSBkcmFnU3RhcnQgZXZlbnQgdG8gaGFjayBpbiBjbGlja2FiaWxpdHkgaW4gSFRNTCBjYW52YXMKCgogICAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQoZXZlbnQpIHsKICAgICAgb25DbGljayhldmVudCk7CiAgICAgIGlmICghZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDAuMykucmVzdGFydCgpOwogICAgICBldmVudC5zdWJqZWN0LmZ4ID0gZXZlbnQuc3ViamVjdC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQuc3ViamVjdC55OwogICAgfQoKICAgIGZ1bmN0aW9uIGRyYWdnZWQoZXZlbnQpIHsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50Lng7CiAgICAgIGV2ZW50LnN1YmplY3QuZnkgPSBldmVudC55OwogICAgfQoKICAgIGZ1bmN0aW9uIGRyYWdFbmRlZChldmVudCkgewogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IG51bGw7CiAgICAgIGV2ZW50LnN1YmplY3QuZnkgPSBudWxsOwogICAgfQoKICAgIHJldHVybiBkMy5kcmFnKCkuc3ViamVjdChkcmFnU3ViamVjdCkub24oInN0YXJ0IiwgZHJhZ1N0YXJ0ZWQpLm9uKCJkcmFnIiwgZHJhZ2dlZCkub24oImVuZCIsIGRyYWdFbmRlZCk7CiAgfQoKICBjb25zb2xlLmxvZyh6b29taW5nKTsKICByZXR1cm4gZDMuc2VsZWN0KGN0eC5jYW52YXMpLmNhbGwoZHJhZ05vZGVzKHNpbXVsYXRpb24pKS5ub2RlKCk7Cn0KCmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlTmV0d29ya0NhbnZhczs="},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js"],"names":["d3","generateNetworkCanvas","edges","nodes","canvas","selection","side","document","getElementById","value","w","clientWidth","h","clientHeight","width","height","console","log","ctx","getContext","strokeStyle","transform","zoomIdentity","simulation","forceSimulation","force","forceManyBody","strength","forceLink","id","d","employeeID","links","forceCenter","on","ticked","clearRect","translate","x","y","scale","k","beginPath","forEach","drawEdge","stroke","node","fillStyle","drawNode","color","fill","drawNodeInformation","moveTo","source","lineTo","target","arc","Math","PI","fillText","popupX","popupY","popupSize","measureText","email","fillRect","strokeRect","extractName","jobTitle","nameBuilder","substring","indexOf","split","name","i","length","toUpperCase","scaleOrdinal","schemeCategory10","group","zooming","event","onClick","subject","dragNodes","dragSubject","find","dragStarted","active","alphaTarget","restart","fx","fy","dragged","dragEnded","drag","select","call"],"mappings":";;;;;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;;AAGA,SAASC,qBAAT,CAA+BC,KAA/B,EAAsCC,KAAtC,EAA6CC,MAA7C,EAAqDC,SAArD,EAAgE;AAC5D,MAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAjD;AACA,MAAIC,CAAC,GAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCG,WAA9C;AACA,MAAIC,CAAC,GAAGL,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCK,YAA9C;AAEAT,EAAAA,MAAM,GAAGG,QAAQ,CAACC,cAAT,CAAwBF,IAAxB,CAAT;AACAF,EAAAA,MAAM,CAACU,KAAP,GAAeJ,CAAf;AACAN,EAAAA,MAAM,CAACW,MAAP,GAAgBH,CAAhB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYf,KAAZ;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AAEA,MAAIe,GAAG,GAAGd,MAAM,CAACe,UAAP,CAAkB,IAAlB,CAAV;AACAD,EAAAA,GAAG,CAACE,WAAJ,GAAkB,KAAlB;AAGA,MAAIC,SAAS,GAAGrB,EAAE,CAACsB,YAAnB;AAEA,MAAIC,UAAU,GAAGvB,EAAE,CAAC;AAAD,GAClBwB,eADgB,CACArB,KADA,EAEhBsB,KAFgB,CAEV,QAFU,EAEAzB,EAAE,CAAC0B,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CAFA,EAGhBF,KAHgB,CAIf,MAJe,EAKfzB,EAAE,CACC4B,SADH,GAEGC,EAFH,CAEM,UAAUC,CAAV,EAAa;AACf,WAAOA,CAAC,CAACC,UAAT;AACD,GAJH,EAKGC,KALH,CAKS9B,KALT,CALe,EAYhBuB,KAZgB,CAYV,QAZU,EAYAzB,EAAE,CAACiC,WAAH,CAAevB,CAAC,GAAG,CAAnB,EAAsBE,CAAC,GAAG,CAA1B,CAZA,EAahBsB,EAbgB,CAab,MAba,EAaLC,MAbK,CAAjB;;AAeA,WAASA,MAAT,GAAkB;AACdjB,IAAAA,GAAG,CAACkB,SAAJ,CAAc,CAAd,EAAgB,CAAhB,EAAmBhC,MAAM,CAACU,KAA1B,EAAiCV,MAAM,CAACW,MAAxC;AACAG,IAAAA,GAAG,CAACmB,SAAJ,CAAchB,SAAS,CAACiB,CAAxB,EAA2BjB,SAAS,CAACkB,CAArC;AACArB,IAAAA,GAAG,CAACsB,KAAJ,CAAUnB,SAAS,CAACoB,CAApB,EAAuBpB,SAAS,CAACoB,CAAjC;AACAvB,IAAAA,GAAG,CAACwB,SAAJ;AACAxC,IAAAA,KAAK,CAACyC,OAAN,CAAcC,QAAd;AACA1B,IAAAA,GAAG,CAACE,WAAJ,GAAkB,MAAlB;AACAF,IAAAA,GAAG,CAAC2B,MAAJ;AAEA3B,IAAAA,GAAG,CAACE,WAAJ,GAAkB,MAAlB;;AATc,+CAUKjB,KAVL;AAAA;;AAAA;AAUd,0DAA0B;AAAA,YAAf2C,IAAe;;AACtB;AACA,YAAIA,IAAI,IAAIzC,SAAZ,EAAuB;AACnBa,UAAAA,GAAG,CAACE,WAAJ,GAAkB,MAAlB;AACAF,UAAAA,GAAG,CAAC6B,SAAJ,GAAgB,SAAhB;AACH,SAHD,MAGO;AACH7B,UAAAA,GAAG,CAACE,WAAJ,GAAkB,MAAlB;AACAF,UAAAA,GAAG,CAAC6B,SAAJ,GAAgB,MAAhB;AACH;;AACD7B,QAAAA,GAAG,CAACwB,SAAJ;AACAM,QAAAA,QAAQ,CAACF,IAAD,CAAR;AACA5B,QAAAA,GAAG,CAAC6B,SAAJ,GAAgBE,KAAK,CAACH,IAAD,CAArB;AACA5B,QAAAA,GAAG,CAACgC,IAAJ;AACAhC,QAAAA,GAAG,CAAC2B,MAAJ;AACH;AAxBa;AAAA;AAAA;AAAA;AAAA;;AAyBdM,IAAAA,mBAAmB,CAAC9C,SAAD,CAAnB;AACH;;AAED,WAASuC,QAAT,CAAkBd,CAAlB,EAAqB;AACjBZ,IAAAA,GAAG,CAACkC,MAAJ,CAAWtB,CAAC,CAACuB,MAAF,CAASf,CAApB,EAAuBR,CAAC,CAACuB,MAAF,CAASd,CAAhC;AACArB,IAAAA,GAAG,CAACoC,MAAJ,CAAWxB,CAAC,CAACyB,MAAF,CAASjB,CAApB,EAAuBR,CAAC,CAACyB,MAAF,CAAShB,CAAhC,EAFiB,CAGjB;AACA;AACH;;AAED,WAASS,QAAT,CAAkBlB,CAAlB,EAAqB;AACjBZ,IAAAA,GAAG,CAACkC,MAAJ,CAAWtB,CAAC,CAACQ,CAAb,EAAgBR,CAAC,CAACS,CAAlB;AACArB,IAAAA,GAAG,CAACsC,GAAJ,CAAQ1B,CAAC,CAACQ,CAAV,EAAaR,CAAC,CAACS,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,IAAIkB,IAAI,CAACC,EAAjC;AACAxC,IAAAA,GAAG,CAACyC,QAAJ,CAAa,SAAS7B,CAAC,CAACC,UAAxB,EAAoCD,CAAC,CAACQ,CAAF,GAAI,EAAxC,EAA4CR,CAAC,CAACS,CAAF,GAAI,CAAhD;AACH;;AAED,WAASY,mBAAT,CAA6BrB,CAA7B,EAAgC;AAC5B,QAAIA,CAAC,IAAI,IAAT,EAAe;AACX,UAAI8B,MAAM,GAAG9B,CAAC,CAACQ,CAAF,GAAM,EAAnB;AACA,UAAIuB,MAAM,GAAG/B,CAAC,CAACS,CAAF,GAAM,EAAnB;AACA,UAAIuB,SAAS,GAAG5C,GAAG,CAAC6C,WAAJ,CAAgBjC,CAAC,CAACkC,KAAlB,EAAyBlD,KAAzB,GAAiC,CAAjD;AACAI,MAAAA,GAAG,CAAC6B,SAAJ,GAAgB,MAAhB;AACA7B,MAAAA,GAAG,CAAC+C,QAAJ,CAAaL,MAAb,EAAqBC,MAArB,EAA6BC,SAA7B,EAAwC,EAAxC;AAEA5C,MAAAA,GAAG,CAACE,WAAJ,GAAkB,MAAlB;AACAF,MAAAA,GAAG,CAACgD,UAAJ,CAAeN,MAAf,EAAuBC,MAAvB,EAA+BC,SAA/B,EAA0C,EAA1C;AACA5C,MAAAA,GAAG,CAAC6B,SAAJ,GAAgB,MAAhB;AACA7B,MAAAA,GAAG,CAACyC,QAAJ,CAAaQ,WAAW,CAACrC,CAAC,CAACkC,KAAH,CAAX,GAAuB,KAAvB,GAA+BlC,CAAC,CAACC,UAA9C,EAA0D6B,MAAM,GAAG,CAAnE,EAAsEC,MAAM,GAAG,EAA/E;AACA3C,MAAAA,GAAG,CAACyC,QAAJ,CAAa7B,CAAC,CAACsC,QAAf,EAAyBR,MAAM,GAAG,CAAlC,EAAqCC,MAAM,GAAG,EAA9C;AACA3C,MAAAA,GAAG,CAACyC,QAAJ,CAAa7B,CAAC,CAACkC,KAAf,EAAsBJ,MAAM,GAAG,CAA/B,EAAkCC,MAAM,GAAG,EAA3C;AACH;AACJ;;AAED,WAASM,WAAT,CAAqBH,KAArB,EAA4B;AACxB;AACA,QAAIK,WAAW,GAAGL,KAAK,CAACM,SAAN,CAAgB,CAAhB,EAAmBN,KAAK,CAACO,OAAN,CAAc,GAAd,CAAnB,CAAlB,CAFwB,CAGxB;;AACAF,IAAAA,WAAW,GAAGA,WAAW,CAACG,KAAZ,CAAkB,GAAlB,CAAd,CAJwB,CAKxB;;AACA,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,WAAW,CAACM,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AACzC,UAAIL,WAAW,CAACK,CAAD,CAAX,IAAkB,IAAlB,IAA0BL,WAAW,CAACK,CAAD,CAAX,CAAeC,MAAf,GAAwB,CAAtD,EAAyD;AACrD,YAAID,CAAC,GAAGL,WAAW,CAACM,MAAZ,GAAmB,CAA3B,EAA8B;AAC1BF,UAAAA,IAAI,GAAGA,IAAI,GAAGJ,WAAW,CAACK,CAAD,CAAX,CAAe,CAAf,EAAkBE,WAAlB,EAAP,GAAyC,GAAhD;AACH,SAFD,MAEO;AACHH,UAAAA,IAAI,GAAGA,IAAI,GAAG,GAAP,GAAaJ,WAAW,CAACK,CAAD,CAAX,CAAe,CAAf,EAAkBE,WAAlB,EAAb,GAA+CP,WAAW,CAACK,CAAD,CAAX,CAAeJ,SAAf,CAAyB,CAAzB,CAAtD;AACH;AACJ;AACJ;;AACD,WAAOG,IAAP;AACH;;AAED,WAASxB,KAAT,GAAiB;AACb,QAAIT,KAAK,GAAGxC,EAAE,CAAC6E,YAAH,CAAgB7E,EAAE,CAAC8E,gBAAnB,CAAZ;AACA,WAAO,UAAAhD,CAAC;AAAA,aAAIU,KAAK,CAACV,CAAC,CAACiD,KAAH,CAAT;AAAA,KAAR;AACH;;AAGD,WAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB5D,IAAAA,SAAS,GAAG4D,KAAK,CAAC5D,SAAlB;AACAc,IAAAA,MAAM;AACP;;AAED,WAAS+C,OAAT,CAAiBD,KAAjB,EAAwB;AACpBjE,IAAAA,OAAO,CAACC,GAAR,CAAYgE,KAAK,CAACE,OAAlB;AACA9E,IAAAA,SAAS,GAAG4E,KAAK,CAACE,OAAlB;AACH;;AAED,WAASC,SAAT,CAAmB7D,UAAnB,EAA+B;AAC3B,aAAS8D,WAAT,CAAqBJ,KAArB,EAA4B;AACxB,aAAO1D,UAAU,CAAC+D,IAAX,CAAgBL,KAAK,CAAC3C,CAAtB,EAAyB2C,KAAK,CAAC1C,CAA/B,CAAP;AACH,KAH0B,CAK3B;;;AACA,aAASgD,WAAT,CAAqBN,KAArB,EAA4B;AAC1BC,MAAAA,OAAO,CAACD,KAAD,CAAP;AAEA,UAAI,CAACA,KAAK,CAACO,MAAX,EAAmBjE,UAAU,CAACkE,WAAX,CAAuB,GAAvB,EAA4BC,OAA5B;AACnBT,MAAAA,KAAK,CAACE,OAAN,CAAcQ,EAAd,GAAmBV,KAAK,CAACE,OAAN,CAAc7C,CAAjC;AACA2C,MAAAA,KAAK,CAACE,OAAN,CAAcS,EAAd,GAAmBX,KAAK,CAACE,OAAN,CAAc5C,CAAjC;AACD;;AAED,aAASsD,OAAT,CAAiBZ,KAAjB,EAAwB;AACtBA,MAAAA,KAAK,CAACE,OAAN,CAAcQ,EAAd,GAAmBV,KAAK,CAAC3C,CAAzB;AACA2C,MAAAA,KAAK,CAACE,OAAN,CAAcS,EAAd,GAAmBX,KAAK,CAAC1C,CAAzB;AACD;;AAED,aAASuD,SAAT,CAAmBb,KAAnB,EAA0B;AACxB,UAAI,CAACA,KAAK,CAACO,MAAX,EAAmBjE,UAAU,CAACkE,WAAX,CAAuB,CAAvB;AACnBR,MAAAA,KAAK,CAACE,OAAN,CAAcQ,EAAd,GAAmB,IAAnB;AACAV,MAAAA,KAAK,CAACE,OAAN,CAAcS,EAAd,GAAmB,IAAnB;AACD;;AAED,WAAO5F,EAAE,CAAC+F,IAAH,GACFZ,OADE,CACME,WADN,EAEFnD,EAFE,CAEC,OAFD,EAEUqD,WAFV,EAGFrD,EAHE,CAGC,MAHD,EAGS2D,OAHT,EAIF3D,EAJE,CAIC,KAJD,EAIQ4D,SAJR,CAAP;AAKC;;AAEL9E,EAAAA,OAAO,CAACC,GAAR,CAAY+D,OAAZ;AACA,SAAOhF,EAAE,CAACgG,MAAH,CAAU9E,GAAG,CAACd,MAAd,EAAsB6F,IAAtB,CAA2Bb,SAAS,CAAC7D,UAAD,CAApC,EAAkDuB,IAAlD,EAAP;AACH;;AAGD,eAAe7C,qBAAf","sourcesContent":["import * as d3 from \"d3\";\r\n\r\n\r\nfunction generateNetworkCanvas(edges, nodes, canvas, selection) {\r\n    var side = document.getElementById(\"testSelect\").value;\r\n    var w = document.getElementById(\"viscontent\").clientWidth;\r\n    var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n    canvas = document.getElementById(side);\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n    console.log(edges);\r\n    console.log(nodes);\r\n\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.strokeStyle = \"red\"\r\n    \r\n\r\n    var transform = d3.zoomIdentity;\r\n    \r\n    var simulation = d3 //done\r\n    .forceSimulation(nodes)\r\n    .force(\"charge\", d3.forceManyBody().strength(-50))\r\n    .force(\r\n      \"link\",\r\n      d3\r\n        .forceLink()\r\n        .id(function (d) {\r\n          return d.employeeID;\r\n        })\r\n        .links(edges)\r\n    )\r\n    .force(\"center\", d3.forceCenter(w / 2, h / 2))\r\n    .on(\"tick\", ticked);\r\n\r\n    function ticked() {\r\n        ctx.clearRect(0,0, canvas.width, canvas.height);\r\n        ctx.translate(transform.x, transform.y);\r\n        ctx.scale(transform.k, transform.k);\r\n        ctx.beginPath();\r\n        edges.forEach(drawEdge);\r\n        ctx.strokeStyle = \"#aaa\";\r\n        ctx.stroke();\r\n\r\n        ctx.strokeStyle = \"#fff\";\r\n        for (const node of nodes) {\r\n            // Change selected node to stand out\r\n            if (node == selection) {\r\n                ctx.strokeStyle = \"#000\";\r\n                ctx.fillStyle = \"#ff0000\";\r\n            } else {\r\n                ctx.strokeStyle = \"#fff\";\r\n                ctx.fillStyle = \"#000\";\r\n            }\r\n            ctx.beginPath();\r\n            drawNode(node) \r\n            ctx.fillStyle = color(node);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        }\r\n        drawNodeInformation(selection)\r\n    }\r\n\r\n    function drawEdge(d) {\r\n        ctx.moveTo(d.source.x, d.source.y);\r\n        ctx.lineTo(d.target.x, d.target.y);\r\n        //ctx.fillText(d.sentiment, ((d.source.x + d.target.x) / 2) + 10 , ((d.source.y + d.target.y) / 2) + 3);\r\n        //console.log(d.sentiment)\r\n    }\r\n\r\n    function drawNode(d) {\r\n        ctx.moveTo(d.x, d.y);\r\n        ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);\r\n        ctx.fillText(\"ID: \" + d.employeeID, d.x+10, d.y+3);\r\n    }\r\n\r\n    function drawNodeInformation(d) {\r\n        if (d != null) {\r\n            var popupX = d.x + 10;\r\n            var popupY = d.y + 10;\r\n            var popupSize = ctx.measureText(d.email).width + 4;\r\n            ctx.fillStyle = \"#fff\";\r\n            ctx.fillRect(popupX, popupY, popupSize, 36);\r\n\r\n            ctx.strokeStyle = \"#000\"\r\n            ctx.strokeRect(popupX, popupY, popupSize, 36);\r\n            ctx.fillStyle = \"#000\";\r\n            ctx.fillText(extractName(d.email) + \" | \" + d.employeeID, popupX + 2, popupY + 10);\r\n            ctx.fillText(d.jobTitle, popupX + 2, popupY + 20);\r\n            ctx.fillText(d.email, popupX + 2, popupY + 30);\r\n        }\r\n    }\r\n\r\n    function extractName(email) {\r\n        // Splice off the email server\r\n        var nameBuilder = email.substring(0, email.indexOf(\"@\"));\r\n        // Split mail into seperate names\r\n        nameBuilder = nameBuilder.split(\".\");\r\n        // Initialize surnames and capitalize\r\n        var name = \"\";\r\n        for (var i = 0; i < nameBuilder.length; i++) {\r\n            if (nameBuilder[i] != null && nameBuilder[i].length > 0) {\r\n                if (i < nameBuilder.length-1) {\r\n                    name = name + nameBuilder[i][0].toUpperCase() + \".\";\r\n                } else {\r\n                    name = name + \" \" + nameBuilder[i][0].toUpperCase() + nameBuilder[i].substring(1);\r\n                }\r\n            }\r\n        }\r\n        return name\r\n    }\r\n\r\n    function color() {\r\n        var scale = d3.scaleOrdinal(d3.schemeCategory10);\r\n        return d => scale(d.group);\r\n    }\r\n    \r\n\r\n    function zooming(event) {\r\n      transform = event.transform;\r\n      ticked();\r\n    }\r\n\r\n    function onClick(event) {\r\n        console.log(event.subject);\r\n        selection = event.subject;\r\n    }\r\n\r\n    function dragNodes(simulation) {\r\n        function dragSubject(event) {\r\n            return simulation.find(event.x, event.y);\r\n        }\r\n\r\n        // Use dragStart event to hack in clickability in HTML canvas\r\n        function dragStarted(event) {\r\n          onClick(event);\r\n\r\n          if (!event.active) simulation.alphaTarget(0.3).restart();\r\n          event.subject.fx = event.subject.x;\r\n          event.subject.fy = event.subject.y;\r\n        }\r\n        \r\n        function dragged(event) {\r\n          event.subject.fx = event.x;\r\n          event.subject.fy = event.y;\r\n        }\r\n        \r\n        function dragEnded(event) {\r\n          if (!event.active) simulation.alphaTarget(0);\r\n          event.subject.fx = null;\r\n          event.subject.fy = null;\r\n        }\r\n        \r\n        return d3.drag()\r\n            .subject(dragSubject)\r\n            .on(\"start\", dragStarted)\r\n            .on(\"drag\", dragged)\r\n            .on(\"end\", dragEnded)\r\n        }\r\n\r\n    console.log(zooming)\r\n    return d3.select(ctx.canvas).call(dragNodes(simulation)).node();\r\n}\r\n\r\n\r\nexport default generateNetworkCanvas"]}]}