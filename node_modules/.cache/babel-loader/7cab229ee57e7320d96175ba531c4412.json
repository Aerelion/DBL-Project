{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","mtime":1624975288095},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0tvZW4vRG9jdW1lbnRzL0dpdEh1Yi9EQkwtUHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hdGgubG9nMTAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLmxvZzIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwoKZnVuY3Rpb24gZ2VuZXJhdGVOZXR3b3JrQ2FudmFzKGVkZ2VzLCBub2RlcywgZWRnZVdlaWdodHMsIHNlbGVjdGVkTm9kZSkgewogIHZhciBzaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3RTZWxlY3ROTCIpLnZhbHVlKTsKICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQgLSAxMzA7CiAgdmFyIG9sZFNlbGVjdGlvbiA9IG51bGw7CiAgdmFyIG1pbldpZHRoID0gMTsgLy8gd2lkdGggb2YgYW4gZWRnZSB3aXRoIHdlaWdodCAxCgogIHZhciBtYXhXaWR0aCA9IDI7IC8vIHdpZHRoIG9mIGxhcmdlc3QgZWRnZQoKICB2YXIgbG9nQ29lZmZpY2llbnQgPSAobWF4V2lkdGggLSBtaW5XaWR0aCkgLyBNYXRoLmxvZzEwKGVkZ2VXZWlnaHRzLm1heFdlaWdodCk7CiAgdmFyIGxvZ0NvZWZmaWNpZW50MiA9ICgxMCAtIG1pbldpZHRoKSAvIE1hdGgubG9nMihlZGdlV2VpZ2h0cy5tYXhXZWlnaHQpOyAvLyBjb2VmaWNpZW50IHRoYXQgaXMgdXNlZCB0byBjYWxjdWxhdGUgb3BhY2l0eQoKICBjYW52YXMud2lkdGggPSB3OwogIGNhbnZhcy5oZWlnaHQgPSBoOyAvLyBDcmVhdGVzIGEgY2lyY2xlIGJvdW5kIHdpdGggZGlhbWV0ZXIgb2YgdGhlIHNtYWxsZXN0IG9mIGVpdGhlciB0aGUgd2lkdGggb3IgaGVpZ2h0IG9mIHRoZSB3aW5kb3cuCgogIHZhciBib3VuZERpc3RhbmNlID0gTWF0aC5taW4odyAvIDIsIGggLyAyKTsKICB2YXIgYm91bmREaXN0YW5jZVNxdWFyZWQgPSBNYXRoLnBvdyhib3VuZERpc3RhbmNlLCAyKTsKICBzaWRlLmFwcGVuZENoaWxkKGNhbnZhcyk7CiAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogIGN0eC5zdHJva2VTdHlsZSA9ICJyZWQiOwogIGN0eC5saW5lV2lkdGggPSAwLjE7CiAgdmFyIHRyYW5zZm9ybSA9IGQzLnpvb21JZGVudGl0eTsKICB2YXIgc2ltdWxhdGlvbiA9IGQzIC8vZG9uZQogIC5mb3JjZVNpbXVsYXRpb24obm9kZXMpLmZvcmNlKCJjaGFyZ2UiLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgoLTUwKS5kaXN0YW5jZU1heCgyMDApKS5mb3JjZSgibGluayIsIGQzLmZvcmNlTGluaygpLmlkKGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gZC5lbXBsb3llZUlEOwogIH0pLmxpbmtzKGVkZ2VzKS5zdHJlbmd0aChmdW5jdGlvbiAoZWRnZSkgewogICAgY29uc29sZS5sb2coZWRnZSk7CiAgICByZXR1cm4gKE1hdGgubG9nMihlZGdlLndlaWdodCkgKiBsb2dDb2VmZmljaWVudDIgKyBtaW5XaWR0aCkgLyBlZGdlV2VpZ2h0cy5tYXhXZWlnaHQ7CiAgfSkpLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3IC8gMiwgaCAvIDIpKS5vbigidGljayIsIHRpY2tlZCk7CgogIGZ1bmN0aW9uIHRpY2tlZCgpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgIGN0eC50cmFuc2xhdGUodHJhbnNmb3JtLngsIHRyYW5zZm9ybS55KTsKICAgIGN0eC5zY2FsZSh0cmFuc2Zvcm0uaywgdHJhbnNmb3JtLmspOwogICAgdmFyIG5laWdoYm91cnMgPSBwcmVwYXJlRWRnZXMoZWRnZXMpOwoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub2RlcyksCiAgICAgICAgX3N0ZXA7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgbm9kZSA9IF9zdGVwLnZhbHVlOwogICAgICAgIGNvbnN0cmFpbk5vZGUobm9kZSk7IC8vIENoYW5nZSBzZWxlY3RlZCBub2RlIHRvIHN0YW5kIG91dAoKICAgICAgICBpZiAobm9kZS5lbXBsb3llZUlEID09IHNlbGVjdGVkTm9kZVswXSkgewogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiMwMDAiOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjZmYwMDAwIjsKICAgICAgICB9IGVsc2UgaWYgKG5laWdoYm91cnMuaW5kZXhPZihub2RlKSA+PSAwKSB7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiIzAwMCI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiMwMGZmMDAiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiI2ZmZiI7CiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gIiMwMDAiOwogICAgICAgIH0KCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgICAgIGRyYXdOb2RlKG5vZGUpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcihub2RlKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQoKICAgIGRyYXdTZWxlY3Rpb25JbmZvcm1hdGlvbihzZWxlY3RlZE5vZGVbMF0pOwogIH0KCiAgZnVuY3Rpb24gY29uc3RyYWluTm9kZShub2RlKSB7CiAgICB2YXIgZGlzdGFuY2VGcm9tQ2VudGVyU3F1YXJlZCA9IE1hdGgucG93KG5vZGUueCAtIHcgLyAyLCAyKSArIE1hdGgucG93KG5vZGUueSAtIGggLyAyLCAyKTsKCiAgICBpZiAoZGlzdGFuY2VGcm9tQ2VudGVyU3F1YXJlZCA+IGJvdW5kRGlzdGFuY2VTcXVhcmVkKSB7CiAgICAgIHZhciBkaXN0YW5jZUZyb21DZW50ZXIgPSBNYXRoLnNxcnQoZGlzdGFuY2VGcm9tQ2VudGVyU3F1YXJlZCk7CiAgICAgIG5vZGUueCA9IChub2RlLnggLSB3IC8gMikgLyBkaXN0YW5jZUZyb21DZW50ZXIgKiBib3VuZERpc3RhbmNlICsgdyAvIDI7CiAgICAgIG5vZGUueSA9IChub2RlLnkgLSBoIC8gMikgLyBkaXN0YW5jZUZyb21DZW50ZXIgKiBib3VuZERpc3RhbmNlICsgaCAvIDI7CiAgICB9IC8vbm9kZS54ID0gTWF0aC5taW4ody02LCBNYXRoLm1heCgyLCBub2RlLngpKTsKICAgIC8vbm9kZS55ID0gTWF0aC5taW4oaC0xMzAsIE1hdGgubWF4KDIsIG5vZGUueSkpOwoKICB9CgogIGZ1bmN0aW9uIHByZXBhcmVFZGdlcyhlZGdlcykgewogICAgdmFyIHNlbGVjdGlvbkVkZ2VzID0gW107CiAgICB2YXIgbm9ybWFsRWRnZXMgPSBbXTsKICAgIHZhciBuZWlnaGJvdXJzID0gW107CgogICAgaWYgKHNlbGVjdGVkTm9kZVswXSA9PSBudWxsKSB7CiAgICAgIGRyYXdBbGxFZGdlcyhlZGdlcywgJyNhYWEnKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWRnZXMpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGVkZ2UgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgaWYgKGVkZ2Uuc291cmNlLmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnRhcmdldCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVkZ2UudGFyZ2V0LmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnNvdXJjZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBub3JtYWxFZGdlcy5wdXNoKGVkZ2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KCiAgICAgIGRyYXdBbGxFZGdlcyhub3JtYWxFZGdlcywgJyNhYWEnKTsKICAgICAgZHJhd0FsbEVkZ2VzKHNlbGVjdGlvbkVkZ2VzLCAnI2Y1OGEyYycpOwogICAgfQoKICAgIHJldHVybiBuZWlnaGJvdXJzOwogIH0KCiAgZnVuY3Rpb24gZHJhd0FsbEVkZ2VzKGVkZ2VzLCBzdHJva2VDb2xvcikgewogICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7CiAgICBlZGdlcy5mb3JFYWNoKGRyYXdFZGdlKTsKICB9CgogIGZ1bmN0aW9uIGRyYXdFZGdlKGQpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5tb3ZlVG8oZC5zb3VyY2UueCwgZC5zb3VyY2UueSk7CiAgICBjdHgubGluZVRvKGQudGFyZ2V0LngsIGQudGFyZ2V0LnkpOwogICAgY3R4LmxpbmVXaWR0aCA9IE1hdGgubG9nMTAoZC53ZWlnaHQpICogbG9nQ29lZmZpY2llbnQgKyBtaW5XaWR0aDsgLy8gY3R4LmxpbmVXaWR0aCA9IGQud2VpZ2h0IC8gZWRnZVdlaWdodHMubWF4V2VpZ2h0OwoKICAgIGN0eC5zdHJva2UoKTsgLy9jdHguZmlsbFRleHQoZC5zZW50aW1lbnQsICgoZC5zb3VyY2UueCArIGQudGFyZ2V0LngpIC8gMikgKyAxMCAsICgoZC5zb3VyY2UueSArIGQudGFyZ2V0LnkpIC8gMikgKyAzKTsKICAgIC8vY29uc29sZS5sb2coZC5zZW50aW1lbnQpCiAgfQoKICBmdW5jdGlvbiBkcmF3Tm9kZShkKSB7CiAgICAvLyBjdHguYmVnaW5QYXRoKCk7CiAgICBjdHgubW92ZVRvKGQueCwgZC55KTsKICAgIGN0eC5hcmMoZC54LCBkLnksIDMsIDAsIDIgKiBNYXRoLlBJKTsgLy8gY3R4LmZpbGxTdHlsZSA9IGNvbG9yKGQpOwogICAgLy8gY3R4LmZpbGwoKTsKICAgIC8vIGN0eC5zdHJva2UoKTsKICAgIC8vY3R4LmZpbGxUZXh0KCJJRDogIiArIGQuZW1wbG95ZWVJRCwgZC54KzEwLCBkLnkrMyk7CiAgfQoKICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uSW5mb3JtYXRpb24oaWQpIHsKICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwMzsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgIHZhciBub2RlID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICBpZiAoaWQgPT0gbm9kZS5lbXBsb3llZUlEKSB7CiAgICAgICAgICBkcmF3Tm9kZUluZm9ybWF0aW9uKG5vZGUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IzLmYoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGRyYXdOb2RlSW5mb3JtYXRpb24oZCkgewogICAgaWYgKGQgIT0gbnVsbCkgewogICAgICB2YXIgcG9wdXBYID0gZC54ICsgMTA7CiAgICAgIHZhciBwb3B1cFkgPSBkLnkgKyAxMDsKICAgICAgdmFyIHBvcHVwU2l6ZSA9IGN0eC5tZWFzdXJlVGV4dChkLmVtYWlsKS53aWR0aCArIDQ7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmZiI7CiAgICAgIGN0eC5maWxsUmVjdChwb3B1cFgsIHBvcHVwWSwgcG9wdXBTaXplLCAzNik7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjMDAwIjsKICAgICAgY3R4LnN0cm9rZVJlY3QocG9wdXBYLCBwb3B1cFksIHBvcHVwU2l6ZSwgMzYpOwogICAgICBjdHguZmlsbFN0eWxlID0gIiMwMDAiOwogICAgICBjdHguZmlsbFRleHQoZC5uYW1lICsgIiB8ICIgKyBkLmVtcGxveWVlSUQsIHBvcHVwWCArIDIsIHBvcHVwWSArIDEwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuam9iVGl0bGUsIHBvcHVwWCArIDIsIHBvcHVwWSArIDIwKTsKICAgICAgY3R4LmZpbGxUZXh0KGQuZW1haWwsIHBvcHVwWCArIDIsIHBvcHVwWSArIDMwKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNvbG9yKCkgewogICAgdmFyIHNjYWxlID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApOwogICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBzY2FsZShkLmdyb3VwKTsKICAgIH07CiAgfSAvLyBVcGRhdGUgbG9vcCBzZXBlcmF0ZSBmcm9tIHRoZSB0aWNrIGZ1bmN0aW9uLCB0aHVzIG5vdCBjb250cm9sbGVkIGJ5IEQzCgoKICBmdW5jdGlvbiBoZWFydEJlYXQoKSB7CiAgICBpZiAoc2ltdWxhdGlvbi5hbHBoYSgpIDwgMC4wMSAmJiBvbGRTZWxlY3Rpb24gIT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0aW5nIHdha2V1cCIpOwogICAgICBzaW11bGF0aW9uLmFscGhhKDAuMDEpLnJlc3RhcnQoKTsKICAgICAgb2xkU2VsZWN0aW9uID0gc2VsZWN0ZWROb2RlWzBdOwogICAgfQogIH0KCiAgZnVuY3Rpb24gem9vbWluZyhldmVudCkgewogICAgdHJhbnNmb3JtID0gZXZlbnQudHJhbnNmb3JtOwogICAgdGlja2VkKCk7CiAgfQoKICBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7CiAgICBjb25zb2xlLmxvZyhldmVudC5zdWJqZWN0KTsKICAgIHNlbGVjdGVkTm9kZVswXSA9IGV2ZW50LnN1YmplY3QuZW1wbG95ZWVJRDsKICB9CgogIGZ1bmN0aW9uIGRyYWdOb2RlcyhzaW11bGF0aW9uKSB7CiAgICBmdW5jdGlvbiBkcmFnU3ViamVjdChldmVudCkgewogICAgICByZXR1cm4gc2ltdWxhdGlvbi5maW5kKGV2ZW50LngsIGV2ZW50LnkpOwogICAgfSAvLyBVc2UgZHJhZ1N0YXJ0IGV2ZW50IHRvIGhhY2sgaW4gY2xpY2thYmlsaXR5IGluIEhUTUwgY2FudmFzCgoKICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkKGV2ZW50KSB7CiAgICAgIG9uQ2xpY2soZXZlbnQpOwogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50LnN1YmplY3QueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnZ2VkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnRW5kZWQoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBudWxsOwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gZDMuZHJhZygpLnN1YmplY3QoZHJhZ1N1YmplY3QpLm9uKCJzdGFydCIsIGRyYWdTdGFydGVkKS5vbigiZHJhZyIsIGRyYWdnZWQpLm9uKCJlbmQiLCBkcmFnRW5kZWQpOwogIH0KCiAgY29uc29sZS5sb2coem9vbWluZyk7CiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgaGVhcnRCZWF0KCk7CiAgfSwgNTApOyAvLyBDaGVjayBmb3IgdXBkYXRlcyBldmVyeSA1MDAgbXMKCiAgcmV0dXJuIGQzLnNlbGVjdChjdHguY2FudmFzKS5jYWxsKGRyYWdOb2RlcyhzaW11bGF0aW9uKSkubm9kZSgpOwp9CgpleHBvcnQgZGVmYXVsdCBnZW5lcmF0ZU5ldHdvcmtDYW52YXM7"},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js"],"names":["d3","generateNetworkCanvas","edges","nodes","edgeWeights","selectedNode","side","document","getElementById","value","canvas","createElement","w","clientWidth","h","clientHeight","oldSelection","minWidth","maxWidth","logCoefficient","Math","log10","maxWeight","logCoefficient2","log2","width","height","boundDistance","min","boundDistanceSquared","pow","appendChild","ctx","getContext","strokeStyle","lineWidth","transform","zoomIdentity","simulation","forceSimulation","force","forceManyBody","strength","distanceMax","forceLink","id","d","employeeID","links","edge","console","log","weight","forceCenter","on","ticked","clearRect","translate","x","y","scale","k","neighbours","prepareEdges","node","constrainNode","fillStyle","indexOf","beginPath","drawNode","color","fill","stroke","drawSelectionInformation","distanceFromCenterSquared","distanceFromCenter","sqrt","selectionEdges","normalEdges","drawAllEdges","source","push","target","strokeColor","forEach","drawEdge","moveTo","lineTo","arc","PI","drawNodeInformation","popupX","popupY","popupSize","measureText","email","fillRect","strokeRect","fillText","name","jobTitle","scaleOrdinal","schemeCategory10","group","heartBeat","alpha","restart","zooming","event","onClick","subject","dragNodes","dragSubject","find","dragStarted","active","alphaTarget","fx","fy","dragged","dragEnded","drag","setInterval","select","call"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\r\n\r\n\r\n\r\nfunction generateNetworkCanvas(edges, nodes, edgeWeights, selectedNode) {\r\n    var side = document.getElementById(document.getElementById(\"testSelectNL\").value);\r\n    var canvas = document.createElement('canvas');\r\n    var w = document.getElementById(\"viscontent\").clientWidth;\r\n    var h = document.getElementById(\"viscontent\").clientHeight - 130;\r\n    var oldSelection = null;\r\n\r\n    const minWidth = 1;                                                              // width of an edge with weight 1\r\n    const maxWidth = 2;                                                                // width of largest edge\r\n    const logCoefficient = (maxWidth - minWidth) / Math.log10(edgeWeights.maxWeight); \r\n    const logCoefficient2 = (10 - minWidth) / Math.log2(edgeWeights.maxWeight); // coeficient that is used to calculate opacity\r\n\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n    // Creates a circle bound with diameter of the smallest of either the width or height of the window.\r\n    var boundDistance = Math.min(w / 2, h / 2);\r\n    var boundDistanceSquared = Math.pow(boundDistance, 2);\r\n\r\n    side.appendChild(canvas);\r\n\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.strokeStyle = \"red\"\r\n    ctx.lineWidth = 0.1;\r\n\r\n    var transform = d3.zoomIdentity;\r\n\r\n    var simulation = d3 //done\r\n        .forceSimulation(nodes)\r\n        .force(\r\n            \"charge\",\r\n            d3.forceManyBody()\r\n                .strength(-50)\r\n                .distanceMax(200))\r\n        .force(\r\n            \"link\",\r\n            d3\r\n                .forceLink()\r\n                .id(function (d) {\r\n                    return d.employeeID;\r\n                })\r\n                .links(edges)\r\n                .strength(function (edge) {\r\n                    console.log(edge)\r\n                    return ((Math.log2(edge.weight) * logCoefficient2) + minWidth) / edgeWeights.maxWeight;\r\n                })\r\n        )\r\n        .force(\"center\", d3.forceCenter(w / 2, h / 2))\r\n        .on(\"tick\", ticked);\r\n\r\n    function ticked() {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.translate(transform.x, transform.y);\r\n        ctx.scale(transform.k, transform.k);\r\n\r\n        var neighbours = prepareEdges(edges);\r\n\r\n        for (const node of nodes) {\r\n            constrainNode(node);\r\n            // Change selected node to stand out\r\n            if (node.employeeID == selectedNode[0]) {\r\n                ctx.strokeStyle = \"#000\";\r\n                ctx.fillStyle = \"#ff0000\";\r\n            } else if (neighbours.indexOf(node) >= 0) {\r\n                ctx.strokeStyle = \"#000\";\r\n                ctx.fillStyle = \"#00ff00\";\r\n            } else {\r\n                ctx.strokeStyle = \"#fff\";\r\n                ctx.fillStyle = \"#000\";\r\n            }\r\n            ctx.beginPath();\r\n            ctx.lineWidth=1;\r\n            drawNode(node)\r\n            ctx.fillStyle = color(node);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        }\r\n        drawSelectionInformation(selectedNode[0]);\r\n    }\r\n\r\n\r\n    function constrainNode(node) {\r\n        var distanceFromCenterSquared = Math.pow(node.x - w / 2, 2) + Math.pow(node.y - h / 2, 2);\r\n        if (distanceFromCenterSquared > boundDistanceSquared) {\r\n            var distanceFromCenter = Math.sqrt(distanceFromCenterSquared);\r\n            node.x = ((node.x - w / 2) / distanceFromCenter) * boundDistance + w / 2;\r\n            node.y = ((node.y - h / 2) / distanceFromCenter) * boundDistance + h / 2;\r\n        }\r\n        //node.x = Math.min(w-6, Math.max(2, node.x));\r\n        //node.y = Math.min(h-130, Math.max(2, node.y));\r\n    }\r\n\r\n    function prepareEdges(edges) {\r\n        var selectionEdges = [];\r\n        var normalEdges = [];\r\n        var neighbours = [];\r\n\r\n        if (selectedNode[0] == null) {\r\n            drawAllEdges(edges, '#aaa');\r\n        } else {\r\n            for (const edge of edges) {\r\n                if (edge.source.employeeID == selectedNode[0]) {\r\n                    selectionEdges.push(edge);\r\n                    neighbours.push(edge.target);\r\n                } else if (edge.target.employeeID == selectedNode[0]) {\r\n                    selectionEdges.push(edge);\r\n                    neighbours.push(edge.source);\r\n                } else {\r\n                    normalEdges.push(edge);\r\n                }\r\n            }\r\n            drawAllEdges(normalEdges, '#aaa');\r\n\r\n            drawAllEdges(selectionEdges, '#f58a2c');\r\n        }\r\n\r\n        return neighbours;\r\n    }\r\n\r\n    function drawAllEdges(edges, strokeColor) {\r\n        ctx.strokeStyle = strokeColor;\r\n        edges.forEach(drawEdge);\r\n    }\r\n\r\n    function drawEdge(d) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(d.source.x, d.source.y);\r\n        ctx.lineTo(d.target.x, d.target.y);\r\n        ctx.lineWidth=(Math.log10(d.weight) * logCoefficient) + minWidth;\r\n        // ctx.lineWidth = d.weight / edgeWeights.maxWeight;\r\n        ctx.stroke();\r\n        //ctx.fillText(d.sentiment, ((d.source.x + d.target.x) / 2) + 10 , ((d.source.y + d.target.y) / 2) + 3);\r\n        //console.log(d.sentiment)\r\n    }\r\n\r\n    function drawNode(d) {\r\n        // ctx.beginPath();\r\n        ctx.moveTo(d.x, d.y);\r\n        ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);\r\n        // ctx.fillStyle = color(d);\r\n        // ctx.fill();\r\n        // ctx.stroke();\r\n        //ctx.fillText(\"ID: \" + d.employeeID, d.x+10, d.y+3);\r\n    }\r\n\r\n    function drawSelectionInformation(id) {\r\n        for (const node of nodes) {\r\n            if (id == node.employeeID) {\r\n                drawNodeInformation(node);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    function drawNodeInformation(d) {\r\n        if (d != null) {\r\n            var popupX = d.x + 10;\r\n            var popupY = d.y + 10;\r\n            var popupSize = ctx.measureText(d.email).width + 4;\r\n            ctx.fillStyle = \"#fff\";\r\n            ctx.fillRect(popupX, popupY, popupSize, 36);\r\n\r\n            ctx.strokeStyle = \"#000\"\r\n            ctx.strokeRect(popupX, popupY, popupSize, 36);\r\n            ctx.fillStyle = \"#000\";\r\n            ctx.fillText(d.name + \" | \" + d.employeeID, popupX + 2, popupY + 10);\r\n            ctx.fillText(d.jobTitle, popupX + 2, popupY + 20);\r\n            ctx.fillText(d.email, popupX + 2, popupY + 30);\r\n        }\r\n    }\r\n\r\n    function color() {\r\n        var scale = d3.scaleOrdinal(d3.schemeCategory10);\r\n        return d => scale(d.group);\r\n    }\r\n\r\n    // Update loop seperate from the tick function, thus not controlled by D3\r\n    function heartBeat() {\r\n        if (simulation.alpha() < 0.01 && oldSelection != selectedNode[0]) {\r\n            console.log(\"Attempting wakeup\");\r\n            simulation.alpha(0.01).restart();\r\n            oldSelection = selectedNode[0];\r\n        }\r\n    }\r\n\r\n    function zooming(event) {\r\n        transform = event.transform;\r\n        ticked();\r\n    }\r\n\r\n    function onClick(event) {\r\n        console.log(event.subject);\r\n        selectedNode[0] = event.subject.employeeID;\r\n    }\r\n\r\n    function dragNodes(simulation) {\r\n        function dragSubject(event) {\r\n            return simulation.find(event.x, event.y);\r\n        }\r\n\r\n        // Use dragStart event to hack in clickability in HTML canvas\r\n        function dragStarted(event) {\r\n            onClick(event);\r\n\r\n            if (!event.active) simulation.alphaTarget(0.3).restart();\r\n            event.subject.fx = event.subject.x;\r\n            event.subject.fy = event.subject.y;\r\n        }\r\n\r\n        function dragged(event) {\r\n            event.subject.fx = event.x;\r\n            event.subject.fy = event.y;\r\n        }\r\n\r\n        function dragEnded(event) {\r\n            if (!event.active) simulation.alphaTarget(0);\r\n            event.subject.fx = null;\r\n            event.subject.fy = null;\r\n        }\r\n\r\n        return d3.drag()\r\n            .subject(dragSubject)\r\n            .on(\"start\", dragStarted)\r\n            .on(\"drag\", dragged)\r\n            .on(\"end\", dragEnded)\r\n    }\r\n\r\n    console.log(zooming);\r\n\r\n    setInterval(function () { heartBeat(); }, 50); // Check for updates every 500 ms\r\n    return d3.select(ctx.canvas).call(dragNodes(simulation)).node();\r\n}\r\n\r\n\r\nexport default generateNetworkCanvas"]}]}