{"remainingRequest":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","dependencies":[{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\src\\visualisations\\nodelinkv2.0.js","mtime":1624195487783},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1623407834742},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1623407834357},{"path":"C:\\Users\\Koen\\Documents\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1623407839439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0tvZW4vRG9jdW1lbnRzL0dpdEh1Yi9EQkwtUHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CgpmdW5jdGlvbiBnZW5lcmF0ZU5ldHdvcmtDYW52YXMoZWRnZXMsIG5vZGVzLCBzZWxlY3RlZE5vZGUpIHsKICB2YXIgc2lkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0U2VsZWN0TkwiKS52YWx1ZSk7CiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogIHZhciB3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRXaWR0aDsKICB2YXIgaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXNjb250ZW50IikuY2xpZW50SGVpZ2h0OwogIGNhbnZhcy53aWR0aCA9IHc7CiAgY2FudmFzLmhlaWdodCA9IGg7CiAgdmFyIGJvdW5kRGlzdGFuY2UgPSBNYXRoLm1pbih3IC8gMiwgaCAvIDIpOwogIHZhciBib3VuZERpc3RhbmNlU3F1YXJlZCA9IE1hdGgucG93KGJvdW5kRGlzdGFuY2UsIDIpOwogIHNpZGUuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgY3R4LnN0cm9rZVN0eWxlID0gInJlZCI7CiAgY3R4LmxpbmVXaWR0aCA9IDAuMTsKICB2YXIgdHJhbnNmb3JtID0gZDMuem9vbUlkZW50aXR5OwogIHZhciBzaW11bGF0aW9uID0gZDMgLy9kb25lCiAgLmZvcmNlU2ltdWxhdGlvbihub2RlcykuZm9yY2UoImNoYXJnZSIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtNTApLmRpc3RhbmNlTWF4KDIwMCkpLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKCkuaWQoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBkLmVtcGxveWVlSUQ7CiAgfSkubGlua3MoZWRnZXMpKS5mb3JjZSgiY2VudGVyIiwgZDMuZm9yY2VDZW50ZXIodyAvIDIsIGggLyAyKSkub24oInRpY2siLCB0aWNrZWQpOwoKICBmdW5jdGlvbiB0aWNrZWQoKSB7CiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICBjdHgudHJhbnNsYXRlKHRyYW5zZm9ybS54LCB0cmFuc2Zvcm0ueSk7CiAgICBjdHguc2NhbGUodHJhbnNmb3JtLmssIHRyYW5zZm9ybS5rKTsKICAgIHZhciBuZWlnaGJvdXJzID0gZHJhd0VkZ2VzKGVkZ2VzKTsKCiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICBjb25zdHJhaW5Ob2RlKG5vZGUpOyAvLyBDaGFuZ2Ugc2VsZWN0ZWQgbm9kZSB0byBzdGFuZCBvdXQKCiAgICAgICAgaWYgKG5vZGUuZW1wbG95ZWVJRCA9PSBzZWxlY3RlZE5vZGVbMF0pIHsKICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjMDAwIjsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmMDAwMCI7CiAgICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJzLmluZGV4T2Yobm9kZSkgPj0gMCkgewogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiMwMDAiOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDBmZjAwIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gIiNmZmYiOwogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDAwIjsKICAgICAgICB9CgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBkcmF3Tm9kZShub2RlKTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3Iobm9kZSk7CiAgICAgICAgY3R4LmZpbGwoKTsKICAgICAgICBjdHguc3Ryb2tlKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICBkcmF3U2VsZWN0aW9uSW5mb3JtYXRpb24oc2VsZWN0ZWROb2RlWzBdKTsKICB9CgogIGZ1bmN0aW9uIGNvbnN0cmFpbk5vZGUobm9kZSkgewogICAgdmFyIGRpc3RhbmNlRnJvbUNlbnRlclNxdWFyZWQgPSBNYXRoLnBvdyhub2RlLnggLSB3IC8gMiwgMikgKyBNYXRoLnBvdyhub2RlLnkgLSBoIC8gMiwgMik7CgogICAgaWYgKGRpc3RhbmNlRnJvbUNlbnRlclNxdWFyZWQgPiBib3VuZERpc3RhbmNlU3F1YXJlZCkgewogICAgICBjb25zb2xlLmxvZygiSGl0IGJvdW5kISIpOwogICAgICBjb25zb2xlLmxvZyhub2RlKTsKICAgICAgdmFyIGRpc3RhbmNlRnJvbUNlbnRlciA9IE1hdGguc3FydChkaXN0YW5jZUZyb21DZW50ZXJTcXVhcmVkKTsKICAgICAgY29uc29sZS5sb2coZGlzdGFuY2VGcm9tQ2VudGVyKTsKICAgICAgbm9kZS54ID0gKG5vZGUueCAtIHcgLyAyKSAvIGRpc3RhbmNlRnJvbUNlbnRlciAqIGJvdW5kRGlzdGFuY2U7CiAgICAgIG5vZGUueSA9IChub2RlLnkgLSBoIC8gMikgLyBkaXN0YW5jZUZyb21DZW50ZXIgKiBib3VuZERpc3RhbmNlOwogICAgfSAvL25vZGUueCA9IE1hdGgubWluKHctNiwgTWF0aC5tYXgoMiwgbm9kZS54KSk7CiAgICAvL25vZGUueSA9IE1hdGgubWluKGgtMTMwLCBNYXRoLm1heCgyLCBub2RlLnkpKTsKCiAgfQoKICBmdW5jdGlvbiBkcmF3RWRnZXMoZWRnZXMpIHsKICAgIHZhciBzZWxlY3Rpb25FZGdlcyA9IFtdOwogICAgdmFyIG5vcm1hbEVkZ2VzID0gW107CiAgICB2YXIgbmVpZ2hib3VycyA9IFtdOwoKICAgIGlmIChzZWxlY3RlZE5vZGVbMF0gPT0gbnVsbCkgewogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGVkZ2VzLmZvckVhY2goZHJhd0VkZ2UpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiI2FhYSI7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWRnZXMpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGVkZ2UgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgaWYgKGVkZ2Uuc291cmNlLmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnRhcmdldCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVkZ2UudGFyZ2V0LmVtcGxveWVlSUQgPT0gc2VsZWN0ZWROb2RlWzBdKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbkVkZ2VzLnB1c2goZWRnZSk7CiAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChlZGdlLnNvdXJjZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBub3JtYWxFZGdlcy5wdXNoKGVkZ2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KCiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgbm9ybWFsRWRnZXMuZm9yRWFjaChkcmF3RWRnZSk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjYWFhIjsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIHNlbGVjdGlvbkVkZ2VzLmZvckVhY2goZHJhd0VkZ2UpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiI2Y1OGEyYyI7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgIH0KCiAgICByZXR1cm4gbmVpZ2hib3VyczsKICB9CgogIGZ1bmN0aW9uIGRyYXdFZGdlKGQpIHsKICAgIGN0eC5tb3ZlVG8oZC5zb3VyY2UueCwgZC5zb3VyY2UueSk7CiAgICBjdHgubGluZVRvKGQudGFyZ2V0LngsIGQudGFyZ2V0LnkpOyAvL2N0eC5maWxsVGV4dChkLnNlbnRpbWVudCwgKChkLnNvdXJjZS54ICsgZC50YXJnZXQueCkgLyAyKSArIDEwICwgKChkLnNvdXJjZS55ICsgZC50YXJnZXQueSkgLyAyKSArIDMpOwogICAgLy9jb25zb2xlLmxvZyhkLnNlbnRpbWVudCkKICB9CgogIGZ1bmN0aW9uIGRyYXdOb2RlKGQpIHsKICAgIGN0eC5tb3ZlVG8oZC54LCBkLnkpOwogICAgY3R4LmFyYyhkLngsIGQueSwgMywgMCwgMiAqIE1hdGguUEkpOyAvL2N0eC5maWxsVGV4dCgiSUQ6ICIgKyBkLmVtcGxveWVlSUQsIGQueCsxMCwgZC55KzMpOwogIH0KCiAgZnVuY3Rpb24gZHJhd1NlbGVjdGlvbkluZm9ybWF0aW9uKGlkKSB7CiAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5vZGVzKSwKICAgICAgICBfc3RlcDM7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgbm9kZSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgaWYgKGlkID09IG5vZGUuZW1wbG95ZWVJRCkgewogICAgICAgICAgZHJhd05vZGVJbmZvcm1hdGlvbihub2RlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkcmF3Tm9kZUluZm9ybWF0aW9uKGQpIHsKICAgIGlmIChkICE9IG51bGwpIHsKICAgICAgdmFyIHBvcHVwWCA9IGQueCArIDEwOwogICAgICB2YXIgcG9wdXBZID0gZC55ICsgMTA7CiAgICAgIHZhciBwb3B1cFNpemUgPSBjdHgubWVhc3VyZVRleHQoZC5lbWFpbCkud2lkdGggKyA0OwogICAgICBjdHguZmlsbFN0eWxlID0gIiNmZmYiOwogICAgICBjdHguZmlsbFJlY3QocG9wdXBYLCBwb3B1cFksIHBvcHVwU2l6ZSwgMzYpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAiIzAwMCI7CiAgICAgIGN0eC5zdHJva2VSZWN0KHBvcHVwWCwgcG9wdXBZLCBwb3B1cFNpemUsIDM2KTsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDAwIjsKICAgICAgY3R4LmZpbGxUZXh0KGQubmFtZSArICIgfCAiICsgZC5lbXBsb3llZUlELCBwb3B1cFggKyAyLCBwb3B1cFkgKyAxMCk7CiAgICAgIGN0eC5maWxsVGV4dChkLmpvYlRpdGxlLCBwb3B1cFggKyAyLCBwb3B1cFkgKyAyMCk7CiAgICAgIGN0eC5maWxsVGV4dChkLmVtYWlsLCBwb3B1cFggKyAyLCBwb3B1cFkgKyAzMCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb2xvcigpIHsKICAgIHZhciBzY2FsZSA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTsKICAgIHJldHVybiBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gc2NhbGUoZC5ncm91cCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gem9vbWluZyhldmVudCkgewogICAgdHJhbnNmb3JtID0gZXZlbnQudHJhbnNmb3JtOwogICAgdGlja2VkKCk7CiAgfQoKICBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7CiAgICBjb25zb2xlLmxvZyhldmVudC5zdWJqZWN0KTsKICAgIHNlbGVjdGVkTm9kZVswXSA9IGV2ZW50LnN1YmplY3QuZW1wbG95ZWVJRDsKICB9CgogIGZ1bmN0aW9uIGRyYWdOb2RlcyhzaW11bGF0aW9uKSB7CiAgICBmdW5jdGlvbiBkcmFnU3ViamVjdChldmVudCkgewogICAgICByZXR1cm4gc2ltdWxhdGlvbi5maW5kKGV2ZW50LngsIGV2ZW50LnkpOwogICAgfSAvLyBVc2UgZHJhZ1N0YXJ0IGV2ZW50IHRvIGhhY2sgaW4gY2xpY2thYmlsaXR5IGluIEhUTUwgY2FudmFzCgoKICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkKGV2ZW50KSB7CiAgICAgIG9uQ2xpY2soZXZlbnQpOwogICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwLjMpLnJlc3RhcnQoKTsKICAgICAgZXZlbnQuc3ViamVjdC5meCA9IGV2ZW50LnN1YmplY3QueDsKICAgICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnZ2VkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gZXZlbnQueTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnRW5kZWQoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMCk7CiAgICAgIGV2ZW50LnN1YmplY3QuZnggPSBudWxsOwogICAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gZDMuZHJhZygpLnN1YmplY3QoZHJhZ1N1YmplY3QpLm9uKCJzdGFydCIsIGRyYWdTdGFydGVkKS5vbigiZHJhZyIsIGRyYWdnZWQpLm9uKCJlbmQiLCBkcmFnRW5kZWQpOwogIH0KCiAgY29uc29sZS5sb2coem9vbWluZyk7CiAgcmV0dXJuIGQzLnNlbGVjdChjdHguY2FudmFzKS5jYWxsKGRyYWdOb2RlcyhzaW11bGF0aW9uKSkubm9kZSgpOwp9CgpleHBvcnQgZGVmYXVsdCBnZW5lcmF0ZU5ldHdvcmtDYW52YXM7"},{"version":3,"sources":["C:/Users/Koen/Documents/GitHub/DBL-Project/src/visualisations/nodelinkv2.0.js"],"names":["d3","generateNetworkCanvas","edges","nodes","selectedNode","side","document","getElementById","value","canvas","createElement","w","clientWidth","h","clientHeight","width","height","boundDistance","Math","min","boundDistanceSquared","pow","appendChild","ctx","getContext","strokeStyle","lineWidth","transform","zoomIdentity","simulation","forceSimulation","force","forceManyBody","strength","distanceMax","forceLink","id","d","employeeID","links","forceCenter","on","ticked","clearRect","translate","x","y","scale","k","neighbours","drawEdges","node","constrainNode","fillStyle","indexOf","beginPath","drawNode","color","fill","stroke","drawSelectionInformation","distanceFromCenterSquared","console","log","distanceFromCenter","sqrt","selectionEdges","normalEdges","forEach","drawEdge","edge","source","push","target","moveTo","lineTo","arc","PI","drawNodeInformation","popupX","popupY","popupSize","measureText","email","fillRect","strokeRect","fillText","name","jobTitle","scaleOrdinal","schemeCategory10","group","zooming","event","onClick","subject","dragNodes","dragSubject","find","dragStarted","active","alphaTarget","restart","fx","fy","dragged","dragEnded","drag","select","call"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\r\n\r\n\r\n\r\nfunction generateNetworkCanvas(edges, nodes, selectedNode) {\r\n    var side = document.getElementById(document.getElementById(\"testSelectNL\").value);\r\n    var canvas = document.createElement('canvas');\r\n    var w = document.getElementById(\"viscontent\").clientWidth;\r\n    var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n    var boundDistance = Math.min(w / 2, h / 2);\r\n    var boundDistanceSquared = Math.pow(boundDistance, 2);\r\n\r\n    side.appendChild(canvas);\r\n\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.strokeStyle = \"red\"\r\n    ctx.lineWidth = 0.1;\r\n\r\n\r\n    var transform = d3.zoomIdentity;\r\n    \r\n    var simulation = d3 //done\r\n    .forceSimulation(nodes)\r\n    .force(\r\n        \"charge\", \r\n        d3.forceManyBody()\r\n            .strength(-50)\r\n            .distanceMax(200))\r\n    .force(\r\n      \"link\",\r\n      d3\r\n        .forceLink()\r\n        .id(function (d) {\r\n          return d.employeeID;\r\n        })\r\n        .links(edges)\r\n    )\r\n    .force(\"center\", d3.forceCenter(w / 2, h / 2))\r\n    .on(\"tick\", ticked);\r\n\r\n    function ticked() {\r\n        ctx.clearRect(0,0, canvas.width, canvas.height);\r\n        ctx.translate(transform.x, transform.y);\r\n        ctx.scale(transform.k, transform.k);\r\n\r\n        var neighbours = drawEdges(edges);\r\n\r\n        for (const node of nodes) {\r\n            constrainNode(node);\r\n            // Change selected node to stand out\r\n            if (node.employeeID == selectedNode[0]) {\r\n                ctx.strokeStyle = \"#000\";\r\n                ctx.fillStyle = \"#ff0000\";\r\n            } else if (neighbours.indexOf(node) >= 0) {\r\n                ctx.strokeStyle = \"#000\";\r\n                ctx.fillStyle = \"#00ff00\";\r\n            } else {\r\n                ctx.strokeStyle = \"#fff\";\r\n                ctx.fillStyle = \"#000\";\r\n            }\r\n            ctx.beginPath();\r\n            drawNode(node) \r\n            ctx.fillStyle = color(node);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        }\r\n        drawSelectionInformation(selectedNode[0]);\r\n    }\r\n\r\n    \r\n    function constrainNode(node) {\r\n        var distanceFromCenterSquared = Math.pow(node.x - w/2, 2) + Math.pow(node.y - h/2, 2);\r\n        if (distanceFromCenterSquared > boundDistanceSquared) {\r\n            console.log(\"Hit bound!\");\r\n            console.log(node);\r\n            var distanceFromCenter = Math.sqrt(distanceFromCenterSquared);\r\n            console.log(distanceFromCenter);\r\n            node.x = ((node.x - w/2) / distanceFromCenter) * boundDistance;\r\n            node.y = ((node.y - h/2) / distanceFromCenter) * boundDistance;\r\n        }\r\n        //node.x = Math.min(w-6, Math.max(2, node.x));\r\n        //node.y = Math.min(h-130, Math.max(2, node.y));\r\n    } \r\n\r\n    function drawEdges(edges) {\r\n        var selectionEdges = [];\r\n        var normalEdges = [];\r\n        var neighbours = [];\r\n        if (selectedNode[0] == null) {\r\n            ctx.beginPath();\r\n            edges.forEach(drawEdge);\r\n            ctx.strokeStyle = \"#aaa\";\r\n            ctx.stroke();\r\n        } else {\r\n            for (const edge of edges) {\r\n                if (edge.source.employeeID == selectedNode[0]) {\r\n                    selectionEdges.push(edge);\r\n                    neighbours.push(edge.target);\r\n                } else if (edge.target.employeeID == selectedNode[0]) {\r\n                    selectionEdges.push(edge);\r\n                    neighbours.push(edge.source);\r\n                } else {\r\n                    normalEdges.push(edge);\r\n                }\r\n            }\r\n            ctx.beginPath();\r\n            normalEdges.forEach(drawEdge);\r\n            ctx.strokeStyle = \"#aaa\";\r\n            ctx.stroke();\r\n\r\n            ctx.beginPath();\r\n            selectionEdges.forEach(drawEdge);\r\n            ctx.strokeStyle = \"#f58a2c\";\r\n            ctx.stroke();\r\n        }\r\n\r\n        return neighbours;\r\n    }\r\n\r\n    function drawEdge(d) {\r\n        ctx.moveTo(d.source.x, d.source.y);\r\n        ctx.lineTo(d.target.x, d.target.y);\r\n        //ctx.fillText(d.sentiment, ((d.source.x + d.target.x) / 2) + 10 , ((d.source.y + d.target.y) / 2) + 3);\r\n        //console.log(d.sentiment)\r\n    }\r\n\r\n    function drawNode(d) {\r\n        ctx.moveTo(d.x, d.y);\r\n        ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);\r\n        //ctx.fillText(\"ID: \" + d.employeeID, d.x+10, d.y+3);\r\n    }\r\n\r\n    function drawSelectionInformation(id) {\r\n        for (const node of nodes) {\r\n            if (id == node.employeeID) {\r\n                drawNodeInformation(node);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    function drawNodeInformation(d) {\r\n        if (d != null) {\r\n            var popupX = d.x + 10;\r\n            var popupY = d.y + 10;\r\n            var popupSize = ctx.measureText(d.email).width + 4;\r\n            ctx.fillStyle = \"#fff\";\r\n            ctx.fillRect(popupX, popupY, popupSize, 36);\r\n\r\n            ctx.strokeStyle = \"#000\"\r\n            ctx.strokeRect(popupX, popupY, popupSize, 36);\r\n            ctx.fillStyle = \"#000\";\r\n            ctx.fillText(d.name + \" | \" + d.employeeID, popupX + 2, popupY + 10);\r\n            ctx.fillText(d.jobTitle, popupX + 2, popupY + 20);\r\n            ctx.fillText(d.email, popupX + 2, popupY + 30);\r\n        }\r\n    }\r\n\r\n    function color() {\r\n        var scale = d3.scaleOrdinal(d3.schemeCategory10);\r\n        return d => scale(d.group);\r\n    }\r\n    \r\n\r\n    function zooming(event) {\r\n      transform = event.transform;\r\n      ticked();\r\n    }\r\n\r\n    function onClick(event) {\r\n        console.log(event.subject);\r\n        selectedNode[0] = event.subject.employeeID;\r\n    }\r\n\r\n    function dragNodes(simulation) {\r\n        function dragSubject(event) {\r\n            return simulation.find(event.x, event.y);\r\n        }\r\n\r\n        // Use dragStart event to hack in clickability in HTML canvas\r\n        function dragStarted(event) {\r\n          onClick(event);\r\n\r\n          if (!event.active) simulation.alphaTarget(0.3).restart();\r\n          event.subject.fx = event.subject.x;\r\n          event.subject.fy = event.subject.y;\r\n        }\r\n        \r\n        function dragged(event) {\r\n          event.subject.fx = event.x;\r\n          event.subject.fy = event.y;\r\n        }\r\n        \r\n        function dragEnded(event) {\r\n          if (!event.active) simulation.alphaTarget(0);\r\n          event.subject.fx = null;\r\n          event.subject.fy = null;\r\n        }\r\n        \r\n        return d3.drag()\r\n            .subject(dragSubject)\r\n            .on(\"start\", dragStarted)\r\n            .on(\"drag\", dragged)\r\n            .on(\"end\", dragEnded)\r\n        }\r\n\r\n    console.log(zooming);\r\n    \r\n    return d3.select(ctx.canvas).call(dragNodes(simulation)).node();\r\n}\r\n\r\n\r\nexport default generateNetworkCanvas"]}]}