{"remainingRequest":"D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js!D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","dependencies":[{"path":"D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\src\\visualisations\\adjacencymatrix.js","mtime":1623769593733},{"path":"D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622754903031},{"path":"D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":1622754902831},{"path":"D:\\_DOCUMENTE_ANDREE\\GitHub\\DBL-Project\\node_modules\\eslint-loader\\index.js","mtime":1622754905504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLmxvZzIuanMiOwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CgpmdW5jdGlvbiBnZW5lcmF0ZU1hdHJpeChlZGdlcywgbm9kZXMsIGVkZ2VXZWlnaHRzKSB7CiAgdmFyIHNpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdFNlbGVjdEFNIikudmFsdWU7CiAgY29uc29sZS5sb2coc2lkZSk7CiAgdmFyIHcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzY29udGVudCIpLmNsaWVudFdpZHRoOwogIHZhciBoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc2NvbnRlbnQiKS5jbGllbnRIZWlnaHQ7CiAgdmFyIHNxdWFyZVNpemUgPSBNYXRoLmZsb29yKGggLyBub2Rlcy5sZW5ndGgpIC0gMTsgLy8gbm9kZVBvc2l0aW9ucyBpcyBhbiBvYmplY3QgdGhhdCBzdG9yZXMgdGhlIHBvc2l0aW9ucyB3aGVyZSB0aGUgbm9kZXMgc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB0aGUgYWRqIG1hdHJpeAoKICB2YXIgbm9kZVBvc2l0aW9ucyA9IHt9OwoKICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcG9zaXRpb24gPSBub2Rlc1tpXS5lbXBsb3llZUlELnRvU3RyaW5nKCk7CiAgICBub2RlUG9zaXRpb25zW3Bvc2l0aW9uXSA9IGk7CiAgfQoKICB2YXIgbWluT3BhY2l0eSA9IDAuMzsgLy8gb3BhY2l0eSBvZiBhbiBlZGdlIHdpdGggd2VpZ2h0IDEKCiAgdmFyIGxvZ0NvZWZmaWNpZW50ID0gKDEgLSBtaW5PcGFjaXR5KSAvIE1hdGgubG9nMihlZGdlV2VpZ2h0cy5tYXhXZWlnaHQpOyAvLyBjb2VmaWNpZW50IHRoYXQgaXMgdXNlZCB0byBjYWxjdWxhdGUgb3BhY2l0eQoKICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjJyArIHNpZGUpLmFwcGVuZCgic3ZnIikuYXR0cigiaGVpZ2h0IiwgaCkuYXR0cigid2lkdGgiLCB3KS5zdHlsZSgiYmFja2dyb3VuZCIsICJibGFjayIpLmNhbGwoZDMuem9vbSgpLm9uKCJ6b29tIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBzdmcuYXR0cigidHJhbnNmb3JtIiwgZXZlbnQudHJhbnNmb3JtKS5zY2FsZUV4dGVudChbMSwgMjRdKTsKICB9KSkuYXBwZW5kKCJnIik7IC8vIHN2Zy5hcHBlbmQoInJlY3QiKQogIC8vIC5hdHRyKCJoZWlnaHQiLCAzMCkKICAvLyAuYXR0cigid2lkdGgiLCAzMCkKICAvLyAuYXR0cigiZmlsbCIsICJ3aGl0ZSIpOwoKICBzdmcuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShlZGdlcykuZW50ZXIoKS5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2QudGFyZ2V0LnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZTsKICB9KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiBub2RlUG9zaXRpb25zW2Quc291cmNlLnRvU3RyaW5nKCldICogc3F1YXJlU2l6ZTsKICB9KS5hdHRyKCJoZWlnaHQiLCBzcXVhcmVTaXplKS5hdHRyKCJ3aWR0aCIsIHNxdWFyZVNpemUpLmF0dHIoImZpbGwiLCAid2hpdGUiKS5zdHlsZSgib3BhY2l0eSIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4gTWF0aC5sb2cyKGQud2VpZ2h0KSAqIGxvZ0NvZWZmaWNpZW50ICsgbWluT3BhY2l0eTsKICB9KTsgLy8gdGhpcyBtYWtlcyBpdCBzbyB0aGF0IG92ZXJsYXllZCByZWN0YW5nbGVzIGNhbiBiZSBzZWVuIChraW5kIG9mIGFkZHMgd2VpZ2h0cyB0byB0aGUgZWRnZXMpCn0KCmV4cG9ydCBkZWZhdWx0IGdlbmVyYXRlTWF0cml4Ow=="},{"version":3,"sources":["D:/_DOCUMENTE_ANDREE/GitHub/DBL-Project/src/visualisations/adjacencymatrix.js"],"names":["d3","generateMatrix","edges","nodes","edgeWeights","side","document","getElementById","value","console","log","w","clientWidth","h","clientHeight","squareSize","Math","floor","length","nodePositions","i","position","employeeID","toString","minOpacity","logCoefficient","log2","maxWeight","svg","select","append","attr","style","call","zoom","on","event","transform","scaleExtent","selectAll","data","enter","d","target","source","weight"],"mappings":";;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,KAA/B,EAAsCC,WAAtC,EAAmD;AAEjD,MAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAAnD;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,MAAIM,CAAC,GAAGL,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCK,WAA9C;AACA,MAAIC,CAAC,GAAGP,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCO,YAA9C;AAEA,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,CAAC,GAAGV,KAAK,CAACe,MAArB,IAA+B,CAAlD,CAPiD,CASjD;;AACA,MAAIC,aAAa,GAAG,EAApB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,KAAK,CAACe,MAA1B,EAAkCE,CAAC,EAAnC,EAAuC;AACrC,QAAIC,QAAQ,GAAIlB,KAAK,CAACiB,CAAD,CAAL,CAASE,UAAV,CAAsBC,QAAtB,EAAf;AACAJ,IAAAA,aAAa,CAACE,QAAD,CAAb,GAA0BD,CAA1B;AACD;;AAED,MAAMI,UAAU,GAAG,GAAnB,CAhBiD,CAgBzB;;AACxB,MAAMC,cAAc,GAAG,CAAC,IAAID,UAAL,IAAmBR,IAAI,CAACU,IAAL,CAAUtB,WAAW,CAACuB,SAAtB,CAA1C,CAjBiD,CAiB2B;;AAE5E,MAAIC,GAAG,GAAG5B,EAAE,CACT6B,MADO,CACA,MAAMxB,IADN,EAEPyB,MAFO,CAEA,KAFA,EAGPC,IAHO,CAGF,QAHE,EAGQlB,CAHR,EAIPkB,IAJO,CAIF,OAJE,EAIOpB,CAJP,EAKPqB,KALO,CAKD,YALC,EAKa,OALb,EAMPC,IANO,CAONjC,EAAE,CAACkC,IAAH,GAAUC,EAAV,CAAa,MAAb,EAAqB,UAACC,KAAD,EAAW;AAC9BR,IAAAA,GAAG,CAACG,IAAJ,CAAS,WAAT,EAAsBK,KAAK,CAACC,SAA5B,EAAuCC,WAAvC,CAAmD,CAAC,CAAD,EAAI,EAAJ,CAAnD;AACD,GAFD,CAPM,EAWPR,MAXO,CAWA,GAXA,CAAV,CAnBiD,CAgCjD;AACA;AACA;AACA;;AAEAF,EAAAA,GAAG,CAACW,SAAJ,CAAc,MAAd,EACGC,IADH,CACQtC,KADR,EAEGuC,KAFH,GAGGX,MAHH,CAGU,MAHV,EAIGC,IAJH,CAIQ,GAJR,EAIa,UAACW,CAAD,EAAO;AAChB,WAAOvB,aAAa,CAAEuB,CAAC,CAACC,MAAH,CAAWpB,QAAX,EAAD,CAAb,GAAuCR,UAA9C;AACD,GANH,EAOGgB,IAPH,CAOQ,GAPR,EAOa,UAACW,CAAD,EAAO;AAChB,WAAOvB,aAAa,CAAEuB,CAAC,CAACE,MAAH,CAAWrB,QAAX,EAAD,CAAb,GAAuCR,UAA9C;AACD,GATH,EAUGgB,IAVH,CAUQ,QAVR,EAUkBhB,UAVlB,EAWGgB,IAXH,CAWQ,OAXR,EAWiBhB,UAXjB,EAYGgB,IAZH,CAYQ,MAZR,EAYgB,OAZhB,EAaGC,KAbH,CAaS,SAbT,EAaqB,UAACU,CAAD,EAAO;AAAE,WAAQ1B,IAAI,CAACU,IAAL,CAAUgB,CAAC,CAACG,MAAZ,IAAsBpB,cAAvB,GAAyCD,UAAhD;AAA4D,GAb1F,EArCiD,CAkD8C;AAEhG;;AAED,eAAevB,cAAf","sourcesContent":["import * as d3 from \"d3\";\r\n\r\nfunction generateMatrix(edges, nodes, edgeWeights) {\r\n\r\n  var side = document.getElementById(\"testSelectAM\").value;\r\n  console.log(side)\r\n  var w = document.getElementById(\"viscontent\").clientWidth;\r\n  var h = document.getElementById(\"viscontent\").clientHeight;\r\n\r\n  const squareSize = Math.floor(h / nodes.length) - 1;\r\n\r\n  // nodePositions is an object that stores the positions where the nodes should be displayed in the adj matrix\r\n  var nodePositions = {};\r\n  for (var i = 0; i < nodes.length; i++) {\r\n    let position = (nodes[i].employeeID).toString()\r\n    nodePositions[position] = i;\r\n  }\r\n\r\n  const minOpacity = 0.3; // opacity of an edge with weight 1\r\n  const logCoefficient = (1 - minOpacity) / Math.log2(edgeWeights.maxWeight); // coeficient that is used to calculate opacity\r\n\r\n  var svg = d3\r\n    .select('#' + side)\r\n    .append(\"svg\")\r\n    .attr(\"height\", h)\r\n    .attr(\"width\", w)\r\n    .style(\"background\", \"black\")\r\n    .call(\r\n      d3.zoom().on(\"zoom\", (event) => {\r\n        svg.attr(\"transform\", event.transform).scaleExtent([1, 24]);\r\n      })\r\n    )\r\n    .append(\"g\");\r\n\r\n  // svg.append(\"rect\")\r\n  // .attr(\"height\", 30)\r\n  // .attr(\"width\", 30)\r\n  // .attr(\"fill\", \"white\");\r\n\r\n  svg.selectAll(\"rect\")\r\n    .data(edges)\r\n    .enter()\r\n    .append(\"rect\")\r\n    .attr(\"x\", (d) => {\r\n      return nodePositions[(d.target).toString()] * squareSize;\r\n    })\r\n    .attr(\"y\", (d) => {\r\n      return nodePositions[(d.source).toString()] * squareSize;\r\n    })\r\n    .attr(\"height\", squareSize)\r\n    .attr(\"width\", squareSize)\r\n    .attr(\"fill\", \"white\")\r\n    .style(\"opacity\", ((d) => { return (Math.log2(d.weight) * logCoefficient) + minOpacity }));  // this makes it so that overlayed rectangles can be seen (kind of adds weights to the edges)\r\n\r\n}\r\n\r\nexport default generateMatrix"]}]}